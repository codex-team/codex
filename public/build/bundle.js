var codex=function(e){function t(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=18)}([function(e,t,n){"use strict";e.exports=function(e){function t(){codex.dragndrop({droppableClass:"list-item",findDraggable:function(e){var t=e.target.closest(".draggable");return t?t.closest(".list-item"):null},makeAvatar:function(e){var t={};return t.elem=e.cloneNode(!0),t.elem.classList.add("dnd-avatar"),e.parentNode.insertBefore(t.elem,e.nextSibling),e.classList.add("no-display"),t.rollback=function(){t.elem.parentNode.removeChild(t.elem),e.classList.remove("no-display")},t},targetChanged:function(e,t,n){if(t){var s=t.compareDocumentPosition(n.elem);4&s?t.parentNode.insertBefore(n.elem,t):2&s&&t.parentNode.insertBefore(n.elem,t.nextSibling)}},move:function(){},targetReached:function(e,t,n){e.parentNode.insertBefore(n,e.nextSibling),t.elem.parentNode.removeChild(t.elem),n.classList.remove("no-display");var s=n.dataset.id,o=n.dataset.type,r=null;void 0==n.nextElementSibling&&(r=(void 0).dataset.type+":"+(void 0).dataset.id);var a={success:function(){document.getElementById("saved").classList.remove("top-menu__saved_hidden"),window.setTimeout(function(){document.getElementById("saved").classList.add("top-menu__saved_hidden")},1e3)},type:"POST",url:"/admin/feed",data:JSON.stringify({item_id:s,item_type:o,item_below_value:r})};codex.core.ajax(a)}})}return e.init=function(e){if(codex.core.log("Initialized.","Module admin"),"cards"==e.listType)for(var n=document.querySelectorAll(".feed-item"),s=n.length-1;s>-1;s--)n[s].classList.add("draggable"),n[s].classList.add("feed-item--dnd"),n[s].classList.add("list-item");t()},e}({})},function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return{xhr:function(e){var t=function(e){var t,s,o,r,a;if(s=[],a=/%20/g,o=function(e,t){t="function"==typeof t?t():null===t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)},e instanceof Array)for(r in e)o(r,e[r]);else for(t in e)n(t,e[t],o);return s.join("&").replace(a,"+")},n=function e(t,n,o){var r,a,i,l;if(l=/\[\]$/,n instanceof Array)for(a=0,i=n.length;a<i;a++)l.test(t)?o(t,n[a]):e(t+"["+("object"===s(n[a])?a:"")+"]",n[a],o);else if("object"==(void 0===n?"undefined":s(n)))for(r in n)e(t+"["+r+"]",n[r],o);else o(t,n)};e.call=function(e){if(!e||!e.url)return void console.warn("url wasn't passed into ajax method");var n,s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.type=e.type||"GET",e.url=e.url,e.async=e.async||!1,e.data=e.data||"",e.formData=e.formData||!1,e["content-type"]=e.contentType||"text/html",n=e.success||n,"GET"==e.type&&e.data&&(e.url=/\?/.test(e.url)?e.url+"&"+e.data:e.url+"?"+e.data),e.beforeSend&&"function"==typeof e.beforeSend&&e.beforeSend.call(),s.open(e.type,e.url,e.async),s.setRequestHeader("Content-type",e["content-type"]),s.setRequestHeader("Connection","close"),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&n&&n.call(s.responseText)},s.send(e.formData||t(e.data))},e.parseHTML=function(e){var t=document.implementation.createHTMLDocument("");return e.toLowerCase().indexOf("<!doctype")>-1?t.documentElement.innerHTML=e:t.body.innerHTML=e,t},/**
         * Adapted from {@link http://www.bulgaria-web-developers.com/projects/javascript/serialize/}
         * Changes:
         *     Ensures proper URL encoding of name as well as value
         *     Preserves element order
         *     XHTML and JSLint-friendly
         *     Disallows disabled form elements and reset buttons as per HTML4 [successful controls]{@link http://www.w3.org/TR/html401/interact/forms.html#h-17.13.2}
         *         (as used in jQuery). Note: This does not serialize <object>
         *         elements (even those without a declare attribute) or
         *         <input type="file" />, as per jQuery, though it does serialize
         *         the <button>'s (which are potential HTML4 successful controls) unlike jQuery
         * @license MIT/GPL
        */
e.serialize=function(e){function t(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function n(e,n){l.push(t(e)+"="+t(n))}var s,o,r,a,i,l=[];if(!e||!e.nodeName||"form"!==e.nodeName.toLowerCase())throw"You must supply a form element";for(s=0,r=e.elements.length;s<r;s++)if(i=e.elements[s],""!==i.name&&!i.disabled)switch(i.nodeName.toLowerCase()){case"input":switch(i.type){case"text":case"email":case"hidden":case"password":case"button":case"submit":n(i.name,i.value);break;case"checkbox":case"radio":i.checked&&n(i.name,i.value)}break;case"textarea":n(i.name,i.value);break;case"select":switch(i.type){case"select-one":n(i.name,i.value);break;case"select-multiple":for(o=0,a=i.options.length;o<a;o++)i.options[o].selected&&n(i.name,i.options[o].value)}break;case"button":switch(i.type){case"reset":case"submit":case"button":n(i.name,i.value)}}return l.join("&")}}}}();e.exports=o},function(e,t,n){"use strict";var s=function(){var e=function(e){var t={data:"id="+e.target.id+"&value="+(e.target.checked?1:0),url:"/admin/developer"};codex.core.ajax(t)};return{bind:function(){for(var t=document.querySelectorAll(".developer-checkbox"),n=t.length-1;n>-1;n--)t[n].addEventListener("change",e)}}}();e.exports=s},function(e,t,n){"use strict";e.exports=function(){var e=function(e,t,n,s){if(t){for(t=t.length<32?t:t.substr(0,30);t.length<31;)t+=" ";t+=":",e=t+e}n=n||"log";try{"console"in window&&window.console[n]&&(s?console[n](e,s):console[n](e))}catch(e){}};return{ajax:function(e){if(e&&e.url){var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n=function(){};e.async=!0,e.type=e.type||"GET",e.data=e.data||"",e["content-type"]=e["content-type"]||"application/json; charset=utf-8",n=e.success||n,"GET"==e.type&&e.data&&(e.url=/\?/.test(e.url)?e.url+"&"+e.data:e.url+"?"+e.data),e.withCredentials&&(t.withCredentials=!0),e.beforeSend&&"function"==typeof e.beforeSend&&e.beforeSend.call(),t.open(e.type,e.url,e.async),t.setRequestHeader("Content-type",e["content-type"]),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&n(t.responseText)},t.send(e.data)}},log:e}}()},function(e,t,n){"use strict";e.exports=function(e){var t={findDraggable:function(e){return e.target.closest("."+n)},findDroppable:function(e){return document.elementFromPoint(e.clientX,e.clientY).closest("."+s)},makeAvatar:function(e){var t={},n=function(){t.elem.classList.remove("dnd-default-avatar"),t.nextSibling?t.parentNode.insertBefore(t.elem,t.nextSibling):t.parentNode.appendChild(t.elem),delete c.avatar};return t={elem:e,parentNode:e.parentNode,nextSibling:e.nextElementSibling,rollback:n},t.elem.classList.add("dnd-default-avatar"),t},targetChanged:function(e,t){e&&e.classList("dnd-default-target-highlight"),t&&t.classList.add("dnd-default-target-highlight")},move:function(e,t,n){t.elem.style.left=e.pageX-n.x+"px",t.elem.style.top=e.pageY-n.y+"px"},targetReached:function(e,t,n){e.classList.remove("dnd-default-target-highlight"),e.parentNode.insertBefore(n,e.nextElementSibling),t.elem.classList.remove("dnd-default-avatar")}},n=e.draggableClass||"draggable",s=e.droppableClass||"droppable",o=e.findDraggable||t.findDraggable,r=e.findDroppable||t.findDroppable,a=e.makeAvatar||t.makeAvatar,i=e.targetChanged||t.targetChanged,l=e.move||t.move,u=e.targetReached||t.targetReached,c={},d=function(e){if(!(e.which>1)&&(e=g(e),c.clickedAt={x:e.pageX,y:e.pageY},c.elem=o(e),c.elem)){h();var t=f(c.elem);c.shift={x:e.pageX-t.x,y:e.pageY-t.y}}},p=function(e){if(c.elem&&(e.preventDefault(),e=g(e),!(Math.abs(e.pageX-c.clickedAt.x)<5&&Math.abs(e.pageY-c.clickedAt.y)<5))){c.avatar||(c.avatar=a(c.elem));var t=r(e);t!=c.target&&(i(c.target,t,c.avatar),c.target=t),l(e,c.avatar,c.shift)}},m=function(e){if(!(e.which>1)){if(!c.avatar)return void(c={});e=g(e);var t=r(e);t?u(t,c.avatar,c.elem,e):c.avatar.rollback(),c={},h()}},f=function(e){var t=e.getBoundingClientRect();return{x:t.left+window.pageXOffset,y:t.top+window.pageYOffset}},g=function(e){if(!e.changedTouches)return e;var t=e.changedTouches[0];return e.pageX=t.pageX,e.pageY=t.pageY,e.clientX=t.clientX,e.clientY=t.clientY,e.screenX=t.screenX,e.screenY=t.screenY,e.target=t.target,e},h=function(){document.body.classList.toggle("no-selection")};document.addEventListener("mousedown",d),document.addEventListener("touchstart",d),document.addEventListener("mousemove",p),document.addEventListener("touchmove",p),document.addEventListener("mouseup",m),document.addEventListener("touchend",m),document.ondragstart=function(){return!1}}},function(e,t,n){"use strict";e.exports=function(e){return e.setCookie=function(e,t,n,s,o){var r=e+"="+t;n&&(r+="; expires="+n.toGMTString()),s&&(r+="; path="+s),o&&(r+="; domain="+o),document.cookie=r},e.getCookie=function(e){var t=document.cookie,n=e+"=",s=t.indexOf("; "+n);if(-1==s){if(0!==(s=t.indexOf(n)))return null}else s+=2;var o=document.cookie.indexOf(";",s);return-1==o&&(o=t.length),unescape(t.substring(s+n.length,o))},e.getOffset=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft+e.clientLeft,n+=e.offsetTop+e.clientTop,e=e.offsetParent;return{top:n,left:t}},e}({})},function(e,t,n){"use strict";var s=function(){var e=function(e){var t=e.target,n=document.getElementById("js-join-auth"),s=document.getElementById("js-email");n&&!s.value.length&&(n.classList.add("wobble"),window.setTimeout(function(){return n.classList.remove("wobble")},450),t.value="")},t=function(){document.getElementById("blankAdditionalFields").classList.toggle("hide")};return{init:function(){var n=document.getElementById("joinBlank");if(void 0!==n&&null!==n){var s=n.getElementsByTagName("textarea");if(s.length)for(var o=s.length-1;o>=0;o--)s[o].addEventListener("keyup",e,!1)}var r=document.getElementById("blankShowAdditionalFieldsButton");void 0!==r&&null!==r&&r.addEventListener("click",t,!1)}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}();e.exports=s},function(e,t,n){"use strict";e.exports=function(){return{uploadPhotoSuccess:function(e){var t=document.getElementById("profile-photo-updatable"),n=document.getElementById("header-avatar-updatable");t.src=e,n.src=e}}}()},function(e,t,n){"use strict";e.exports=function(){var e=null,t=null,n=null,s=null,o=null,r=function(o,r){e=o,t=e.questions.length,n=0,s=0,i.prepare(),a.prepare(r),a.setupQuestionInterface()},a={holder:null,currentQuestionObj:null,questionElems:null,prepare:function(e){a.holder=document.getElementById(e),a.holder.classList.add("quiz"),a.holder.classList.add("clearfix")},setupQuestionInterface:function(){a.clear();var e,t,n,s;e=a.createElem("div","quiz__question-title"),t=a.createElem("div","quiz__question-options"),n=a.createElem("div","quiz__question-counter"),s=a.createElem("input",["quiz__question-button","quiz__question-button_next"]),s.setAttribute("type","button"),s.setAttribute("value","Далее →"),a.questionElems={counter:n,title:e,optionsHolder:t,options:[],nextButton:s},a.append(a.questionElems),a.showQuestion()},showQuestion:function(){a.clear(a.questionElems.optionsHolder),a.questionElems.options=[],a.questionElems.nextButton.removeEventListener("click",a.showQuestion),a.currentQuestionObj=e.questions[n],a.questionElems.nextButton.setAttribute("disabled",!0),a.questionElems.title.textContent=a.currentQuestionObj.title,a.questionElems.counter.textContent=n+1+"/"+t,a.currentQuestionObj.answers.map(a.createOption)},answerSelected:function(e){e.classList.add("quiz__question-answer_selected"),a.questionElems.options.map(function(e){e.removeEventListener("click",i.getUserAnswer)}),a.questionElems.nextButton.disabled=!1,n<t-1?a.questionElems.nextButton.addEventListener("click",a.showQuestion):a.questionElems.nextButton.addEventListener("click",a.showResult),a.showAnswer(e),n++},showAnswer:function(e){var t=e.dataset.score>0?"_right":"_wrong",n=e.dataset.index;e.classList.add("quiz__question-answer"+t);var s=a.createElem("div","quiz__answer-message");s.textContent=a.currentQuestionObj.answers[n].message,a.insertAfter(s,e),0==e.dataset.score&&a.showCorrectAnswers()},showCorrectAnswers:function(){a.questionElems.options.map(function(e){e.dataset.score>0?e.classList.add("quiz__question-answer_right"):e.classList.add("quiz__question-answer_wrong")})},showResult:function(){var t=s+"/"+o;a.questionElems.nextButton.removeEventListener("click",a.showResult),a.clear();var n=a.createElem("div","quiz__result-score");n.textContent=t;var l=a.createElem("div","quiz__result-message");l.textContent=i.getMessage();var u=a.createElem("div","quiz__sharing");a.createSocial(u,t);var c=a.createElem("div","quiz__retry-button");c.textContent="Пройти еще раз",c.addEventListener("click",r.bind(null,e,a.holder.id)),a.append([n,l,u,c]),codex.sharer.init()},createSocial:function(t,n){[{title:"Share on the VK",shareType:"vkontakte",class:"vk",icon:"icon-vkontakte"},{title:"Share on the Facebook",shareType:"facebook",class:"fb",icon:"icon-facebook-squared"},{title:"Tweet",shareType:"twitter",class:"tw",icon:"icon-twitter"},{title:"Forward in Telegramm",shareType:"telegram",class:"tg",icon:"icon-paper-plane"}].map(function(s){var o=a.createElem("span",["but",s.class]),r=a.createElem("i",s.icon),i=null;o.dataset.shareType=s.shareType,o.setAttribute("title",s.title),e.shareMessage&&(i=e.shareMessage.replace("$score",n)),i=i||"Я набрал "+n+" в "+(e.title||"тесте от команды CodeX"),o.dataset.url=window.location.href,o.dataset.title=i,o.dataset.desc=e.description||"",a.append(r,o),a.append(o,t)})},createOption:function(e,t){var n=a.createElem("div","quiz__question-answer");n.dataset.score=e.score,n.dataset.index=t,n.textContent=e.text,n.addEventListener("click",i.getUserAnswer),a.questionElems.options.push(n),a.append(n,a.questionElems.optionsHolder)},createElem:function(e,t){var n=document.createElement(e);if(!t)return n;if(t instanceof Array)for(var s in t)n.classList.add(t[s]);else n.classList.add(t);return n},append:function(e,t){if(t=t||a.holder,e instanceof Element)t.appendChild(e);else for(var n in e)e[n]instanceof Element&&t.appendChild(e[n])},insertAfter:function(e,t){t.nextSibling?a.questionElems.optionsHolder.insertBefore(e,t.nextSibling):a.append(e,t.parentNode)},clear:function(e){for(e=e||a.holder;e.firstChild;)e.removeChild(e.firstChild)}},i={prepare:function(){o=0,e.questions.map(function(e){e.answers.map(function(e){o+=parseFloat(e.score)})})},getUserAnswer:function(e){var t=e.currentTarget;s+=parseFloat(t.dataset.score),a.answerSelected(t)},getMessage:function(){var t,n=e.resultMessages;if(n.sort(function(e,t){return e.score-t.score}),n.length){for(var o in n){if(s<n[o].score)break;t=n[o].message}return t}}};return{init:r}}()},function(e,t,n){"use strict";e.exports=function(e){e.form=null,e.nodes={title:null,description:null,questions:[],resultMessages:[],shareMessage:null},e.questionInsertAnchor=null,e.questionInsertButton=null,e.resultMessageInsertAnchor=null,e.resultMessageInsertButton=null,e.resultMessagesHolder=null;var t=function(e,t,n){n=n||"";var s=document.createElement(e),o=document.createTextNode(n);s.appendChild(o);for(var r in t){var a=document.createAttribute(r);a.value=t[r],s.setAttributeNode(a)}return s},n=function(n,s){var o={},r=e.nodes.questions[n],l=r.answers.length;s=s||{},o.holder=t("tr",{class:"quiz-form__question-answer-holder","data-question-index":n,"data-object-index":l}),o.textColumn=t("td",{class:"quiz-form__question-answer-text-column"}),o.text=t("input",{type:"text",class:"quiz-form__question-answer-text",value:s.text||"",required:"",form:"null"}),o.scoreColumn=t("td",{class:"quiz-form__question-answer-score-column"}),o.score=t("input",{type:"number",min:"0",step:"1",value:s.score||"0",class:"quiz-form__question-answer-score",required:"",form:"null"}),o.messageColumn=t("td",{class:"quiz-form__question-answer-message-column"}),o.message=t("input",{type:"text",class:"quiz-form__question-answer-message",value:s.message||"",required:"",form:"null"}),o.destroyButtonColumn=t("td",{class:"quiz-form__question-answer-destroy-button-column"}),o.destroyButton=t("span",{class:"quiz-form__question-answer-destroy-button"}),o.destroyButtonCross=t("img",{class:"quiz-form__button-cross",src:"/public/app/img/quizzes/cross.svg"}),o.textColumn.appendChild(o.text),o.scoreColumn.appendChild(o.score),o.messageColumn.appendChild(o.message),o.destroyButton.appendChild(o.destroyButtonCross),o.destroyButtonColumn.appendChild(o.destroyButton),o.holder.appendChild(o.textColumn),o.holder.appendChild(o.scoreColumn),o.holder.appendChild(o.messageColumn),o.holder.appendChild(o.destroyButtonColumn),r.answers.push(o),i(o),a(r.answers)},s=function(s){var o={},r=e.nodes.questions.length;s=s||{},o.holder=t("div",{class:"quiz-form__question-holder","data-object-index":r}),o.number=t("label",{class:"quiz-form__question-number"},"Вопрос "+(r+1)),o.destroyButton=t("span",{class:"quiz-form__question-destroy-button"}),o.destroyButtonCross=t("img",{class:"quiz-form__button-cross",src:"/public/app/img/quizzes/cross.svg"}),o.titleLabel=t("label",{class:"quiz-form__label quiz-form__question-title-label"},"Заголовок вопроса"),o.title=t("input",{type:"text",class:"quiz-form__question-title",value:s.title||"",required:"",form:"null"}),o.answers=[],o.answersHolder=t("table",{class:"quiz-form__question-answers-holder"}),o.answersHead=t("thead",{class:"quiz-form__question-answers-head"}),o.answersLabel=t("th",{class:"quiz-form__label quiz-form__question-answers-label"},"Ответы"),o.scoresLabel=t("th",{class:"quiz-form__label quiz-form__question-scores-label"},"Баллы"),o.messagesLabel=t("th",{class:"quiz-form__label quiz-form__question-messages-label"},"Комментарии к ответам"),o.destroyButtonLabel=t("th",{class:"quiz-form__question-destroy-buttons-label"}),o.addAnswerButtonRow=t("tr",{class:"quiz-form__question-add-answer-button-row"}),o.addAnswerButtonColumn=t("td",{class:"quiz-form__question-add-answer-button-column"}),o.addAnswerButton=t("span",{class:"quiz-form__question-add-answer-button"},"Добавить ответ"),o.addAnswerButtonPlus=t("img",{class:"quiz-form__button-plus",src:"/public/app/img/quizzes/plus.svg"}),o.holder.appendChild(o.number),o.destroyButton.appendChild(o.destroyButtonCross),o.holder.appendChild(o.destroyButton),o.holder.appendChild(o.titleLabel),o.holder.appendChild(o.title),o.answersHead.appendChild(o.answersLabel),o.answersHead.appendChild(o.scoresLabel),o.answersHead.appendChild(o.messagesLabel),o.answersHead.appendChild(o.destroyButtonLabel),o.answersHolder.appendChild(o.answersHead),o.addAnswerButton.insertBefore(o.addAnswerButtonPlus,o.addAnswerButton.firstChild),o.addAnswerButtonColumn.appendChild(o.addAnswerButton),o.addAnswerButtonRow.appendChild(o.addAnswerButtonColumn),o.answersHolder.appendChild(o.addAnswerButtonRow),o.holder.appendChild(o.answersHolder),e.nodes.questions.push(o),s.answers?s.answers.map(function(e){n(r,e)}):(n(r),n(r),n(r)),i(o),a(e.nodes.questions)},o=function(n){var s={},o=e.nodes.resultMessages.length;n=n||{},s.holder=t("tr",{class:"quiz-form__message-holder","data-object-index":o}),s.messageColumn=t("td",{class:"quiz-form__message-message-column"}),s.message=t("input",{type:"text",class:"quiz-form__message-message",value:n.message||"",required:"",form:"null"}),s.scoreColumn=t("td",{class:"quiz-form__message-score-column"}),s.score=t("input",{type:"number",min:"0",step:"1",value:n.score||"0",class:"quiz-form__message-score",required:"",form:"null"}),s.destroyButtonColumn=t("td",{class:"quiz-form__message-destroy-button-column"}),s.destroyButton=t("span",{class:"quiz-form__message-destroy-button"}),s.destroyButtonCross=t("img",{class:"quiz-form__button-cross",src:"/public/app/img/quizzes/cross.svg"}),s.messageColumn.appendChild(s.message),s.scoreColumn.appendChild(s.score),s.destroyButton.appendChild(s.destroyButtonCross),s.destroyButtonColumn.appendChild(s.destroyButton),s.holder.appendChild(s.messageColumn),s.holder.appendChild(s.scoreColumn),s.holder.appendChild(s.destroyButtonColumn),e.nodes.resultMessages.push(s),i(s),a(e.nodes.resultMessages)},r=function(e,t){e.holder.dataset.objectIndex=t-1,e.number&&(e.number.textContent="Вопрос "+t)},a=function(e){e.length<=1?(e[0].destroyButton.style.display="none",e[0].firstChild&&(e[0].firstChild.style.display="none")):(e[0].destroyButton.style.display="",e[0].firstChild&&(e[0].firstChild.style.display=""))},i=function(t){var n,s;t.answers?(n=e.questionInsertAnchor,s=e.form):t.text?(n=e.nodes.questions[parseInt(t.holder.dataset.questionIndex)].addAnswerButtonRow,s=e.nodes.questions[parseInt(t.holder.dataset.questionIndex)].answersHolder):(n=e.resultMessageInsertAnchor,s=e.resultMessagesHolder),s.insertBefore(t.holder,n)},l=function(e,t){e[t].holder.parentNode.removeChild(e[t].holder),e.splice(t,1);for(var n=t;n<e.length;n++)r(e[n],n+1);a(e)},u=function(){e.form.onsubmit=function(n){n.preventDefault();var s={title:e.form.querySelector('[name="title"]').value,description:e.form.querySelector('[name="description"]').value,questions:[],resultMessages:[],shareMessage:e.form.querySelector('[name="shareMessage"]').value};for(var o in e.nodes.questions){var r={};r.title=e.nodes.questions[o].title.value,r.answers=[];for(var a in e.nodes.questions[o].answers){var i={};i.text=e.nodes.questions[o].answers[a].text.value,i.score=e.nodes.questions[o].answers[a].score.value,i.message=e.nodes.questions[o].answers[a].message.value,r.answers.push(i)}s.questions.push(r)}for(var o in e.nodes.resultMessages){var l={};l.score=e.nodes.resultMessages[o].score.value,l.message=e.nodes.resultMessages[o].message.value,s.resultMessages.push(l)}e.form.appendChild(t("input",{type:"hidden",name:"quiz_data",value:JSON.stringify(s)})),e.form.submit()},e.questionInsertButton.onclick=function(){s()},e.resultMessageInsertButton.onclick=function(){o()},e.form.onclick=function(t){var s,o;t.target.classList.contains("quiz-form__question-destroy-button")?(s=e.nodes.questions,o=parseInt(t.target.parentNode.dataset.objectIndex)):t.target.parentNode.classList.contains("quiz-form__question-destroy-button")?(s=e.nodes.questions,o=parseInt(t.target.parentNode.parentNode.dataset.objectIndex)):t.target.classList.contains("quiz-form__question-answer-destroy-button")?(s=e.nodes.questions[parseInt(t.target.parentNode.parentNode.dataset.questionIndex)].answers,o=parseInt(t.target.parentNode.parentNode.dataset.objectIndex)):t.target.parentNode.classList.contains("quiz-form__question-answer-destroy-button")?(s=e.nodes.questions[parseInt(t.target.parentNode.parentNode.parentNode.dataset.questionIndex)].answers,o=parseInt(t.target.parentNode.parentNode.parentNode.dataset.objectIndex)):t.target.classList.contains("quiz-form__message-destroy-button")?(s=e.nodes.resultMessages,o=parseInt(t.target.parentNode.parentNode.dataset.objectIndex)):t.target.classList.contains("quiz-form__question-add-answer-button")&&(s=null,o=parseInt(t.target.parentNode.parentNode.parentNode.parentNode.dataset.objectIndex)),null===s?n(o):void 0!==s&&l(s,o)}},c=function(){o()},d=function(){s()},p=function(){e.form=document.forms.quizForm,e.questionInsertAnchor=document.getElementById("questionInsertAnchor"),e.questionInsertButton=document.getElementById("questionInsertButton"),e.resultMessageInsertAnchor=document.getElementById("resultMessageInsertAnchor"),e.resultMessageInsertButton=document.getElementById("resultMessageInsertButton"),e.resultMessagesHolder=document.getElementById("resultMessagesHolder")},m=function(){a(e.nodes.questions),a(e.nodes.resultMessages),a(e.nodes.questions[0].answers)},f=function(e){var t=e.questions,n=e.resultMessages;document.querySelector('[name="title"]').value=e.title,document.querySelector('textarea[name="description"]').textContent=e.description,document.querySelector('[name="shareMessage"]').value=e.shareMessage,p(),n.map(function(e){o(e)}),t.map(function(e){s(e)}),u(),m()};return e.init=function(e){if(e)return void f(e);p(),d(),c(),u(),m()},e}({})},function(e,t,n){"use strict";e.exports=function(){var e=null,t=function(){window.scrollTo(0,0)},n=function(){window.pageYOffset>100?e.classList.add("show"):e.classList.remove("show")};return{init:function(){e=document.createElement("DIV"),e.classList.add("scroll-up"),document.body.appendChild(e),e.addEventListener("click",t),window.addEventListener("scroll",n)}}}()},function(e,t,n){"use strict";e.exports=function(e){return e.vkontakte=function(t){var n="https://vk.com/share.php?";n+="url="+t.url,n+="&title="+t.title,n+="&description="+t.desc,n+="&image="+t.img,n+="&noparse=true",e.popup(n,"vkontakte")},e.facebook=function(t){var n="https://www.facebook.com/dialog/share?display=popup";n+="&app_id=1740455756240878",n+="&href="+t.url,n+="&redirect_uri="+document.location.href,e.popup(n,"facebook")},e.twitter=function(t){var n="https://twitter.com/share?";n+="text="+t.title,n+="&url="+t.url,n+="&counturl="+t.url,e.popup(n,"twitter")},e.telegram=function(t){var n="https://telegram.me/share/url";n+="?text="+t.title,n+="&url="+t.url,e.popup(n,"telegram")},e.popup=function(e,t){window.open(e,"","toolbar=0,status=0,width=626,height=436"),window.yaCounter32652805&&window.yaCounter32652805.reachGoal("article-share",function(){},this,{type:t,url:e})},e.init=function(){for(var t=document.querySelectorAll(".sharing .but, .sharing .main_but, .quiz__sharing .but"),n=t.length-1;n>=0;n--)t[n].addEventListener("click",e.click,!0)},e.click=function(t){var n=t.target,s=n.dataset.shareType||n.parentNode.dataset.shareType;if(e[s]){var o={url:n.dataset.url||n.parentNode.dataset.url,title:n.dataset.title||n.parentNode.dataset.title,desc:n.dataset.desc||n.parentNode.dataset.desc,img:n.dataset.img||n.parentNode.dataset.title};e[s](o)}},e}({})},function(e,t,n){"use strict";var s=function(){return{init:function(e){for(var t,n=document.querySelectorAll(".news__list_item"),s=[],o=0;t=n[o];o++)t.classList.contains("news__list_item--hidden")&&s.push(t);s.splice(0,5).map(function(e){e.classList.remove("news__list_item--hidden")}),s.length||e.classList.add("news__list_item--hidden")}}}();e.exports=s},function(e,t,n){"use strict";var s=function(e){return e.rules={comments:function(e){return e.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*\/)/g,"<span class=sc_comment>$1</span>")},commentsInline:function(e){return e.replace(/[^\w:](\/\/[^\n]+)/g,"<span class=sc_comment>$1</span>")},tags:function(e){return e.replace(/(&lt;[\/a-z]+(&gt;)?)/gi,"<span class=sc_tag>$1</span>")},attrs:function(e){return e.replace(/"([^"]+)"/gi,'"<span class=sc_attr>$1</span>"')},strings:function(e){return e.replace(/'([^']+)'/gi,"'<span class=sc_attr>$1</span>'")},keywords:function(e){return e.replace(/\b(var|const|function|typeof|return|endif|endforeach|foreach|if|for|in|while|break|continue|switch|case|int|void|python|from|import|install|def|virtualenv|source|sudo|git)([^a-z0-9\$_])/g,"<span class=sc_keyword>$1</span>$2")},digits:function(e){return e.replace(/\b(\d+)\b/g,"<span class=sc_digt>$1</span>")},vars:function(e){return e.replace(/(\$[^\s\[\]\{\}\'\"\(\)]+)\b/g,"<span class=sc_var>$1</span>")},colors:function(e){return e.replace(/(#[a-z0-9]{3,6})/gi,"<span class=sc_color style=border-bottom-color:$1>$1</span>")}},e.process=function(e){var t=e.innerHTML;for(var n in s.rules)t=s.rules[n](t);e.innerHTML=t},e.addStyles=function(){var e=document.getElementById("simpleCodeStylingCss");e||(e=document.createElement("style"),e.id="simpleCodeStylingCss",e.innerHTML=".sc_attr{color: #F57975;}.sc_tag{color: #7DA3F4;}.sc_keyword{color: #d87ccf;}.sc_digt{color: #37D755;}.sc_var{color: #8199C6;}.sc_comment{color: #acb1bd;}.sc_color{display: inline-block;line-height: 1em;border-bottom-width:2px;border-bottom-style:solid;}",document.head.appendChild(e))},e.init=function(e){s.addStyles();for(var t=document.querySelectorAll(e),n=t.length-1;n>=0;n--)s.process(t[n])},e}({});e.exports=s},function(module,exports,__webpack_require__){"use strict";module.exports=function(transport){return transport.currentButtonClicked={},transport.init=function(e){transport.form=document.getElementById("transportForm"),transport.input=document.getElementById("transportInput");for(var t=e.length-1;t>=0;t--)e[t].addEventListener("click",transport.buttonCallback,!1);transport.input.addEventListener("change",transport.submitCallback,!1)},transport.buttonCallback=function(){var e=this.dataset.action,t=this.dataset.id,n=!!this.dataset.multiple||!1;transport.fillForm({action:e,id:t}),n&&(transport.form.multiple="multiple"),transport.currentButtonClicked=this,transport.input.click()},transport.fillForm=function(e){var t,n;for(var s in e)void 0!==e[s]&&(n=transport.form.querySelector("input[name="+s+"]"),t=void 0!==n&&null!==n?n:document.createElement("input"),t.type="hidden",t.name=s,t.value=e[s],transport.form.appendChild(t))},transport.submitCallback=function(){for(var e=transport.getFileObject(this),t=e.length-1;t>=0;t--){if(!transport.validateExtension(e[t])||!transport.validateMIME(e[t]))return void(window.console&&console.warn("Wrong file type: %o",+e[t].name));if(!transport.validateSize(e[t],31457280))return void(window.console&&console.warn("File size exceeded limit: %o MB",e[t].size/1048576..toFixed(2)))}transport.currentButtonClicked.className+=" loading",transport.form.submit()},transport.response=function(response){transport.currentButtonClicked.className=transport.currentButtonClicked.className.replace("loading",""),response.callback&&eval(response.callback),response.result&&"error"==response.result&&window.console&&console.warn(response.error_description||"error")},transport.getFileObject=function(e){return!!e&&("function"==typeof ActiveXObject?new ActiveXObject("Scripting.FileSystemObject").getFile(e.value):e.files)},transport.validateMIME=function(e,t){t="array"==typeof t?t:["image/jpeg","image/png"];for(var n=t.length-1;n>=0;n--)if(e.type==t[n])return!0;return!1},transport.validateExtension=function(e,t){var n=e.name.match(/\.(\w+)($|#|\?)/);if(!n)return!1;n=n[1].toLowerCase(),t="array"==typeof t?t:["jpg","jpeg","png"];for(var s=t.length-1;s>=0;s--)if(n==t[s])return!0;return!1},transport.validateSize=function(e,t){return e.size<t},transport}({})},function(e,t,n){"use strict";var s=function(){var e,t,n,s=function(){var e=document.createElement("SCRIPT");e.src="https://vk.com/js/api/openapi.js",e.setAttribute("async","true"),e.onload=o,document.body.appendChild(e)},o=function(){window.VK.Widgets.Group(e,t,n)};return{init:function(o){if(e=o.id||null,t=o.display||{mode:3,width:"auto"},n=o.communityId||0,void 0==document.getElementById(e))return void console.log("Cannot find element with id "+e);s()}}}();e.exports=s},function(e,t){},function(e,t,n){"use strict";n(17);var s=function(e){return e.settings={},e.init=function(e){for(var t in e)this.settings[t]=e[t]||this.settings[t]||null;s.scrollUp.init(),s.simpleCode.init(".article__code"),s.vkWidget.init({id:"vk_groups",display:{mode:3,width:"auto"},communityId:103229636})},e}({});s.docReady=function(e){return/in/.test(document.readyState)?window.setTimeout(s.docReady,9,e):e()},s.admin=n(0),s.join=n(6),s.core=n(3),s.dragndrop=n(4),s.scrollUp=n(11),s.sharer=n(12),s.developer=n(2),s.simpleCode=n(14),s.showMoreNews=n(13),s.polyfills=n(7),s.ajax=n(1),s.profile=n(8),s.helpers=n(5),s.quiz=n(9),s.quizForm=n(10),s.transport=n(15),s.vkWidget=n(16),e.exports=s}]);