{"version":3,"sources":["webpack:///webpack/bootstrap 1ff72ba1180c3f26126f","webpack:///./public/app/js/modules/admin.js","webpack:///./public/app/js/modules/ajax.js","webpack:///./public/app/js/modules/bestDevelopers.js","webpack:///./public/app/js/modules/core.js","webpack:///./public/app/js/modules/dragndrop.js","webpack:///./public/app/js/modules/helpers.js","webpack:///./public/app/js/modules/join.js","webpack:///./public/app/js/modules/polyfills.js","webpack:///./public/app/js/modules/profile.js","webpack:///./public/app/js/modules/quiz.js","webpack:///./public/app/js/modules/quizForm.js","webpack:///./public/app/js/modules/scrollUp.js","webpack:///./public/app/js/modules/sharer.js","webpack:///./public/app/js/modules/showMoreNews.js","webpack:///./public/app/js/modules/simpleCodeStyling.js","webpack:///./public/app/js/modules/transport.js","webpack:///./public/app/css/main.css","webpack:///./public/app/js/main.js"],"names":["module","exports","admin","initDragNDrop","codex","dragndrop","droppableClass","findDraggable","e","target","closest","makeAvatar","elem","avatar","cloneNode","classList","add","parentNode","insertBefore","nextSibling","rollback","removeChild","remove","targetChanged","newTarget","targetPosition","compareDocumentPosition","move","targetReached","item_id","dataset","id","item_type","type","item_below_value","nextElementSibling","ajaxData","success","document","getElementById","setTimeout","url","data","JSON","stringify","core","ajax","init","params","log","listType","items","querySelectorAll","i","length","xhr","objectToQueryString","a","prefix","s","name","r20","output","key","value","encodeURIComponent","Array","buildParams","join","replace","obj","l","rbracket","test","call","console","warn","XMLHTTP","window","XMLHttpRequest","ActiveXObject","successCallback","async","formData","contentType","beforeSend","open","setRequestHeader","onreadystatechange","readyState","status","responseText","send","parseHTML","markup","doc","implementation","createHTMLDocument","toLowerCase","indexOf","documentElement","innerHTML","body","serialize","form","j","len","jLen","formElement","q","urlencode","str","addNameValue","push","nodeName","elements","disabled","checked","options","selected","developer","bind","chBoxes","addEventListener","toggle","event","arg","staticLength","substr","success_function","withCredentials","settings","defaultHandlers","draggableClass","findDroppable","elementFromPoint","clientX","clientY","avatarRollback","appendChild","dragObj","shift","style","left","pageX","x","top","pageY","y","onMouseDown","which","touchSupported","clickedAt","toggleSelection","coords","getCoords","onMouseMove","preventDefault","Math","abs","onMouseUp","rect","getBoundingClientRect","pageXOffset","pageYOffset","changedTouches","touch","screenX","screenY","ondragstart","helpers","setCookie","expires","path","domain","toGMTString","cookie","getCookie","dc","begin","end","unescape","substring","getOffset","el","_x","_y","isNaN","offsetLeft","offsetTop","clientLeft","clientTop","offsetParent","animationClass","joinBlank","joinBlankTextareas","getElementsByTagName","checkUserCanEdit","blankShowAdditionalFieldsButton","showAdditionalFields","textarea","blankAuthBlock","emailInput","blankAdditionalFields","polyfills","String","prototype","includes","apply","arguments","Element","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","selector","node","parentElement","uploadPhotoSuccess","newPhotoURL","settings_avatar","header_avatar","src","quizData","numberOfQuestions","currentQuestion","score","maxScore","quizDataInput","holder","questions","gameProcessing_","prepare","UI_","setupQuestionInterface","currentQuestionObj","questionElems","clear","title","optionsHolder","counter","nextButton","createElem","setAttribute","append","showQuestion","removeEventListener","textContent","answers","map","createOption","answerSelected","answer","current","getUserAnswer","showResult","showAnswer","answerStyle","answerIndex","index","answerMessage","message","insertAfter","showCorrectAnswers","result","resultScore","resultMessage","getMessage","social","createSocial","retry","sharer","networks","shareType","class","icon","button","shareMessage","location","href","desc","description","answerObj","text","tag","classes","createElement","elems","parent","elemBefore","firstChild","parseFloat","currentTarget","messages","resultMessages","sort","b","quiz","nodes","questionInsertAnchor","questionInsertButton","resultMessageInsertAnchor","resultMessageInsertButton","resultMessagesHolder","newDOMElement_","attributes","element","textNode","createTextNode","attr","attrNode","createAttribute","setAttributeNode","appendAnswerBlock_","questionIndex","answerData","question","objectIndex","textColumn","scoreColumn","messageColumn","destroyButtonColumn","destroyButton","destroyButtonCross","insertDOMElement_","updateDestroyIcons_","appendQuestionBlock_","questionData","number","titleLabel","answersHolder","answersHead","answersLabel","scoresLabel","messagesLabel","destroyButtonLabel","addAnswerButtonRow","addAnswerButtonColumn","addAnswerButton","addAnswerButtonPlus","appendResultMessageBlock_","messageData","setObjectNumber_","numberTo","container","display","before","parseInt","destroyObject_","elementIndex","splice","setEventListeners_","onsubmit","json","querySelector","jsonQuestion","jsonAnswer","jsonMessage","submit","onclick","contains","undefined","addInitialResultMessage_","addInitialQuestion_","setInitialFormParams_","forms","quizForm","updateInitialDestroyIcons_","render","SCROLL_UP_OFFSET","scrollPage","scrollTo","windowScrollHandler","vkontakte","link","img","popup","facebook","FB_APP_ID","twitter","telegram","social_type","yaCounter32652805","reachGoal","shareButtons","click","shareData","showMoreNews","PORTION","news","hided","newsItem","item","simpleCode","rules","comments","comments_inline","tags","attrs","strings","keywords","digits","vars","colors","process","origin","rule","addStyles","styleInstance","css","head","code_elements","transport","currentButtonClicked","buttons","input","buttonCallback","submitCallback","action","target_id","is_multiple","multiple","fillForm","alreadyAddedInput","field","FILE_MAX_SIZE","files","getFileObject","validateExtension","validateMIME","validateSize","size","toFixed","className","response","callback","eval","error_description","fileInput","getFile","fileObj","accept","ext","match","max_size","require","set","scrollUp","docReady","f","profile"],"mappings":"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","file":"./public/build/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1ff72ba1180c3f26126f","/**\n * Admin page methods\n */\nmodule.exports = function (admin) {\n\n\t/**\n\t * Initializes dragndrop module\n\t * @uses  codex.dragndrop\n\t */\n    function initDragNDrop() {\n\n        codex.dragndrop({\n\t\t    droppableClass: 'list-item',\n\n\t\t    findDraggable: function (e) {\n\n\t\t        var target = e.target.closest('.draggable');\n\n\t\t        if (target) return target.closest('.list-item');\n\n\t\t        return null;\n\n\t\t    },\n\n\t\t    makeAvatar: function (elem) {\n\n\t\t        var avatar = {};\n\n\t\t        avatar.elem = elem.cloneNode(true);\n\t\t        avatar.elem.classList.add('dnd-avatar');\n\n\t\t        elem.parentNode.insertBefore(avatar.elem, elem.nextSibling);\n\t\t        elem.classList.add('no-display');\n\n\t\t        avatar.rollback = function () {\n\n\t\t            avatar.elem.parentNode.removeChild(avatar.elem);\n\t\t            elem.classList.remove('no-display');\n\n\t\t        };\n\n\t\t        return avatar;\n\n\t\t    },\n\n\t\t    targetChanged: function (target, newTarget, avatar) {\n\n\t\t        if (!newTarget) return;\n\n\t\t        var targetPosition = newTarget.compareDocumentPosition(avatar.elem);\n\n\t\t        if (targetPosition&4) {\n\n\t\t            newTarget.parentNode.insertBefore(avatar.elem, newTarget);\n\n\t\t        } else if (targetPosition&2) {\n\n\t\t            newTarget.parentNode.insertBefore(avatar.elem, newTarget.nextSibling);\n\n\t\t        }\n\n\t\t    },\n\n\t\t    move: function () {},\n\n\t\t    targetReached: function (target, avatar, elem) {\n\n\t\t        target.parentNode.insertBefore(elem, target.nextSibling);\n\n\t\t        avatar.elem.parentNode.removeChild(avatar.elem);\n\t\t        elem.classList.remove('no-display');\n\n\t\t        var item_id = elem.dataset.id,\n\t\t            item_type = elem.dataset.type,\n\t\t            item_below_value = null,\n\t\t            nextSibling;\n\n\t\t        if (nextSibling = elem.nextElementSibling)\n\t\t            item_below_value = nextSibling.dataset.type+':'+nextSibling.dataset.id;\n\n\t\t        var ajaxData = {\n\t\t            success: function () {\n\n\t\t                document.getElementById('saved').classList.remove('top-menu__saved_hidden');\n\t\t                setTimeout(function () {\n\n\t\t                    document.getElementById('saved').classList.add('top-menu__saved_hidden');\n\n\t\t                }, 1000);\n\n\t\t            },\n\t\t            type: 'POST',\n\t\t            url: '/admin/feed',\n\t\t            data: JSON.stringify({\n\t\t                item_id: item_id,\n\t\t                item_type: item_type,\n\t\t                item_below_value: item_below_value\n\t\t            })\n\t\t        };\n\n\n\t\t        codex.core.ajax(ajaxData);\n\n\t\t    }\n        });\n\t\t// body...\n\n    }\n\n\t/**\n\t * Module initialization\n\t * @param  {Object} \t params \t\t\t- init params\n\t * @param  {String|null} params.listType \t- feed list type (\"cards\"|\"list\")\n\t */\n    admin.init = function ( params ) {\n\n        codex.core.log('Initialized.', 'Module admin');\n\n        if ( params.listType == 'cards' ) {\n\n\t\t\t var items = document.querySelectorAll('.feed-item');\n\n\t        for (var i = items.length-1; i > -1; i--) {\n\n\t            items[i].classList.add('draggable');\n\t            items[i].classList.add('feed-item--dnd');\n\t            items[i].classList.add('list-item');\n\n        }\n\n        }\n\n        initDragNDrop();\n\n    };\n\n    return admin;\n\n}({});\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/admin.js","var ajax = function () {\n\n    var xhr = function ( xhr ) {\n\n        var objectToQueryString = function (a) {\n\n            var prefix, s, add, name, r20, output;\n\n            s = [];\n            r20 = /%20/g;\n            add = function (key, value) {\n\n                // If value is a function, invoke it and return its value\n                value = ( typeof value == 'function' ) ? value() : ( value === null ? '' : value );\n                s[ s.length ] = encodeURIComponent(key) + '=' + encodeURIComponent(value);\n\n            };\n            if (a instanceof Array) {\n\n                for (name in a) {\n\n                    add(name, a[name]);\n\n                }\n\n            } else {\n\n                for (prefix in a) {\n\n                    buildParams(prefix, a[ prefix ], add);\n\n                }\n\n            }\n            output = s.join('&').replace(r20, '+');\n            return output;\n\n        };\n\n        var buildParams = function (prefix, obj, add) {\n\n            var name, i, l, rbracket;\n\n            rbracket = /\\[\\]$/;\n            if (obj instanceof Array) {\n\n                for (i = 0, l = obj.length; i < l; i++) {\n\n                    if (rbracket.test(prefix)) {\n\n                        add(prefix, obj[i]);\n\n                    } else {\n\n                        buildParams(prefix + '[' + ( typeof obj[i] === 'object' ? i : '' ) + ']', obj[i], add);\n\n                    }\n\n                }\n\n            } else if (typeof obj == 'object') {\n\n                // Serialize object item.\n                for (name in obj) {\n\n                    buildParams(prefix + '[' + name + ']', obj[ name ], add);\n\n                }\n\n            } else {\n\n                // Serialize scalar item.\n                add(prefix, obj);\n\n            }\n\n        };\n\n        xhr.call = function ( data ) {\n\n            if ( !data || !data.url ) {\n\n                console.warn('url wasn\\'t passed into ajax method' );\n                return;\n\n            }\n\n            var XMLHTTP              = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'),\n                successCallback;\n\n            data.type         = data.type || 'GET';\n            data.url          = data.url;\n            data.async        = data.async || false;\n            data.data         = data.data || '';\n            data.formData     = data.formData || false;\n            data['content-type'] = data.contentType || 'text/html';\n            successCallback      = data.success || successCallback ;\n\n            if ( data.type == 'GET' && data.data ) {\n\n                data.url = /\\?/.test(data.url) ? data.url + '&' + data.data : data.url + '?' + data.data;\n\n            }\n\n            if (data.beforeSend && typeof data.beforeSend == 'function') {\n\n                data.beforeSend.call();\n\n            }\n\n            XMLHTTP.open( data.type, data.url, data.async );\n            XMLHTTP.setRequestHeader('Content-type', data['content-type'] );\n            XMLHTTP.setRequestHeader('Connection', 'close');\n            XMLHTTP.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n            XMLHTTP.onreadystatechange = function () {\n\n                if ( XMLHTTP.readyState == 4 && XMLHTTP.status == 200 && successCallback) {\n\n                    successCallback.call(XMLHTTP.responseText);\n\n                }\n\n            };\n\n            XMLHTTP.send( data.formData || objectToQueryString(data.data) );\n\n        };\n\n\n        xhr.parseHTML = function (markup) {\n\n            var doc = document.implementation.createHTMLDocument('');\n\n            if (markup.toLowerCase().indexOf('<!doctype') > -1) {\n\n                doc.documentElement.innerHTML = markup;\n\n            } else {\n\n                doc.body.innerHTML = markup;\n\n            }\n            return doc;\n\n        };\n\n        /**\n         * Adapted from {@link http://www.bulgaria-web-developers.com/projects/javascript/serialize/}\n         * Changes:\n         *     Ensures proper URL encoding of name as well as value\n         *     Preserves element order\n         *     XHTML and JSLint-friendly\n         *     Disallows disabled form elements and reset buttons as per HTML4 [successful controls]{@link http://www.w3.org/TR/html401/interact/forms.html#h-17.13.2}\n         *         (as used in jQuery). Note: This does not serialize <object>\n         *         elements (even those without a declare attribute) or\n         *         <input type=\"file\" />, as per jQuery, though it does serialize\n         *         the <button>'s (which are potential HTML4 successful controls) unlike jQuery\n         * @license MIT/GPL\n        */\n        xhr.serialize = function (form) {\n\n            'use strict';\n\n            var i, j, len, jLen, formElement, q = [];\n\n            function urlencode(str) {\n\n                // http://kevin.vanzonneveld.net\n                // Tilde should be allowed unescaped in future versions of PHP (as reflected below), but if you want to reflect current\n                // PHP behavior, you would need to add \".replace(/~/g, '%7E');\" to the following.\n                return encodeURIComponent(str).replace(/!/g, '%21').replace(/'/g, '%27').replace(/\\(/g, '%28').\n                    replace(/\\)/g, '%29').replace(/\\*/g, '%2A').replace(/%20/g, '+');\n\n            }\n            function addNameValue(name, value) {\n\n                q.push(urlencode(name) + '=' + urlencode(value));\n\n            }\n            if (!form || !form.nodeName || form.nodeName.toLowerCase() !== 'form') {\n\n                throw 'You must supply a form element';\n\n            }\n            for (i = 0, len = form.elements.length; i < len; i++) {\n\n                formElement = form.elements[i];\n                if (formElement.name === '' || formElement.disabled) {\n\n                    continue;\n\n                }\n                switch (formElement.nodeName.toLowerCase()) {\n                    case 'input':\n                        switch (formElement.type) {\n                            case 'text':\n                            case 'email':\n                            case 'hidden':\n                            case 'password':\n                            case 'button': // Not submitted when submitting form manually, though jQuery does serialize this and it can be an HTML4 successful control\n                            case 'submit':\n                                addNameValue(formElement.name, formElement.value);\n                                break;\n                            case 'checkbox':\n                            case 'radio':\n                                if (formElement.checked) {\n\n                                    addNameValue(formElement.name, formElement.value);\n\n                                }\n                                break;\n                            case 'file':\n                            // addNameValue(formElement.name, formElement.value); // Will work and part of HTML4 \"successful controls\", but not used in jQuery\n                                break;\n                            case 'reset':\n                                break;\n                        }\n                        break;\n                    case 'textarea':\n                        addNameValue(formElement.name, formElement.value);\n                        break;\n                    case 'select':\n                        switch (formElement.type) {\n                            case 'select-one':\n                                addNameValue(formElement.name, formElement.value);\n                                break;\n                            case 'select-multiple':\n                                for (j = 0, jLen = formElement.options.length; j < jLen; j++) {\n\n                                    if (formElement.options[j].selected) {\n\n                                        addNameValue(formElement.name, formElement.options[j].value);\n\n                                    }\n\n                                }\n                                break;\n                        }\n                        break;\n                    case 'button': // jQuery does not submit these, though it is an HTML4 successful control\n                        switch (formElement.type) {\n                            case 'reset':\n                            case 'submit':\n                            case 'button':\n                                addNameValue(formElement.name, formElement.value);\n                                break;\n                        }\n                        break;\n                }\n\n            }\n\n            return q.join('&');\n\n        };\n\n    };\n\n    return {\n    \txhr : xhr\n    };\n\n}({});\n\nmodule.exports = ajax;\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/ajax.js","/**\n * codex.bestDevelopers module\n * Sets best developers values in admin/user for further output in templates/developers.php\n */\nvar developer = function () {\n\n    var bind = function () {\n\n        var chBoxes = document.querySelectorAll('.developer-checkbox');\n\n        for (var i = chBoxes.length-1; i > -1; i--) {\n\n            chBoxes[i].addEventListener('change', toggle);\n\n        }\n\n    };\n\n    /**\n     * Sends ajax data 0 or 1, whether user is best developer or not\n     * @param {Event} event\n     * @uses codex.core.ajax\n     */\n\n    var toggle = function (event) {\n\n        var data = {\n            data: 'id='+event.target.id+'&value='+(event.target.checked?1:0),\n            url: '/admin/developer'\n        };\n\n        codex.core.ajax(data);\n\n    };\n\n    return {\n        bind: bind\n    };\n\n}();\n\nmodule.exports = developer;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/bestDevelopers.js","/**\n* Significant core methods\n*/\nmodule.exports =  function () {\n\n    /** Logging method */\n    var log = function (str, prefix, type, arg) {\n\n        var staticLength = 32;\n\n        if (prefix) {\n\n            prefix = prefix.length < staticLength ? prefix : prefix.substr( 0, staticLength - 2 );\n\n            while (prefix.length < staticLength - 1) {\n\n                prefix += ' ';\n\n            }\n\n            prefix += ':';\n            str = prefix + str;\n\n        }\n\n        type = type || 'log';\n\n        try {\n\n            if ('console' in window && window.console[ type ]) {\n\n                if (arg) console[type](str, arg);\n                else console[type](str);\n\n            }\n\n        } catch(e) {}\n\n    };\n\n    /**\n    * Native ajax method.\n    * @param {Object} data\n    */\n    var ajax = function (data) {\n\n        if (!data || !data.url) {\n\n            return;\n\n        }\n\n        var XMLHTTP          = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'),\n            success_function = function () {};\n\n        data.async           = true;\n        data.type            = data.type || 'GET';\n        data.data            = data.data || '';\n        data['content-type'] = data['content-type'] || 'application/json; charset=utf-8';\n        success_function     = data.success || success_function ;\n\n        if (data.type == 'GET' && data.data) {\n\n            data.url = /\\?/.test(data.url) ? data.url + '&' + data.data : data.url + '?' + data.data;\n\n        }\n\n        if (data.withCredentials) {\n\n            XMLHTTP.withCredentials = true;\n\n        }\n\n        if (data.beforeSend && typeof data.beforeSend == 'function') {\n\n            data.beforeSend.call();\n\n        }\n\n        XMLHTTP.open( data.type, data.url, data.async );\n        XMLHTTP.setRequestHeader('Content-type', data['content-type'] );\n        XMLHTTP.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        XMLHTTP.onreadystatechange = function () {\n\n            if (XMLHTTP.readyState == 4 && XMLHTTP.status == 200) {\n\n                success_function(XMLHTTP.responseText);\n\n            }\n\n        };\n\n        XMLHTTP.send(data.data);\n\n    };\n\n\n    return {\n        ajax : ajax,\n        log : log\n    };\n\n}();\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/core.js","module.exports = function (settings) {\n\n    var defaultHandlers = {\n        findDraggable: function (e) {\n\n            return e.target.closest('.'+draggableClass);\n\n        },\n\n        findDroppable: function (e) {\n\n            return document.elementFromPoint(e.clientX, e.clientY).closest('.'+droppableClass);\n\n        },\n\n        /**\n         * The simplest makeAvatar method.\n         *\n         * Just set elem to avatar.elem. And remembers element position in document.\n         * If drop isn`t success, returns elem to start position.\n         */\n        makeAvatar: function (elem) {\n\n            var avatar = {};\n\n            var avatarRollback = function () {\n\n                avatar.elem.classList.remove('dnd-default-avatar');\n\n                if (avatar.nextSibling)\n                    avatar.parentNode.insertBefore(avatar.elem, avatar.nextSibling);\n                else\n                    avatar.parentNode.appendChild(avatar.elem);\n\n                delete(dragObj.avatar);\n\n            };\n\n            avatar = {\n                elem: elem,\n                parentNode: elem.parentNode,\n                nextSibling: elem.nextElementSibling,\n                rollback: avatarRollback\n            };\n\n            // Set avatar position: absolute; for drag'n'drop\n            avatar.elem.classList.add('dnd-default-avatar');\n\n            return avatar;\n\n        },\n\n        /**\n         * Highlights droppable elements under cursor with border\n         */\n        targetChanged: function (target, newTarget) {\n\n            if (target) target.classList('dnd-default-target-highlight');\n\n            if (newTarget) newTarget.classList.add('dnd-default-target-highlight');\n\n        },\n\n        move: function (e, avatar, shift) {\n\n            avatar.elem.style.left = e.pageX - shift.x + 'px';\n            avatar.elem.style.top = e.pageY - shift.y + 'px';\n\n        },\n\n        /**\n         * Inserts elem into document if drop is success\n         */\n        targetReached: function (target, avatar, elem) {\n\n            target.classList.remove('dnd-default-target-highlight');\n            target.parentNode.insertBefore(elem, target.nextElementSibling);\n            avatar.elem.classList.remove('dnd-default-avatar');\n\n        }\n    };\n\n    var draggableClass  = settings.draggableClass   || 'draggable',\n        droppableClass   = settings.droppableClass    || 'droppable',\n        findDraggable   = settings.findDraggable    || defaultHandlers.findDraggable,\n        findDroppable    = settings.findDroppable     || defaultHandlers.findDroppable,\n        makeAvatar      = settings.makeAvatar       || defaultHandlers.makeAvatar,\n        targetChanged   = settings.targetChanged    || defaultHandlers.targetChanged,\n        move            = settings.move             || defaultHandlers.move,\n        targetReached   = settings.targetReached    || defaultHandlers.targetReached;\n\n    var dragObj = {};\n\n    var onMouseDown = function (e) {\n\n        /**\n         * Check mouse (which=1 - right mouse button) or touch (which=0 - touch) event.\n         */\n        if (e.which > 1) return;\n\n        e = touchSupported(e);\n\n        dragObj.clickedAt = {\n            x: e.pageX,\n            y: e.pageY\n        };\n\n        dragObj.elem = findDraggable(e);\n\n        if (!dragObj.elem) return;\n\n        toggleSelection();\n\n        var coords = getCoords(dragObj.elem);\n\n        dragObj.shift = {\n            x: e.pageX - coords.x,\n            y: e.pageY - coords.y\n        };\n\n    };\n\n    var onMouseMove = function (e) {\n\n        if (!dragObj.elem) return;\n\n        // Prevent touchmove scroll\n        e.preventDefault();\n\n        e = touchSupported(e);\n\n        // Check mouse offset. If x or y offset <5, assume that it`s accidental move\n        if (Math.abs(e.pageX - dragObj.clickedAt.x) < 5 && Math.abs(e.pageY - dragObj.clickedAt.y) < 5) return;\n\n        if (!dragObj.avatar) {\n\n            dragObj.avatar = makeAvatar(dragObj.elem);\n\n        }\n\n        var newTarget = findDroppable(e);\n\n        if (newTarget != dragObj.target) {\n\n            targetChanged(dragObj.target, newTarget, dragObj.avatar);\n\n            dragObj.target = newTarget;\n\n        }\n\n\n        move(e, dragObj.avatar, dragObj.shift);\n\n    };\n\n    var onMouseUp = function (e) {\n\n        if (e.which > 1) return;\n\n        if (!dragObj.avatar) {\n\n            dragObj = {};\n            return;\n\n        }\n\n        e = touchSupported(e);\n\n        var target = findDroppable(e);\n\n        if (target)\n            targetReached(target, dragObj.avatar, dragObj.elem, e);\n        else\n            dragObj.avatar.rollback();\n\n        dragObj = {};\n\n        toggleSelection();\n\n    };\n\n    var getCoords = function (elem) {\n\n        var rect = elem.getBoundingClientRect();\n\n        return {\n            x: rect.left + pageXOffset,\n            y: rect.top + pageYOffset\n        };\n\n    };\n\n    var touchSupported = function (e) {\n\n        if (e.changedTouches)\n            var touch = e.changedTouches[0];\n\n        else\n            return e;\n\n        e.pageX = touch.pageX;\n        e.pageY = touch.pageY;\n\n        e.clientX = touch.clientX;\n        e.clientY = touch.clientY;\n\n        e.screenX = touch.screenX;\n        e.screenY = touch.screenY;\n\n        e.target = touch.target;\n\n        return e;\n\n    };\n\n    var toggleSelection = function () {\n\n        document.body.classList.toggle('no-selection');\n\n    };\n\n\n    document.addEventListener('mousedown', onMouseDown);\n    document.addEventListener('touchstart', onMouseDown);\n\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('touchmove', onMouseMove);\n\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('touchend', onMouseUp);\n\n    document.ondragstart = function () {\n\n        return false;\n\n    };\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/dragndrop.js","module.exports = (function (helpers) {\n\n    helpers.setCookie = function (name, value, expires, path, domain) {\n\n        var str = name + '='+value;\n\n        if (expires) str += '; expires=' + expires.toGMTString();\n        if (path)    str += '; path=' + path;\n        if (domain)  str += '; domain=' + domain;\n        document.cookie = str;\n\n    };\n\n    helpers.getCookie = function (name) {\n\n        var dc = document.cookie;\n\n        var prefix = name + '=';\n        var begin = dc.indexOf('; ' + prefix);\n\n        if (begin == -1) {\n\n            begin = dc.indexOf(prefix);\n            if (begin !== 0) return null;\n\n        } else\n            begin += 2;\n\n        var end = document.cookie.indexOf(';', begin);\n\n        if (end == -1) end = dc.length;\n\n        return unescape(dc.substring(begin + prefix.length, end));\n\n    };\n\n    helpers.getOffset = function ( el ) {\n\n        var _x = 0;\n        var _y = 0;\n\n        while( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {\n\n            _x += (el.offsetLeft + el.clientLeft);\n            _y += (el.offsetTop + el.clientTop);\n            el = el.offsetParent;\n\n        }\n        return { top: _y, left: _x };\n\n    };\n\n    return helpers;\n\n})({});\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/helpers.js","/**\n * Module for /join page\n * Blocks writing without authorization\n *\n * Toggles into view blankAdditionalFields: Name and Surname, Email\n */\nvar join = function () {\n\n    const animationClass = 'wobble';\n\n    /**\n    * Module initialization\n    */\n    var init = function () {\n\n        var joinBlank = document.getElementById('joinBlank');\n\n        if ( typeof joinBlank != 'undefined' && joinBlank !== null ) {\n\n            var joinBlankTextareas = joinBlank.getElementsByTagName('textarea');\n\n            if (joinBlankTextareas.length) {\n\n                for (var i = joinBlankTextareas.length - 1; i >= 0; i--) {\n\n                    joinBlankTextareas[i].addEventListener('keyup', checkUserCanEdit, false);\n\n                }\n\n            }\n\n        }\n\n        var blankShowAdditionalFieldsButton = document.getElementById('blankShowAdditionalFieldsButton');\n\n        if ( typeof blankShowAdditionalFieldsButton != 'undefined' && blankShowAdditionalFieldsButton !== null ) {\n\n            blankShowAdditionalFieldsButton.addEventListener('click', showAdditionalFields, false);\n\n        }\n\n    };\n\n    /**\n     * Adds wobble-effect to Auth block if user starts typing into textarea unauthorized\n     * @param {Event} event\n     */\n    let checkUserCanEdit = function (event) {\n\n        var textarea       = event.target,\n            blankAuthBlock = document.getElementById('js-join-auth'),\n            emailInput     = document.getElementById('js-email');\n\n        if (blankAuthBlock && !emailInput.value.length ) {\n\n            blankAuthBlock.classList.add(animationClass);\n\n            setTimeout(() => blankAuthBlock.classList.remove(animationClass), 450);\n\n            textarea.value = '';\n\n        }\n\n    };\n\n    /**\n     * Toggles into view blankAdditionalFields: Name and Surname, Email\n     * @param {Event} event\n     */\n    var showAdditionalFields = function (event) {\n\n        var blankAdditionalFields = document.getElementById('blankAdditionalFields');\n\n        blankAdditionalFields.classList.toggle('hide');\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = join;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/join.js","\nvar polyfills = function () {\n\n        /**\n        * Polyfilling ECMAScript 6 method String.includes\n        * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes#Browser_compatibility\n        */\n    if ( !String.prototype.includes ) {\n\n        String.prototype.includes = function () {\n\n            'use strict';\n\n            return String.prototype.indexOf.apply(this, arguments) !== -1;\n\n        };\n\n    }\n\n\n        /**\n        * Polyfill for Element.prototype.matches method\n        */\n    if (!Element.prototype.matches) {\n\n        Element.prototype.matches = Element.prototype.matchesSelector ||\n                                        Element.prototype.webkitMatchesSelector ||\n                                        Element.prototype.mozMatchesSelector ||\n                                        Element.prototype.msMatchesSelector;\n\n    }\n\n        /**\n        * Polyfill for Element.prototype.closest method\n        */\n    if (!Element.prototype.closest) {\n\n        Element.prototype.closest = function (selector) {\n\n            var node = this;\n\n            while (node) {\n\n                if (node.matches(selector)) return node;\n                node = node.parentElement;\n\n            }\n\n            return null;\n\n        };\n\n    };\n\n}({});\n\nmodule.exports = polyfills;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/polyfills.js","/**\n * Profile page methods\n */\nmodule.exports = function () {\n\n\t/**\n\t * Photo uploading success-callback\n\t * Fired by transport\n\t * @param  {string} newPhotoURL - uploaded file URL\n\t */\n    var uploadPhotoSuccess = function (newPhotoURL) {\n\n        var settings_avatar = document.getElementById('profile-photo-updatable'),\n            header_avatar   = document.getElementById('header-avatar-updatable');\n\n        settings_avatar.src = newPhotoURL;\n        header_avatar.src   = newPhotoURL;\n\n    };\n\n    return {\n    \t'uploadPhotoSuccess': uploadPhotoSuccess,\n    };\n\n}();\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/profile.js","/**\n * Модуль quiz с единственным публичным методом quiz.init()\n */\nmodule.exports = (function () {\n\n    var quizData            = null,\n        numberOfQuestions   = null,\n        currentQuestion     = null,\n        score               = null,\n        maxScore            = null;\n\n\n    /**\n     * Публичный метод init.\n     *\n     * @param {object} quizDataInput  - объект с информацией о тесте\n     * @param {string} holder - id элемента, в который будет выводиться тест\n     */\n    var init = function (quizDataInput, holder) {\n\n        quizData = quizDataInput;\n        numberOfQuestions = quizData.questions.length;\n        currentQuestion = 0;\n        score = 0;\n\n        gameProcessing_.prepare();\n        UI_.prepare(holder);\n        UI_.setupQuestionInterface();\n\n    };\n\n    var UI_ = {\n\n        holder: null,\n        currentQuestionObj: null,\n\n        // Объект, в котором будут храниться DOM-элементы, связанные с отображением вопроса\n        questionElems: null,\n\n        prepare: function (holder) {\n\n            UI_.holder = document.getElementById(holder);\n            UI_.holder.classList.add('quiz');\n            UI_.holder.classList.add('clearfix');\n\n        },\n\n        /**\n         * Создаем элементы для вывода теста, заносим их в UI_.questionElems и выводим на страницу.\n         */\n        setupQuestionInterface: function () {\n\n            UI_.clear();\n\n            var title,\n                optionsHolder,\n                counter,\n                nextButton;\n\n            title = UI_.createElem('div', 'quiz__question-title');\n\n            optionsHolder = UI_.createElem('div', 'quiz__question-options');\n\n            counter = UI_.createElem('div', 'quiz__question-counter');\n\n            nextButton = UI_.createElem('input', ['quiz__question-button', 'quiz__question-button_next']);\n\n            nextButton.setAttribute('type', 'button');\n            nextButton.setAttribute('value', 'Далее →');\n\n            UI_.questionElems = {\n                counter: counter,\n                title: title,\n                optionsHolder: optionsHolder,\n                options: [],\n                nextButton: nextButton\n            };\n\n            UI_.append(UI_.questionElems);\n\n            UI_.showQuestion();\n\n        },\n\n        /**\n         * Выводим текущий вопрос на страницу (вопрос, варианты ответа и счетчик)\n         */\n        showQuestion: function () {\n\n            UI_.clear(UI_.questionElems.optionsHolder);\n            UI_.questionElems.options = [];\n            UI_.questionElems.nextButton.removeEventListener('click', UI_.showQuestion);\n            UI_.currentQuestionObj = quizData.questions[currentQuestion];\n\n            UI_.questionElems.nextButton.setAttribute('disabled', true);\n\n            UI_.questionElems.title.textContent = UI_.currentQuestionObj.title;\n            UI_.questionElems.counter.textContent = currentQuestion + 1 + '/' + numberOfQuestions;\n\n            UI_.currentQuestionObj.answers.map(UI_.createOption);\n\n        },\n\n        answerSelected: function (answer) {\n\n            answer.classList.add('quiz__question-answer_selected');\n\n            UI_.questionElems.options.map(function (current, i) {\n\n                current.removeEventListener('click', gameProcessing_.getUserAnswer);\n\n            });\n\n            UI_.questionElems.nextButton.disabled = false;\n\n            if (currentQuestion < numberOfQuestions  - 1) {\n\n                UI_.questionElems.nextButton.addEventListener('click', UI_.showQuestion);\n\n            } else {\n\n                UI_.questionElems.nextButton.addEventListener('click', UI_.showResult);\n\n            }\n\n            UI_.showAnswer(answer);\n\n            currentQuestion++;\n\n        },\n        /**\n         * Добавляем стили и выводим сообщение для выбранного варианта ответа\n         * Открываем доступ к следующему вопросу\n         *\n         * @param {Element} answer - DOM-элемент выбранного ответа\n         */\n        showAnswer: function (answer) {\n\n            var answerStyle = answer.dataset.score > 0 ? '_right' :  '_wrong',\n                answerIndex = answer.dataset.index;\n\n            answer.classList.add('quiz__question-answer' + answerStyle);\n\n            var answerMessage = UI_.createElem('div', 'quiz__answer-message');\n\n            answerMessage.textContent = UI_.currentQuestionObj.answers[answerIndex].message;\n\n            UI_.insertAfter(answerMessage, answer);\n\n            if (answer.dataset.score == 0) {\n\n                UI_.showCorrectAnswers();\n\n            }\n\n        },\n\n        showCorrectAnswers: function () {\n\n            UI_.questionElems.options.map(function (answer, i) {\n\n                if (answer.dataset.score > 0) {\n\n                    answer.classList.add('quiz__question-answer_right');\n\n                } else {\n\n                    answer.classList.add('quiz__question-answer_wrong');\n\n                }\n\n            });\n\n        },\n\n        showResult: function () {\n\n            var result =  score + '/' + maxScore;\n\n            UI_.questionElems.nextButton.removeEventListener('click', UI_.showResult);\n\n            UI_.clear();\n\n            var resultScore = UI_.createElem('div', 'quiz__result-score');\n\n            resultScore.textContent = result;\n\n            var resultMessage = UI_.createElem('div', 'quiz__result-message');\n\n            resultMessage.textContent = gameProcessing_.getMessage();\n\n            var social = UI_.createElem('div', 'quiz__sharing');\n\n            UI_.createSocial(social, result);\n\n            var retry = UI_.createElem('div', 'quiz__retry-button');\n\n            retry.textContent = 'Пройти еще раз';\n            retry.addEventListener('click', init.bind(null, quizData, UI_.holder.id));\n\n            UI_.append([resultScore, resultMessage, social, retry]);\n\n            codex.sharer.init();\n\n        },\n\n        /**\n         * Создаем кнопки социальных сетей и добавляем их в holder\n         *\n         * @param {Element} holder\n         */\n        createSocial: function (holder, result) {\n\n            var networks = [\n                {\n                    title: 'Share on the VK',\n                    shareType: 'vkontakte',\n                    class: 'vk',\n                    icon: 'icon-vkontakte'\n                },\n                {\n                    title: 'Share on the Facebook',\n                    shareType: 'facebook',\n                    class: 'fb',\n                    icon: 'icon-facebook-squared'\n                },\n                {\n                    title: 'Tweet',\n                    shareType: 'twitter',\n                    class: 'tw',\n                    icon: 'icon-twitter'\n                },\n                {\n                    title: 'Forward in Telegramm',\n                    shareType: 'telegram',\n                    class: 'tg',\n                    icon: 'icon-paper-plane'\n                }\n            ];\n\n            networks.map(function (current, i) {\n\n                var button = UI_.createElem('span', ['but', current.class]),\n                    icon   = UI_.createElem('i', current.icon),\n                    shareMessage = null;\n\n                button.dataset.shareType = current.shareType;\n                button.setAttribute('title', current.title);\n\n                if (quizData.shareMessage) {\n\n                    shareMessage =  quizData.shareMessage.replace('$score', result);\n\n                }\n\n                shareMessage = shareMessage || 'Я набрал ' + result + ' в ' + (quizData.title || 'тесте от команды CodeX');\n\n                button.dataset.url      = window.location.href;\n                button.dataset.title    = shareMessage;\n                button.dataset.desc     = quizData.description || '';\n\n                UI_.append(icon, button);\n                UI_.append(button, holder);\n\n            });\n\n        },\n\n        /**\n         * Создаем i-й вариант ответа и выводим в UI_.questionElems.optionsHolder\n         * И добавляем в UI_.questionElems.options\n         *\n         * @param {Object} answer - объект варианта ответа\n         * @param {int} i - его номер в вопросе\n         */\n        createOption: function (answer, i) {\n\n            var answerObj = UI_.createElem('div', 'quiz__question-answer');\n\n            answerObj.dataset.score = answer.score;\n            answerObj.dataset.index = i;\n            answerObj.textContent = answer.text;\n\n            // Вешаем слушатель на вариант ответа\n            answerObj.addEventListener('click', gameProcessing_.getUserAnswer);\n\n            UI_.questionElems.options.push(answerObj);\n\n            UI_.append(answerObj, UI_.questionElems.optionsHolder);\n\n        },\n\n        /**\n         * Создает новый DOM-элемент с набором переданных классов\n         *\n         * @param {string} tag - имя тега\n         * @param {string|Array} classes - имя или массив имен классов\n         * @returns {Element}\n         */\n        createElem: function (tag, classes) {\n\n            var elem = document.createElement(tag);\n\n            if (!classes) {\n\n                return elem;\n\n            }\n\n            if (classes instanceof Array) {\n\n                for (var i in classes) {\n\n                    elem.classList.add(classes[i]);\n\n                }\n\n            } else {\n\n                elem.classList.add(classes);\n\n            }\n\n            return elem;\n\n        },\n\n        /**\n         * Добавляет элементы в переданный элемент\n         *\n         * @param {Element|Array} elems - элемент или массив элементов\n         * @param {Element|null} parent - родитель или UI_.holder, если передан NULL\n         */\n        append: function (elems, parent) {\n\n            parent = parent || UI_.holder;\n\n            if (!(elems instanceof Element)) {\n\n                for (var i in elems) {\n\n                    if (elems[i] instanceof Element) {\n\n                        parent.appendChild(elems[i]);\n\n                    }\n\n                }\n\n            } else {\n\n                parent.appendChild(elems);\n\n            }\n\n        },\n\n\n        /**\n         * Вставляет элемент после переданного элемента\n         *\n         * @param {Element} elem\n         * @param {Element} elemBefore\n         */\n        insertAfter: function (elem, elemBefore) {\n\n            if (elemBefore.nextSibling) {\n\n                UI_.questionElems.optionsHolder.insertBefore(elem, elemBefore.nextSibling);\n\n            } else {\n\n                UI_.append(elem, elemBefore.parentNode);\n\n            }\n\n        },\n\n        /**\n         * Удалаяет все дочерние элементы элемента parent\n         *\n         * @param {Element} parent\n         */\n        clear: function (parent) {\n\n            parent = parent || UI_.holder;\n\n            while (parent.firstChild) {\n\n                parent.removeChild(parent.firstChild);\n\n            }\n\n        }\n\n    };\n\n    var gameProcessing_ = {\n\n        prepare: function () {\n\n            maxScore = 0;\n\n            quizData.questions.map(function (current, i) {\n\n                current.answers.map(function (current, i) {\n\n                    maxScore += parseFloat(current.score);\n\n                });\n\n            });\n\n        },\n\n        /**\n         * Добавляет баллы за ответ\n         *\n         * @param {Object} e - объект события клика по варианту ответа\n         */\n        getUserAnswer: function (e) {\n\n            var answer = e.currentTarget;\n\n            score += parseFloat(answer.dataset.score);\n\n            UI_.answerSelected(answer);\n\n        },\n\n        /**\n         * Получает сообщение о результате для набранного количества баллов\n         *\n         * @returns {string} message\n         */\n        getMessage: function () {\n\n            var messages = quizData.resultMessages,\n                message;\n\n            messages.sort(function (a, b) {\n\n                return a['score'] - b['score'];\n\n            });\n\n            if (!messages.length) {\n\n                return;\n\n            }\n\n            for (var i in messages) {\n\n                if (score < messages[i]['score']) {\n\n                    break;\n\n                }\n\n                message = messages[i]['message'];\n\n            }\n\n            return message;\n\n        }\n\n    };\n\n    return {\n        init: init\n    };\n\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/quiz.js","/**\n* Quiz form client handler\n* Author: @ndawn\n* Date: 09/12/16\n*/\n\nmodule.exports = (function (quiz) {\n\n    /**\n    * Quiz form\n    * @var {null} quiz.form - form DOM element\n    */\n    quiz.form = null;\n\n\n    /**\n    * Nodes list\n    * @var {object} quiz.nodes - dict of DOM elements of questions and result messages\n    */\n    quiz.nodes = {\n        'title': null,\n        'description': null,\n        'questions': [],\n        'resultMessages': [],\n        'shareMessage': null\n    };\n\n\n    /**\n    * Question insert button and anchor for new questions\n    * @var {Element} quiz.questionInsertAnchor - DOM element of question insert anchor\n    * @var {Element} quiz.questionInsertButton - DOM element of question insert button\n    */\n    quiz.questionInsertAnchor = null;\n    quiz.questionInsertButton = null;\n\n\n    /**\n    * Result message insert button and anchor for new resultMessages\n    * @var {Element} quiz.resultMessageInsertAnchor - DOM element of result message insert anchor\n    * @var {Element} quiz.resultMessageInsertButton - DOM element of result message insert button\n    */\n    quiz.resultMessageInsertAnchor = null;\n    quiz.resultMessageInsertButton = null;\n\n\n    /**\n    * Result messages holder element\n    * @var {Element} quiz.resultMessagesHolder - DOM element of result messages holder\n    */\n    quiz.resultMessagesHolder = null;\n\n\n    /**\n    * @private\n    * DOM element creating function\n    * Creates a DOM element with given attributes\n    * @param {string} tag - HTML tag of the element\n    * @param {object} attributes - dictionary with attributes to be added to the element\n    */\n    var newDOMElement_ = function (tag, attributes, text) {\n\n        text = text || '';\n        var element = document.createElement(tag);\n        var textNode = document.createTextNode(text);\n\n        element.appendChild(textNode);\n\n        for (var attr in attributes) {\n\n            var attrNode = document.createAttribute(attr);\n\n            attrNode.value = attributes[attr];\n            element.setAttributeNode(attrNode);\n\n        }\n\n        return element;\n\n    };\n\n\n    /**\n    * @private\n    * Answer block creating function\n    * Creates a couple of DOM elements and appends them to question answers list\n    * @param {number} questionIndex - index of question which answer to be appended to\n    */\n    var appendAnswerBlock_ = function (questionIndex, answerData) {\n\n        var answer = {};\n        var question = quiz.nodes.questions[questionIndex];\n        var objectIndex = question.answers.length;\n\n        answerData = answerData || {};\n\n        answer.holder = newDOMElement_('tr', {\n            'class': 'quiz-form__question-answer-holder',\n            'data-question-index': questionIndex,\n            'data-object-index': objectIndex\n        });\n\n        answer.textColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-text-column'\n        });\n\n        answer.text = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-answer-text',\n            'value': answerData.text || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.scoreColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-score-column'\n        });\n\n        answer.score = newDOMElement_('input', {\n            'type': 'number',\n            'min': '0',\n            'step': '1',\n            'value': answerData.score || '0',\n            'class': 'quiz-form__question-answer-score',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.messageColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-message-column'\n        });\n\n        answer.message = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-answer-message',\n            'value': answerData.message || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.destroyButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-destroy-button-column'\n        });\n\n        answer.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-answer-destroy-button'\n        });\n\n        answer.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        answer.textColumn.appendChild(answer.text);\n        answer.scoreColumn.appendChild(answer.score);\n        answer.messageColumn.appendChild(answer.message);\n\n        answer.destroyButton.appendChild(answer.destroyButtonCross);\n\n        answer.destroyButtonColumn.appendChild(answer.destroyButton);\n\n        answer.holder.appendChild(answer.textColumn);\n        answer.holder.appendChild(answer.scoreColumn);\n        answer.holder.appendChild(answer.messageColumn);\n        answer.holder.appendChild(answer.destroyButtonColumn);\n\n        question.answers.push(answer);\n\n        insertDOMElement_(answer);\n\n        updateDestroyIcons_(question.answers);\n\n    };\n\n\n    /**\n    * @private\n    * Question element creating function\n    * Creates a question JS object with DOM elements in it and appends it to the questions list\n    */\n    var appendQuestionBlock_ = function (questionData) {\n\n        var question = {};\n        var objectIndex = quiz.nodes.questions.length;\n\n        questionData = questionData || {};\n\n        question.holder = newDOMElement_('div', {\n            'class': 'quiz-form__question-holder',\n            'data-object-index': objectIndex\n        });\n\n        question.number = newDOMElement_('label', {\n            'class': 'quiz-form__question-number'\n        }, 'Вопрос ' + (objectIndex + 1));\n\n        question.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-destroy-button'\n        });\n\n        question.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        question.titleLabel = newDOMElement_('label', {\n            'class': 'quiz-form__label quiz-form__question-title-label'\n        }, 'Заголовок вопроса');\n\n        question.title = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-title',\n            'value': questionData.title || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        question.answers = [];\n\n        question.answersHolder = newDOMElement_('table', {\n            'class': 'quiz-form__question-answers-holder'\n        });\n\n        question.answersHead = newDOMElement_('thead', {\n            'class': 'quiz-form__question-answers-head'\n        });\n\n        question.answersLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-answers-label'\n        }, 'Ответы');\n\n        question.scoresLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-scores-label'\n        }, 'Баллы');\n\n        question.messagesLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-messages-label'\n        }, 'Комментарии к ответам');\n\n        question.destroyButtonLabel = newDOMElement_('th', {\n            'class': 'quiz-form__question-destroy-buttons-label'\n        });\n\n        question.addAnswerButtonRow = newDOMElement_('tr', {\n            'class': 'quiz-form__question-add-answer-button-row'\n        });\n\n        question.addAnswerButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-add-answer-button-column'\n        });\n\n        question.addAnswerButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-add-answer-button'\n        }, 'Добавить ответ');\n\n        question.addAnswerButtonPlus = newDOMElement_('img', {\n            'class': 'quiz-form__button-plus',\n            'src': '/public/app/img/quizzes/plus.svg'\n        });\n\n        question.holder.appendChild(question.number);\n\n        question.destroyButton.appendChild(question.destroyButtonCross);\n\n        question.holder.appendChild(question.destroyButton);\n        question.holder.appendChild(question.titleLabel);\n        question.holder.appendChild(question.title);\n\n        question.answersHead.appendChild(question.answersLabel);\n        question.answersHead.appendChild(question.scoresLabel);\n        question.answersHead.appendChild(question.messagesLabel);\n        question.answersHead.appendChild(question.destroyButtonLabel);\n\n        question.answersHolder.appendChild(question.answersHead);\n\n        question.addAnswerButton.insertBefore(\n            question.addAnswerButtonPlus,\n            question.addAnswerButton.firstChild\n        );\n\n        question.addAnswerButtonColumn.appendChild(question.addAnswerButton);\n\n        question.addAnswerButtonRow.appendChild(question.addAnswerButtonColumn);\n\n        question.answersHolder.appendChild(question.addAnswerButtonRow);\n\n        question.holder.appendChild(question.answersHolder);\n\n        quiz.nodes.questions.push(question);\n\n        if (questionData.answers) {\n\n            questionData.answers.map(function (current, i) {\n\n                appendAnswerBlock_(objectIndex, current);\n\n            });\n\n        } else {\n\n            appendAnswerBlock_(objectIndex);\n            appendAnswerBlock_(objectIndex);\n            appendAnswerBlock_(objectIndex);\n\n        }\n\n        insertDOMElement_(question);\n\n        updateDestroyIcons_(quiz.nodes.questions);\n\n    };\n\n\n    /**\n    * @private\n    * Message block creating function\n    * Creates a result message DOM element and appends it to the result messages list\n    */\n    var appendResultMessageBlock_ = function (messageData) {\n\n        var message = {};\n        var objectIndex = quiz.nodes.resultMessages.length;\n\n        messageData = messageData || {};\n\n        message.holder = newDOMElement_('tr', {\n            'class': 'quiz-form__message-holder',\n            'data-object-index': objectIndex\n        });\n\n        message.messageColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-message-column'\n        });\n\n        message.message = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__message-message',\n            'value': messageData.message || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        message.scoreColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-score-column'\n        });\n\n        message.score = newDOMElement_('input', {\n            'type': 'number',\n            'min': '0',\n            'step': '1',\n            'value': messageData.score || '0',\n            'class': 'quiz-form__message-score',\n            'required': '',\n            'form': 'null'\n        });\n\n        message.destroyButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-destroy-button-column'\n        });\n\n        message.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__message-destroy-button'\n        });\n\n        message.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        message.messageColumn.appendChild(message.message);\n        message.scoreColumn.appendChild(message.score);\n\n        message.destroyButton.appendChild(message.destroyButtonCross);\n\n        message.destroyButtonColumn.appendChild(message.destroyButton);\n\n        message.holder.appendChild(message.messageColumn);\n        message.holder.appendChild(message.scoreColumn);\n        message.holder.appendChild(message.destroyButtonColumn);\n\n        quiz.nodes.resultMessages.push(message);\n\n        insertDOMElement_(message);\n\n        updateDestroyIcons_(quiz.nodes.resultMessages);\n\n    };\n\n\n    /**\n    * @private\n    * Object shifting function\n    * Sets numbers in the question with child elements to given index\n    * @param {object} obj - object in which numbers to be set\n    * @param {number} index - index to which child elements' attributes to be set\n    */\n    var setObjectNumber_ = function (obj, numberTo) {\n\n        obj.holder.dataset.objectIndex = numberTo - 1;\n\n        if (obj.number) {\n\n            obj.number.textContent = 'Вопрос ' + numberTo;\n\n        }\n\n    };\n\n\n    /**\n    * @private\n    * Updating destroy icons function\n    * Disables or enables destroy icon for the only element in container\n    * @param {object} container - object in which icon is to be disabled or enabled\n    */\n    var updateDestroyIcons_ = function (container) {\n\n        if (container.length <= 1) {\n\n            container[0].destroyButton.style.display = 'none';\n\n            if (container[0].firstChild) {\n\n                container[0].firstChild.style.display = 'none';\n\n            }\n\n        } else {\n\n            container[0].destroyButton.style.display = '';\n\n            if (container[0].firstChild) {\n\n                container[0].firstChild.style.display = '';\n\n            }\n\n        }\n\n    };\n\n\n    /**\n    * @private\n    * DOM element inserting function\n    * Inserts DOM element to DOM\n    * @param {object} obj - object in which DOM element to be inserted\n    */\n    var insertDOMElement_ = function (obj) {\n\n        var before;\n        var parent;\n\n        if (obj.answers) {\n\n            before = quiz.questionInsertAnchor;\n            parent = quiz.form;\n\n        } else if (obj.text) {\n\n            before = quiz.nodes.questions[parseInt(obj.holder.dataset.questionIndex)].addAnswerButtonRow;\n            parent = quiz.nodes.questions[parseInt(obj.holder.dataset.questionIndex)].answersHolder;\n\n        } else {\n\n            before = quiz.resultMessageInsertAnchor;\n            parent = quiz.resultMessagesHolder;\n\n        }\n\n        parent.insertBefore(obj.holder, before);\n\n    };\n\n\n    /**\n    * @private\n    * Element object destroying function\n    * Removes the DOM element of object from DOM and destroys object itself\n    * @param {object} container - list where object is to be destroyed\n    * @param {number} elementIndex - index of object in list\n    */\n    var destroyObject_ = function (container, elementIndex) {\n\n        container[elementIndex].holder.parentNode.removeChild(container[elementIndex].holder);\n\n        container.splice(elementIndex, 1);\n        for (var i = elementIndex; i < container.length; i++) {\n\n            setObjectNumber_(container[i], i + 1);\n\n        }\n\n        updateDestroyIcons_(container);\n\n    };\n\n\n    /**\n    * @private\n    * Event listeners setting function\n    * Set event listeners for insert and destroy buttons and form submission\n    */\n    var setEventListeners_ = function () {\n\n        quiz.form.onsubmit = function (event) {\n\n            event.preventDefault();\n\n            var json = {\n                'title': quiz.form.querySelector('[name=\"title\"]').value,\n                'description': quiz.form.querySelector('[name=\"description\"]').value,\n                'questions': [],\n                'resultMessages': [],\n                'shareMessage': quiz.form.querySelector('[name=\"shareMessage\"]').value\n            };\n\n            for (var i in quiz.nodes.questions) {\n\n                var jsonQuestion = {};\n\n                jsonQuestion.title = quiz.nodes.questions[i].title.value;\n                jsonQuestion.answers = [];\n\n                for (var j in quiz.nodes.questions[i].answers) {\n\n                    var jsonAnswer = {};\n\n                    jsonAnswer.text = quiz.nodes.questions[i].answers[j].text.value;\n                    jsonAnswer.score = quiz.nodes.questions[i].answers[j].score.value;\n                    jsonAnswer.message = quiz.nodes.questions[i].answers[j].message.value;\n\n                    jsonQuestion.answers.push(jsonAnswer);\n\n                }\n\n                json.questions.push(jsonQuestion);\n\n            }\n\n            for (var i in quiz.nodes.resultMessages) {\n\n                var jsonMessage = {};\n\n                jsonMessage.score = quiz.nodes.resultMessages[i].score.value;\n                jsonMessage.message = quiz.nodes.resultMessages[i].message.value;\n\n                json.resultMessages.push(jsonMessage);\n\n            };\n\n            quiz.form.appendChild(newDOMElement_('input', {\n                'type': 'hidden',\n                'name': 'quiz_data',\n                'value': JSON.stringify(json)\n            }));\n\n            quiz.form.submit();\n\n        };\n\n        quiz.questionInsertButton.onclick = function () {\n\n            appendQuestionBlock_();\n\n        };\n\n        quiz.resultMessageInsertButton.onclick = function () {\n\n            appendResultMessageBlock_();\n\n        };\n\n\n        quiz.form.onclick = function (event) {\n\n            var container;\n            var elementIndex;\n\n            if (event.target.classList.contains('quiz-form__question-destroy-button')) {\n\n                container = quiz.nodes.questions;\n                elementIndex = parseInt(event.target.parentNode.dataset.objectIndex);\n\n            } else if (event.target.parentNode.classList.contains('quiz-form__question-destroy-button')) {\n\n                container = quiz.nodes.questions;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__question-answer-destroy-button')) {\n\n                container = quiz.nodes.questions[\n                    parseInt(event.target.parentNode.parentNode.dataset.questionIndex)\n                ].answers;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.parentNode.classList.contains('quiz-form__question-answer-destroy-button')) {\n\n                container = quiz.nodes.questions[\n                    parseInt(event.target.parentNode.parentNode.parentNode.dataset.questionIndex)\n                ].answers;\n                elementIndex = parseInt(event.target.parentNode.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__message-destroy-button')) {\n\n                container = quiz.nodes.resultMessages;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__question-add-answer-button')) {\n\n                container = null;\n                elementIndex = parseInt(event.target.parentNode.parentNode.parentNode.parentNode.dataset.objectIndex);\n\n            }\n\n            if (container === null) {\n\n                appendAnswerBlock_(elementIndex);\n\n            } else if (container !== undefined) {\n\n                destroyObject_(container, elementIndex);\n\n            }\n\n        };\n\n    };\n\n\n    /**\n    * @private\n    * First result message adding function\n    * Inserts result message with number 1 to the form\n    */\n    var addInitialResultMessage_ = function () {\n\n        appendResultMessageBlock_();\n\n    };\n\n\n    /**\n    * @private\n    * First question adding function\n    * Inserts question with number 1 to the form\n    */\n    var addInitialQuestion_ = function () {\n\n        appendQuestionBlock_();\n\n    };\n\n\n    /**\n    * @private\n    * Initial form parameters setting adding function\n    * Sets form variable and insert buttons\n    */\n    var setInitialFormParams_ = function () {\n\n        quiz.form = document.forms.quizForm;\n        quiz.questionInsertAnchor = document.getElementById('questionInsertAnchor');\n        quiz.questionInsertButton = document.getElementById('questionInsertButton');\n        quiz.resultMessageInsertAnchor = document.getElementById('resultMessageInsertAnchor');\n        quiz.resultMessageInsertButton = document.getElementById('resultMessageInsertButton');\n        quiz.resultMessagesHolder = document.getElementById('resultMessagesHolder');\n\n    };\n\n\n    /**\n    * @private\n    * Initial destroy icons updating function\n    * Updates initially placed destroy icons\n    */\n    var updateInitialDestroyIcons_ = function () {\n\n        updateDestroyIcons_(quiz.nodes.questions);\n        updateDestroyIcons_(quiz.nodes.resultMessages);\n        updateDestroyIcons_(quiz.nodes.questions[0].answers);\n\n    };\n\n\n    var render = function (quizData) {\n\n        var questions = quizData.questions,\n            resultMessages = quizData.resultMessages;\n\n        document.querySelector('[name=\"title\"]').value = quizData.title;\n        document.querySelector('textarea[name=\"description\"]').textContent = quizData.description;\n        document.querySelector('[name=\"shareMessage\"]').value = quizData.shareMessage;\n\n        setInitialFormParams_();\n\n        resultMessages.map(function (current, i) {\n\n            appendResultMessageBlock_(current);\n\n        });\n\n        questions.map(function (current, i) {\n\n            appendQuestionBlock_(current);\n\n        });\n\n        setEventListeners_();\n\n        updateInitialDestroyIcons_();\n\n    };\n\n\n    /**\n     * @public\n     * Initialization function\n     * Initializes quiz form: inserts initial DOM elements, sets initial event listeners, etc\n     */\n    quiz.init = function (quizData) {\n\n        if (quizData) {\n\n            render(quizData);\n            return;\n\n        }\n\n        setInitialFormParams_();\n        addInitialQuestion_();\n        addInitialResultMessage_();\n        setEventListeners_();\n        updateInitialDestroyIcons_();\n\n    };\n\n    return quiz;\n\n})({});\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/quizForm.js","/**\n* Module for scroll-up button\n*/\nmodule.exports = function () {\n\n    /**\n    * Page scroll offset to show scroll-up button\n    */\n    var SCROLL_UP_OFFSET = 100,\n        button = null;\n\n    var scrollPage = function () {\n\n        window.scrollTo(0, 0);\n\n    };\n\n    var windowScrollHandler = function () {\n\n        if (window.pageYOffset > SCROLL_UP_OFFSET) {\n\n            button.classList.add('show');\n\n        } else {\n\n            button.classList.remove('show');\n\n        }\n\n    };\n\n    /**\n    * Init method\n    * Fired after document is ready\n    */\n\n    var init = function () {\n\n        /** Find scroll-up button */\n        button = document.createElement('DIV');\n\n        button.classList.add('scroll-up');\n        document.body.appendChild(button);\n\n        /** Bind click event on scroll-up button */\n        button.addEventListener('click', scrollPage);\n\n        /** Global window scroll handler */\n        window.addEventListener('scroll', windowScrollHandler);\n\n    };\n\n    return {\n        init : init\n    };\n\n\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/scrollUp.js","/**\n * Module for social sharing\n */\nmodule.exports = (function ( sharer ) {\n\n    /**\n     * @param  {Object} data - Info about item we want to share\n     */\n    sharer.vkontakte = function (data) {\n\n        var link  = 'https://vk.com/share.php?';\n\n        link += 'url='          + data.url;\n        link += '&title='       + data.title;\n        link += '&description=' + data.desc;\n        link += '&image='       + data.img;\n        link += '&noparse=true';\n\n        sharer.popup( link, 'vkontakte'  );\n\n    };\n\n    sharer.facebook = function (data) {\n\n        var FB_APP_ID = 1740455756240878,\n            link      = 'https://www.facebook.com/dialog/share?display=popup';\n\n        link += '&app_id='       + FB_APP_ID;\n        link += '&href='         + data.url;\n        link += '&redirect_uri=' + document.location.href;\n\n        sharer.popup( link, 'facebook' );\n\n    };\n    sharer.twitter = function (data) {\n\n        var link = 'https://twitter.com/share?';\n\n        link += 'text='      + data.title;\n        link += '&url='      + data.url;\n        link += '&counturl=' + data.url;\n\n        sharer.popup( link, 'twitter' );\n\n    };\n\n    sharer.telegram = function (data) {\n\n        var link  = 'https://telegram.me/share/url';\n\n        link += '?text=' + data.title;\n        link += '&url='  + data.url;\n\n        sharer.popup( link, 'telegram' );\n\n    };\n    /**\n     * @param  {String} url\n     * @param  {String} social_type\n     */\n    sharer.popup = function ( url, social_type ) {\n\n        window.open( url, '', 'toolbar=0,status=0,width=626,height=436' );\n\n        /**\n        * Write analytics goal\n        */\n        if ( window.yaCounter32652805 ) {\n\n            window.yaCounter32652805.reachGoal('article-share', function () {}, this, {type: social_type, url: url});\n\n        }\n\n    };\n\n    sharer.init = function () {\n\n        var shareButtons = document.querySelectorAll('.sharing .but, .sharing .main_but, .quiz__sharing .but');\n\n        for (var i = shareButtons.length - 1; i >= 0; i--) {\n\n            shareButtons[i].addEventListener('click', sharer.click, true);\n\n        }\n\n    };\n    /**\n     * @param  {Event} event\n     */\n    sharer.click = function (event) {\n\n        var target = event.target;\n\n        /**\n        * Social provider stores in data 'shareType' attribute on share-button\n        * But click may be fired on child-element in button, so we need to handle it.\n        */\n        var type = target.dataset.shareType || target.parentNode.dataset.shareType;\n\n        if (!sharer[type]) return;\n\n        /**\n        * Sanitize share params\n        * @todo test for taint strings\n        */\n        // for (key in window.shareData){\n        //      window.shareData[key] = encodeURIComponent(window.shareData[key]);\n        // }\n\n        var shareData = {\n            url:    target.dataset.url || target.parentNode.dataset.url,\n            title:  target.dataset.title || target.parentNode.dataset.title,\n            desc:   target.dataset.desc || target.parentNode.dataset.desc,\n            img:    target.dataset.img || target.parentNode.dataset.title\n        };\n\n        /**\n        * Fire click handler\n        */\n\n        sharer[type](shareData);\n\n    };\n\n\n\n    return sharer;\n\n})({});\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/sharer.js","/**\n * codex.showMoreNews module\n * Used in news block\n * Reveals more news when appender button is fired\n * Usage onclick=\"codex.showMoreNews.init( this );\"\n */\nvar showMoreNews = function () {\n\n\t/**\n    * Helper for 'show more news' button\n    * @param {Element} button   - appender button\n    */\n    var init = function ( button ) {\n\n        var PORTION = 5; // Amount of news shown each time appender button is fired\n\n        var news = document.querySelectorAll('.news__list_item'),\n            hided = [];\n\n        for (var i = 0, newsItem; !!(newsItem = news[i]); i++) {\n\n            if ( newsItem.classList.contains('news__list_item--hidden') ) {\n\n                hided.push(newsItem);\n\n            }\n\n        }\n\n        /**\n         * @param {Element} item\n         * Remove PORTION of first elements from array hided\n         */\n        hided.splice(0, PORTION).map(function (item) {\n\n            item.classList.remove('news__list_item--hidden');\n\n        });\n\n        if (!hided.length) {\n\n            button.classList.add('news__list_item--hidden');\n\n        }\n\n    };\n\n    return {\n    \tinit : init\n    };\n\n}({});\n\nmodule.exports = showMoreNews;\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/showMoreNews.js","/**\n* Minimal, lightview and universal code highilting\n* Used on articles page\n* @author Savchenko Peter (vk.com/specc)\n* @param {Object} simpleCode\n*/\nvar simpleCode = (function (simpleCode) {\n\n    simpleCode.rules = {\n\n        comments: function (str) {\n\n            return str.replace(/(\\/\\*([^*]|[\\r\\n]|(\\*+([^*\\/]|[\\r\\n])))*\\*\\/)/g, '<span class=sc_comment>$1</span>');\n\n        },\n        comments_inline: function (str) {\n\n            return str.replace(/[^\\w:](\\/\\/[^\\n]+)/g, '<span class=sc_comment>$1</span>');\n\n        },\n        tags : function (str) {\n\n            return str.replace( /(&lt;[\\/a-z]+(&gt;)?)/gi, '<span class=sc_tag>$1</span>' );\n\n        },\n        attrs : function (str) {\n\n            return str.replace( /\"([^\"]+)\"/gi, '\"<span class=sc_attr>$1</span>\"' );\n\n        },\n        strings : function (str) {\n\n            return str.replace( /'([^']+)'/gi, '\\'<span class=sc_attr>$1</span>\\'' );\n\n        },\n        keywords : function (str) {\n\n            return str.replace(/\\b(var|const|function|typeof|return|endif|endforeach|foreach|if|for|in|while|break|continue|switch|case|int|void|python|from|import|install|def|virtualenv|source|sudo|git)([^a-z0-9\\$_])/g, '<span class=sc_keyword>$1</span>$2');\n\n        },\n        digits : function (str) {\n\n            return str.replace(/\\b(\\d+)\\b/g, '<span class=sc_digt>$1</span>');\n\n        },\n        vars : function (str) {\n\n            return str.replace(/(\\$[^\\s\\[\\]\\{\\}\\'\\\"\\(\\)]+)\\b/g, '<span class=sc_var>$1</span>');\n\n        },\n        colors : function (str) {\n\n            return str.replace(/(#[a-z0-9]{3,6})/ig, '<span class=sc_color style=border-bottom-color:$1>$1</span>');\n\n        }\n\n    };\n\n    simpleCode.process = function (el) {\n\n        var origin = el.innerHTML;\n\n        for (var rule in simpleCode.rules) {\n\n            origin = simpleCode.rules[rule](origin);\n\n        }\n\n        el.innerHTML = origin;\n\n    };\n\n    simpleCode.addStyles = function () {\n\n        var styleInstance = 'simpleCodeStylingCss',\n            style         = document.getElementById(styleInstance),\n            css =   '.sc_attr{color: #F57975;}' +\n                    '.sc_tag{color: #7DA3F4;}' +\n                    '.sc_keyword{color: #d87ccf;}' +\n                    '.sc_digt{color: #37D755;}'+\n                    '.sc_var{color: #8199C6;}' +\n                    '.sc_comment{color: #acb1bd;}' +\n                    '.sc_color{display: inline-block;line-height: 1em;border-bottom-width:2px;border-bottom-style:solid;}';\n\n        if (!style) {\n\n            style = document.createElement('style');\n            style.id = styleInstance;\n            style.innerHTML = css;\n\n            document.head.appendChild(style);\n\n        }\n\n    };\n\n    /**\n     * @param {String} selector - CSS selector .article__code\n     * @usage codex.simpleCode.init(\".article__code\");\n     */\n    simpleCode.init = function (selector) {\n\n        simpleCode.addStyles();\n\n        var code_elements = document.querySelectorAll(selector);\n\n        for (var i = code_elements.length - 1; i >= 0; i--) {\n\n            simpleCode.process(code_elements[i]);\n\n        }\n\n    };\n\n    return simpleCode;\n\n})({});\n\nmodule.exports = simpleCode;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/simpleCodeStyling.js","/**\n* Ajax file transport module\n* @author Savchenko Peter (vk.com/specc)\n* @param {Object} transport\n*/\nmodule.exports = (function (transport) {\n\n    transport.currentButtonClicked = {};\n\n    /**\n     * @param {Element} buttons\n     */\n    transport.init = function (buttons) {\n\n        transport.form  = document.getElementById('transportForm');\n        transport.input = document.getElementById('transportInput');\n\n        for (var i = buttons.length - 1; i >= 0; i--) {\n\n            buttons[i].addEventListener('click', transport.buttonCallback, false);\n\n        }\n\n        transport.input.addEventListener('change', transport.submitCallback, false );\n\n    };\n\n    /**\n     * @param {Event} event\n     */\n    transport.buttonCallback = function (event) {\n\n        var action        = this.dataset.action,\n            target_id     = this.dataset.id,\n            is_multiple   = !!this.dataset.multiple || false;\n\n        transport.fillForm({\n            action : action,\n            id     : target_id\n        });\n\n        if ( is_multiple ) {\n\n            transport.form.multiple = 'multiple';\n\n        }\n\n        transport.currentButtonClicked = this;\n        transport.input.click();\n\n    };\n\n    /**\n    * Append hidden inputs to tranport form\n    * @param {Object} data\n    */\n    transport.fillForm = function (data) {\n\n        var input,\n            alreadyAddedInput;\n\n        for ( var field in data ) {\n\n            if (typeof data[field] == 'undefined') {\n\n                continue;\n\n            }\n\n            alreadyAddedInput = transport.form.querySelector('input[name=' + field + ']');\n\n            if (typeof alreadyAddedInput != 'undefined' && alreadyAddedInput !== null) {\n\n                input = alreadyAddedInput;\n\n            } else {\n\n                input = document.createElement('input');\n\n            }\n\n            input.type = 'hidden';\n            input.name = field;\n            input.value = data[field];\n\n            transport.form.appendChild(input);\n\n        }\n\n    };\n\n    transport.submitCallback = function () {\n\n        const FILE_MAX_SIZE = 30 * 1024 * 1024; // 30 MB\n\n        var files = transport.getFileObject( this );\n\n        for (var i = files.length - 1; i >= 0; i--) {\n\n            /** Validate file extension */\n            if ( !transport.validateExtension(files[i]) || !transport.validateMIME(files[i]) ) {\n\n                window.console && console.warn('Wrong file type: %o', + files[i].name);\n                return;\n\n            }\n\n            /** Validate file size */\n            if ( !transport.validateSize( files[i], FILE_MAX_SIZE) ) {\n\n                window.console && console.warn('File size exceeded limit: %o MB', files[i].size / (1024*1024).toFixed(2) );\n                return;\n\n            }\n\n        }\n\n        transport.currentButtonClicked.className += ' loading';\n        transport.form.submit();\n\n    };\n\n    /**\n    * Fires from transport-frame window\n    * @param {Object} response\n    */\n    transport.response = function ( response ) {\n\n        transport.currentButtonClicked.className = transport.currentButtonClicked.className.replace('loading', '');\n\n        if (response.callback) {\n\n            eval(response.callback);\n\n        }\n\n        if ( response.result ) {\n\n            if ( response.result == 'error' ) {\n\n                window.console && console.warn( response.error_description || 'error' );\n\n            }\n\n        }\n\n    };\n    /**\n     * @param  {[Element]} fileInput\n     * @return {[type]}           [description]\n     */\n    transport.getFileObject = function ( fileInput ) {\n\n        if ( !fileInput ) return false;\n        /**\n        * Workaround with IE that doesn't support File API\n        * @todo test and delete this crutch\n        */\n        return typeof ActiveXObject == 'function' ? (new ActiveXObject('Scripting.FileSystemObject')).getFile(fileInput.value) : fileInput.files;\n\n    };\n\n    /**\n     * @param {Object} accept\n     * @param {Object} fileObj\n     * @return {Boolean}\n     */\n    transport.validateMIME = function ( fileObj, accept ) {\n\n\n        accept = typeof accept == 'array' ? accept : ['image/jpeg', 'image/png'];\n\n        for (var i = accept.length - 1; i >= 0; i--) {\n\n            if ( fileObj.type == accept[i] ) return true;\n\n        }\n        return false;\n\n    };\n\n    transport.validateExtension = function ( fileObj, accept ) {\n\n        var ext = fileObj.name.match(/\\.(\\w+)($|#|\\?)/);\n\n        if (!ext) return false;\n\n        ext = ext[1].toLowerCase();\n\n        accept = typeof accept == 'array' ? accept : ['jpg', 'jpeg', 'png'];\n\n        for (var i = accept.length - 1; i >= 0; i--) {\n\n            if ( ext == accept[i] ) return true;\n\n        }\n\n        return false;\n\n    };\n\n    transport.validateSize = function ( fileObj, max_size) {\n\n        return fileObj.size < max_size;\n\n    };\n\n    return transport;\n\n})({});\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/transport.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/css/main.css\n// module id = 16\n// module chunks = 0","require('../css/main.css');\n\nvar codex = (function (codex) {\n\n    codex.settings = {};\n\n    /**\n    * Preparation method\n    */\n    codex.init = function (settings) {\n\n        /** Save settings or use defaults */\n        for (var set in settings ) {\n\n            this.settings[set] = settings[set] || this.settings[set] || null;\n\n        }\n\n        codex.scrollUp.init();\n\n    };\n\n\n\n    return codex;\n\n\n})({});\n\n/**\n* Document ready event listener\n* @usage codex.docReady(function(){ # code ... } );\n*/\ncodex.docReady = function (f) {\n\n    return /in/.test(document.readyState) ? setTimeout(codex.docReady, 9, f) : f();\n\n};\n\n\n/**\n* Pages\n*/\ncodex.admin = require('./modules/admin');\ncodex.join = require('./modules/join');\n\n\n/**\n * Modules\n */\ncodex.core = require('./modules/core');\ncodex.dragndrop = require('./modules/dragndrop');\ncodex.scrollUp = require('./modules/scrollUp');\ncodex.sharer = require('./modules/sharer');\ncodex.developer = require('./modules/bestDevelopers');\ncodex.simpleCode = require('./modules/simpleCodeStyling');\ncodex.showMoreNews = require('./modules/showMoreNews');\ncodex.polyfills = require('./modules/polyfills');\ncodex.ajax = require('./modules/ajax');\ncodex.profile = require('./modules/profile');\ncodex.helpers = require('./modules/helpers');\ncodex.quiz = require('./modules/quiz');\ncodex.quizForm = require('./modules/quizForm');\ncodex.transport = require('./modules/transport');\n\nmodule.exports = codex;\n\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/main.js"],"sourceRoot":""}