{"version":3,"sources":["webpack://[name]/webpack/bootstrap","webpack://[name]/./node_modules/@codexteam/ajax/dist/main.js","webpack://[name]/./node_modules/@codexteam/deeplinker/dist/deeplinker.js","webpack://[name]/./node_modules/codex-notifier/dist/bundle.js","webpack://[name]/./node_modules/module-dispatcher/lib/moduleDispatcher.js","webpack://[name]/./public/app/css/main.css?a94a","webpack://[name]/./public/app/js/classes/cPreview.js","webpack://[name]/./public/app/js/main.js","webpack://[name]/./public/app/js/modules/admin.js","webpack://[name]/./public/app/js/modules/ajax.js","webpack://[name]/./public/app/js/modules/articleCreate.js","webpack://[name]/./public/app/js/modules/bestDevelopers.js","webpack://[name]/./public/app/js/modules/codeStyling.js","webpack://[name]/./public/app/js/modules/core.js","webpack://[name]/./public/app/js/modules/dom.js","webpack://[name]/./public/app/js/modules/dragndrop.js","webpack://[name]/./public/app/js/modules/editorLanding.js","webpack://[name]/./public/app/js/modules/helpers.js","webpack://[name]/./public/app/js/modules/join.js","webpack://[name]/./public/app/js/modules/newsCreate.js","webpack://[name]/./public/app/js/modules/player.js","webpack://[name]/./public/app/js/modules/pluginsFilter.js","webpack://[name]/./public/app/js/modules/polyfills.js","webpack://[name]/./public/app/js/modules/profile.js","webpack://[name]/./public/app/js/modules/quiz.js","webpack://[name]/./public/app/js/modules/quizForm.js","webpack://[name]/./public/app/js/modules/scrollUp.js","webpack://[name]/./public/app/js/modules/sharer.js","webpack://[name]/./public/app/js/modules/showMoreNews.js","webpack://[name]/./public/app/js/modules/transport.js","webpack://[name]/./public/app/js/modules/vkWidget.js"],"names":["cPreview","show","output","holder","JSON","stringify","encodeHTMLEntities","stylize","innerHTML","string","replace","module","exports","require","VK_COMMUNITY_ID","codex","codex_","settings","init","set","docReady","initModules","moduleDispatcher","Library","scrollUp","deeplinker","codeStyling","vkWidget","id","display","communityId","playVideoButton","document","querySelector","Player","sourceURL","toggler","wrapperSelector","f","test","readyState","window","setTimeout","admin","join","core","dragndrop","sharer","developer","showMoreNews","polyfills","ajax","profile","helpers","quiz","quizForm","transport","pluginsFilter","editorLanding","EditorLanding","articleCreate","ArticleCreate","newsCreate","NewsCreate","initDragNDrop","droppableClass","findDraggable","e","target","closest","makeAvatar","elem","avatar","cloneNode","classList","add","parentNode","insertBefore","nextSibling","rollback","removeChild","remove","targetChanged","newTarget","targetPosition","compareDocumentPosition","move","targetReached","itemId","dataset","itemType","type","itemBelowValue","nextElementSibling","ajaxData","success","getElementById","url","data","params","log","listType","items","querySelectorAll","i","length","xhr_","xhr","objectToQueryString","a","prefix","s","name","r20","key","value","encodeURIComponent","Array","buildParams","obj","l","rbracket","call","console","warn","XMLHTTP","XMLHttpRequest","ActiveXObject","successCallback","async","formData","contentType","beforeSend","open","setRequestHeader","onreadystatechange","status","responseText","send","parseHTML","markup","doc","implementation","createHTMLDocument","toLowerCase","indexOf","documentElement","body","serialize","form","j","len","jLen","formElement","q","urlencode","str","addNameValue","push","nodeName","elements","disabled","checked","options","selected","notifier","EditorWriting","article","article_textarea","button","submit_id","formURL","form_url","editorSettings","blocks","getArticleData","loadEditor","then","editor","prepareSubmit","addEventListener","saveArticle","save","savedData","Promise","resolve","post","response","location","href","redirect","showErrorMessage","message","err","error","style","textContent","pageContent","parse","Editor","chBoxes","toggle","event","$","library","js","css","prepare","all","loadResource","codeBlocksSelector","codeBlocks","hljs","highlightBlock","arg","staticLength","substr","successFunction","withCredentials","DOM","tagName","classNames","attributes","el","createElement","isArray","attrName","nodeToReplace","replaceWith","replaceChild","elementId","path","instanceName","resourcePrefix","reject","includes","node","defer","charset","rel","timerLabel","time","onload","timeEnd","onerror","src","head","appendChild","defaultHandlers","draggableClass","findDroppable","elementFromPoint","clientX","clientY","avatarRollback","dragObj","shift","left","pageX","x","top","pageY","y","onMouseDown","which","touchSupported","clickedAt","toggleSelection","coords","getCoords","onMouseMove","preventDefault","Math","abs","onMouseUp","rect","getBoundingClientRect","pageXOffset","pageYOffset","changedTouches","touch","screenX","screenY","ondragstart","nodes","outputWrapper","editorLandingSettings","output_id","dataSample","text","level","file","caption","stretched","withBorder","withBackground","onChange","previewData","onReady","editorConfigOverride","tools","image","config","additionalRequestData","temporary","setCookie","expires","domain","toGMTString","cookie","getCookie","dc","begin","end","unescape","substring","getOffset","_x","_y","isNaN","offsetLeft","offsetTop","clientLeft","clientTop","offsetParent","animationClass","successMessageBanner","formElementTextareas","getElementsByTagName","checkUserCanEdit","blankShowAdditionalFieldsButton","showAdditionalFields","stopPropagation","sendForm","FormData","FORM","textarea","blankAuthBlock","emailInput","blankAdditionalFields","saveNews","wrapper","overlay","CSS","overlayShowed","overlayLoaded","closeButton","showVideoOverlay","make","video","autoplay","loop","source","videoLoaded","close","blockTools","inlineTools","blockToolsClass","inlineToolsClass","pluginFilters","blockFilterButtonClass","showBlockToolsOnly","inlineFilterButtonClass","showInlineToolsOnly","allToolsFilterButtonClass","showAllPlugins","filterButton","buttonClass","filterAction","buttonAction","toggleTools","toolsToShow","toolsToHide","hideOneType","String","prototype","apply","arguments","Element","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","selector","parentElement","uploadPhotoSuccess","newPhotoURL","settingsPhoto","headerPhoto","quizData","numberOfQuestions","currentQuestion","score","maxScore","quizDataInput","questions","gameProcessing_","UI_","setupQuestionInterface","currentQuestionObj","questionElems","clear","title","optionsHolder","counter","nextButton","createElem","setAttribute","append","showQuestion","removeEventListener","answers","map","createOption","answerSelected","answer","current","getUserAnswer","showResult","showAnswer","answerStyle","answerIndex","index","answerMessage","insertAfter","showCorrectAnswers","result","resultScore","resultMessage","getMessage","social","createSocial","retry","bind","networks","shareType","icon","shareMessage","desc","description","answerObj","tag","classes","elems","parent","elemBefore","firstChild","question","parseFloat","currentTarget","messages","resultMessages","sort","b","questionInsertAnchor","questionInsertButton","resultMessageInsertAnchor","resultMessageInsertButton","resultMessagesHolder","newDOMElement_","element","textNode","createTextNode","attr","attrNode","createAttribute","setAttributeNode","appendAnswerBlock_","questionIndex","answerData","objectIndex","textColumn","scoreColumn","messageColumn","destroyButtonColumn","destroyButton","destroyButtonCross","insertDOMElement_","updateDestroyIcons_","appendQuestionBlock_","questionData","number","titleLabel","answersHolder","answersHead","answersLabel","scoresLabel","messagesLabel","destroyButtonLabel","addAnswerButtonRow","addAnswerButtonColumn","addAnswerButton","addAnswerButtonPlus","appendResultMessageBlock_","messageData","setObjectNumber_","numberTo","container","before","parseInt","destroyObject_","elementIndex","splice","setEventListeners_","onsubmit","json","jsonQuestion","jsonAnswer","jsonMessage","submit","onclick","contains","undefined","addInitialResultMessage_","addInitialQuestion_","setInitialFormParams_","forms","updateInitialDestroyIcons_","render","SCROLL_UP_OFFSET","scrollPage","scrollTo","windowScrollHandler","vkontakte","link","img","popup","facebook","FB_APP_ID","twitter","telegram","socialType","yaCounter32652805","reachGoal","assert","buttonsSelector","shareButtons","click","shareData","PORTION","news","hided","newsItem","item","currentButtonClicked","buttons","buttonsClass","input","buttonCallback","submitCallback","action","targetId","isMultiple","multiple","fillForm","alreadyAddedInput","field","FILE_MAX_SIZE","files","getFileObject","validateExtension","validateMIME","validateSize","size","toFixed","className","callback","eval","error_description","fileInput","getFile","fileObj","accept","ext","match","maxSize","targetView","VK_API_URI","loadScript","vkApiScript","showWidget","VK","Widgets","Group"],"mappings":";;QAAA;QACA;QACA;QACA;;;QAGA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;;;QAGA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;;;QAIA;QACA;QACA,yCAAyC,kBAAkB;QAC3D;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;;;QAGA;;QAEA;QACA,iCAAiC;;QAEjC;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,MAAM;QACN;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,wBAAwB,kCAAkC;QAC1D,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA,0CAA0C,oBAAoB,WAAW;;QAEzE;QACA;QACA;QACA;QACA,gBAAgB,uBAAuB;QACvC;;;QAGA;QACA;;;;;;;;;;;;ACrMA,eAAe,KAAiD,oBAAoB,SAAuG,CAAC,mBAAmB,mBAAmB,SAAS,cAAc,4BAA4B,YAAY,qBAAqB,2DAA2D,uCAAuC,qCAAqC,oBAAoB,EAAE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","file":"codex.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"codex\": 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({\"editor\":\"editor\"}[chunkId]||chunkId) + \".bundle.js?h=\" + \"2c87587f8c52c2ec7f07\" + \"\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/public/build/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp_name_\"] = window[\"webpackJsonp_name_\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./public/app/js/main.js\");\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.ajax=t():e.ajax=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=3)}([function(e,t){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";(function(e){var r=n(2),o=setTimeout;function i(){}function a(e){if(!(this instanceof a))throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}c(t.promise,r)}else(1===e._state?c:s)(t.promise,e._value)})):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void f(e);if(\"function\"==typeof n)return void l(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,f(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return u(this,new function(e,t,n){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.promise=n}(e,t,n)),n},a.prototype.finally=r.a,a.all=function(e){return new a(function(t,n){if(!e||void 0===e.length)throw new TypeError(\"Promise.all accepts an array\");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var u=a.then;if(\"function\"==typeof u)return void u.call(a,function(t){i(e,t)},n)}r[e]=a,0==--o&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)i(a,r[a])})},a.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},a._immediateFn=\"function\"==typeof e&&function(t){e(t)}||function(e){o(e,0)},a._unhandledRejectionFn=function(e){\"undefined\"!=typeof console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",e)},t.a=a}).call(this,n(5).setImmediate)},function(e,t,n){\"use strict\";t.a=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}},function(e,t,n){\"use strict\";function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}n(4);var o=n(8),i=function(){var e={URLENCODED:\"application/x-www-form-urlencoded; charset=utf-8\",FORM:\"multipart/form-data\",JSON:\"application/json; charset=utf-8\"},t=function(e){return new Promise(function(t,n){e=a(e),e=u(e);var r=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject(\"Microsoft.XMLHTTP\");r.open(e.method,e.url),r.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),Object.keys(e.headers).forEach(function(t){var n=e.headers[t];r.setRequestHeader(t,n)});var o=e.ratio;r.upload.addEventListener(\"progress\",function(t){var n=Math.round(t.loaded/t.total*100),r=Math.ceil(n*o/100);e.progress(r)},!1),r.addEventListener(\"progress\",function(t){var n=Math.round(t.loaded/t.total*100),r=Math.ceil(n*(100-o)/100)+o;e.progress(r)},!1),r.onreadystatechange=function(){if(4===r.readyState){var e=r.response;try{e=JSON.parse(e)}catch(e){}200===r.status?t(e):n(e)}},r.send(e.data)})},n=function(e){return e.method=\"POST\",t(e)},a=function(t){if(!t.url||\"string\"!=typeof t.url)throw new Error(\"Url must be a non-empty string\");if(t.method&&\"string\"!=typeof t.method)throw new Error(\"`method` must be a string or null\");if(t.method=t.method?t.method.toUpperCase():\"GET\",t.headers&&\"object\"!==r(t.headers))throw new Error(\"`headers` must be an object or null\");if(t.headers=t.headers||{},t.type&&(\"string\"!=typeof t.type||!Object.values(e).includes(t.type)))throw new Error(\"`type` must be taken from module's «contentType» library\");if(t.progress&&\"function\"!=typeof t.progress)throw new Error(\"`progress` must be a function or null\");if(t.progress=t.progress||function(e){},t.beforeSend=t.beforeSend||function(e){},t.ratio&&\"number\"!=typeof t.ratio)throw new Error(\"`ratio` must be a number\");if(t.ratio<0||t.ratio>100)throw new Error(\"`ratio` must be in a 0-100 interval\");if(t.ratio=t.ratio||90,t.accept&&\"string\"!=typeof t.accept)throw new Error(\"`accept` must be a string with a list of allowed mime-types\");if(t.accept=t.accept||\"*/*\",t.multiple&&\"boolean\"!=typeof t.multiple)throw new Error(\"`multiple` must be a true or false\");if(t.multiple=t.multiple||!1,t.fieldName&&\"string\"!=typeof t.fieldName)throw new Error(\"`fieldName` must be a string\");return t.fieldName=t.fieldName||\"files\",t},u=function(t){switch(t.method){case\"GET\":var n=c(t.data,e.URLENCODED);delete t.data,t.url=/\\?/.test(t.url)?t.url+\"&\"+n:t.url+\"?\"+n;break;case\"POST\":case\"PUT\":case\"DELETE\":case\"UPDATE\":var r=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||e.JSON}(t);(o.isFormData(t.data)||o.isFormElement(t.data))&&(r=e.FORM),t.data=c(t.data,r),r!==i.contentType.FORM&&(t.headers[\"content-type\"]=r)}return t},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case e.URLENCODED:return o.urlEncode(t);case e.JSON:return o.jsonEncode(t);case e.FORM:return o.formEncode(t);default:return t}};return{contentType:e,request:t,get:function(e){return e.method=\"GET\",t(e)},post:n,transport:function(e){return e=a(e),o.transport(e).then(function(t){return o.isObject(e.data)&&Object.keys(e.data).forEach(function(n){var r=e.data[n];t.append(n,r)}),e.data=t,n(e)})}}}();e.exports=i},function(e,t,n){\"use strict\";n.r(t);var r=n(1);window.Promise=window.Promise||r.a},function(e,t,n){(function(e){var r=void 0!==e&&e||\"undefined\"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(6),t.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){\"use strict\";if(!e.setImmediate){var r,o=1,i={},a=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,\"[object process]\"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(\"\",\"*\"),e.onmessage=n,t}}()?function(){var t=\"setImmediate$\"+Math.random()+\"$\",n=function(n){n.source===e&&\"string\"==typeof n.data&&0===n.data.indexOf(t)&&f(+n.data.slice(t.length))};e.addEventListener?e.addEventListener(\"message\",n,!1):e.attachEvent(\"onmessage\",n),r=function(n){e.postMessage(t+n,\"*\")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){f(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&\"onreadystatechange\"in u.createElement(\"script\")?function(){var e=u.documentElement;r=function(t){var n=u.createElement(\"script\");n.onreadystatechange=function(){f(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(f,0,e)},c.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},c.clearImmediate=s}function s(e){delete i[e]}function f(e){if(a)setTimeout(f,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{s(e),a=!1}}}}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(7))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r=\"function\"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,s=[],f=!1,l=-1;function d(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&p())}function p(){if(!f){var e=u(d);f=!0;for(var t=s.length;t;){for(c=s,s=[];++l<t;)c&&c[l].run();l=-1,t=s.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new m(e,t)),1!==s.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(e){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(9);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,null,[{key:\"urlEncode\",value:function(e){return o(e)}},{key:\"jsonEncode\",value:function(e){return JSON.stringify(e)}},{key:\"formEncode\",value:function(e){if(this.isFormData(e))return e;if(this.isFormElement(e))return new FormData(e);if(this.isObject(e)){var t=new FormData;return Object.keys(e).forEach(function(n){var r=e[n];t.append(n,r)}),t}throw new Error(\"`data` must be an instance of Object, FormData or <FORM> HTMLElement\")}},{key:\"isObject\",value:function(e){return\"[object Object]\"===Object.prototype.toString.call(e)}},{key:\"isFormData\",value:function(e){return e instanceof FormData}},{key:\"isFormElement\",value:function(e){return e instanceof HTMLFormElement}},{key:\"transport\",value:function(e){return new Promise(function(t,n){var r=document.createElement(\"INPUT\");r.type=\"file\",e.multiple&&r.setAttribute(\"multiple\",\"multiple\"),e.accept&&r.setAttribute(\"accept\",e.accept),r.addEventListener(\"change\",function(n){for(var r=n.target.files,o=new FormData,i=0;i<r.length;i++)o.append(e.fieldName,r[i],r[i].name);e.beforeSend(r),t(o)},!1),r.click()})}}]),e}()},function(e,t){var n=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape).replace(/%20/g,\"+\")},r=function(e,t,o,i){return t=t||null,o=o||\"&\",i=i||null,e?function(e){for(var t=new Array,n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}(Object.keys(e).map(function(a){var u,c=a;if(i&&(c=i+\"[\"+c+\"]\"),\"object\"==typeof e[a]&&null!==e[a])u=r(e[a],null,o,c);else{t&&(c=function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(c)?t+Number(c):c);var s=e[a];s=(s=0===(s=!1===(s=!0===s?\"1\":s)?\"0\":s)?\"0\":s)||\"\",u=n(c)+\"=\"+n(s)}return u})).join(o).replace(/[!'()*]/g,\"\"):\"\"};e.exports=r}])});","!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports.deeplinker=n():e.deeplinker=n()}(window,function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=\"\",t(t.s=0)}([function(e,n,t){\"use strict\";var o,r,i,u,c,f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};\n/**\n * Helps to set link with custom protocol (to open apps) and usual link (for webpages) to a button\n *\n * @author Taly Guryn <https://github.com/talyguryn>\n * @license MIT\n */e.exports=(o=function(e){\"object\"!==(void 0===e?\"undefined\":f(e))&&c(\"Passed element is not an object\");var n=e.dataset.link||e.href,t=e.dataset.appLink;i(t,n)},r=function(e){e||c(\"Can not open app, because appLink is undefined\");var n=document.createElement(\"iframe\");n.style.display=\"none\",document.body.appendChild(n),null!==n&&(n.src=e)},i=function(e,n){var t=!1;window.addEventListener(\"pagehide\",function(){t=!0},!1),window.addEventListener(\"blur\",function(){t=!0},!1),r(e),setTimeout(function(){t||u(n)},100)},u=function(e){e||c(\"Can not open page because link is undefined\"),window.open(e,\"_blank\")},c=function(e){throw Error(\"[Deeplinker] \"+e)},{click:o,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\".deeplinker\",n=document.querySelectorAll(e);n.length&&Array.prototype.slice.call(n).forEach(function(e){e.addEventListener(\"click\",function(n){n.preventDefault(),o(e)})})},tryToOpenApp:r})}])});","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.notifier=e():t.notifier=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/\",n(n.s=0)}([function(t,e,n){\"use strict\";n(1),\n/*!\n * Codex JavaScript Notification module\n * https://github.com/codex-team/js-notifier\n */\nt.exports=function(){var t=n(6),e=\"cdx-notify--bounce-in\",o=null;return{show:function(n){if(n.message){!function(){if(o)return!0;o=t.getWrapper(),document.body.appendChild(o)}();var r=null,i=n.time||8e3;switch(n.type){case\"confirm\":r=t.confirm(n);break;case\"prompt\":r=t.prompt(n);break;default:r=t.alert(n),window.setTimeout(function(){r.remove()},i)}o.appendChild(r),r.classList.add(e)}}}}()},function(t,e,n){var o=n(2);\"string\"==typeof o&&(o=[[t.i,o,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\\'\\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen,Ubuntu,Cantarell,\"Fira Sans\",\"Droid Sans\",\"Helvetica Neue\",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\\'\\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',\"\"])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||\"\",o=t[3];if(!o)return n;if(e&&\"function\"==typeof btoa){var r=(a=o,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+\" */\"),i=o.sources.map(function(t){return\"/*# sourceURL=\"+o.sourceRoot+t+\" */\"});return[n].concat(i).concat([r]).join(\"\\n\")}var a;return[n].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+n+\"}\":n}).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];\"number\"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];\"number\"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),c=function(t){var e={};return function(t){if(\"function\"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),s=null,f=0,d=[],u=n(5);function l(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(h(o.parts[a],e))}else{var c=[];for(a=0;a<o.parts.length;a++)c.push(h(o.parts[a],e));i[o.id]={id:o.id,refs:1,parts:c}}}}function p(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(c):n.push(o[a]={id:a,parts:[c]})}return n}function b(t,e){var n=c(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var o=d[d.length-1];if(\"top\"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var r=c(t.insertInto+\" \"+t.insertAt.before);n.insertBefore(e,r)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function x(t){var e=document.createElement(\"style\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),y(e,t.attrs),b(t,e),e}function y(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function h(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var a=f++;n=s||(s=x(e)),o=_.bind(null,n,a,!1),r=_.bind(null,n,a,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),t.attrs.rel=\"stylesheet\",y(e,t.attrs),b(t,e),e}(e),o=function(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=u(o));r&&(o+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+\" */\");var a=new Blob([o],{type:\"text/css\"}),c=t.href;t.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}.bind(null,n,e),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=x(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute(\"media\",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=p(t,e);return l(n,e),function(t){for(var o=[],r=0;r<n.length;r++){var a=n[r];(c=i[a.id]).refs--,o.push(c)}t&&l(p(t,e),e);for(r=0;r<o.length;r++){var c;if(0===(c=o[r]).refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete i[c.id]}}}};var v,g=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join(\"\\n\")});function _(t,e,n,o){var r=n?\"\":o.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,o=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var r,i=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(i)?t:(r=0===i.indexOf(\"//\")?i:0===i.indexOf(\"/\")?n+i:o+i.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(r)+\")\")})}},function(t,e,n){\"use strict\";var o,r,i,a,c,s,f,d,u;t.exports=(o=\"cdx-notifies\",r=\"cdx-notify\",i=\"cdx-notify__cross\",a=\"cdx-notify__button--confirm\",c=\"cdx-notify__button--cancel\",s=\"cdx-notify__input\",f=\"cdx-notify__button\",d=\"cdx-notify__btns-wrapper\",{alert:u=function(t){var e=document.createElement(\"DIV\"),n=document.createElement(\"DIV\"),o=t.message,a=t.style;return e.classList.add(r),a&&e.classList.add(r+\"--\"+a),e.innerHTML=o,n.classList.add(i),n.addEventListener(\"click\",e.remove.bind(e)),e.appendChild(n),e},confirm:function(t){var e=u(t),n=document.createElement(\"div\"),o=document.createElement(\"button\"),r=document.createElement(\"button\"),s=e.querySelector(\".\"+i),l=t.cancelHandler,p=t.okHandler;return n.classList.add(d),o.innerHTML=t.okText||\"Confirm\",r.innerHTML=t.cancelText||\"Cancel\",o.classList.add(f),r.classList.add(f),o.classList.add(a),r.classList.add(c),l&&\"function\"==typeof l&&(r.addEventListener(\"click\",l),s.addEventListener(\"click\",l)),p&&\"function\"==typeof p&&o.addEventListener(\"click\",p),o.addEventListener(\"click\",e.remove.bind(e)),r.addEventListener(\"click\",e.remove.bind(e)),n.appendChild(o),n.appendChild(r),e.appendChild(n),e},prompt:function(t){var e=u(t),n=document.createElement(\"div\"),o=document.createElement(\"button\"),r=document.createElement(\"input\"),c=e.querySelector(\".\"+i),l=t.cancelHandler,p=t.okHandler;return n.classList.add(d),o.innerHTML=t.okText||\"Ok\",o.classList.add(f),o.classList.add(a),r.classList.add(s),t.placeholder&&r.setAttribute(\"placeholder\",t.placeholder),t.default&&(r.value=t.default),t.inputType&&(r.type=t.inputType),l&&\"function\"==typeof l&&c.addEventListener(\"click\",l),p&&\"function\"==typeof p&&o.addEventListener(\"click\",function(){p(r.value)}),o.addEventListener(\"click\",e.remove.bind(e)),n.appendChild(r),n.appendChild(o),e.appendChild(n),e},getWrapper:function(){var t=document.createElement(\"DIV\");return t.classList.add(o),t}})}])});","/*!\n * CodeX Module Dispatcher — Initialize frontend Modules from the DOM without inline scripts\n * \n * @copyright CodeX Team <team@ifmo.su>\n * @license MIT https://github.com/codex-team/dispatcher/LICENSE\n * @author @polinashneider https://github.com/polinashneider\n * @version 2.0.0\n */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.ModuleDispatcher=t():e.ModuleDispatcher=t()}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=0)}([function(e,t,n){\"use strict\";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){var n=t.name,o=t.element,s=t.settings,i=t.moduleClass;r(this,e),this.name=n,this.element=o,this.settings=s,this.moduleClass=i}return s(e,[{key:\"init\",value:function(){try{console.assert(this.moduleClass.init instanceof Function,\"Module «\"+this.name+\"» should implement init method\"),this.moduleClass.init instanceof Function&&(this.moduleClass.init(this.settings,this.element),console.log(\"Module «\"+this.name+\"» initialized\"))}catch(e){console.warn(\"Module «\"+this.name+\"» was not initialized because of \",e)}}},{key:\"destroy\",value:function(){this.moduleClass.destroy instanceof Function&&(this.moduleClass.destroy(),console.log(\"Module «\"+this.name+\"» destroyed.\"))}}]),e}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.Library=t.Library||window,this.modules=this.findModules(document),this.initModules()}return s(e,[{key:\"findModules\",value:function(e){for(var t=[],n=e.querySelectorAll(\"[data-module]\"),r=n.length-1;r>=0;r--)t.push.apply(t,o(this.extractModulesData(n[r])));return t}},{key:\"extractModulesData\",value:function(e){var t=this,n=[],o=e.dataset.module;return o=o.replace(/\\s+/,\" \"),o.split(\" \").forEach(function(o,r){var s=new i({name:o,element:e,settings:t.getModuleSettings(e,r,o),moduleClass:t.Library[o]});n.push(s)}),n}},{key:\"getModuleSettings\",value:function(e,t,n){var o=e.querySelector('textarea[name=\"module-settings\"]'),r=void 0;if(!o)return null;try{r=o.value.trim(),r=JSON.parse(r)}catch(e){return console.warn(\"Can not parse Module «\"+n+\"» settings because of: \"+e),console.groupCollapsed(n+\" settings\"),console.log(r),console.groupEnd(),null}return Array.isArray(r)?r[t]?r[t]:null:0===t?r:(console.warn(\"Wrong settings format. For several Modules use an array instead of object.\"),null)}},{key:\"initModules\",value:function(){console.groupCollapsed(\"ModuleDispatcher\"),this.modules.forEach(function(e){e.init()}),console.groupEnd()}}]),e}();t.default=u}]).default});","// extracted by mini-css-extract-plugin","/**\n * Module to compose output JSON preview\n */\nconst cPreview = (function () {\n\n    /**\n     * Shows JSON in pretty preview\n     * @param {object} output - what to show\n     * @param {Element} holder - where to show\n     */\n    function show(output, holder) {\n\n        /** Make JSON pretty */\n        output = JSON.stringify( output, null, 4 );\n        /** Encode HTML entities */\n        output = encodeHTMLEntities( output );\n        /** Stylize! */\n        output = stylize( output );\n        holder.innerHTML = output;\n\n    };\n\n    /**\n     * Converts '>', '<', '&' symbols to entities\n     */\n    function encodeHTMLEntities(string) {\n\n        return string.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\n    }\n\n    /**\n     * Some styling magic\n     */\n    function stylize(string) {\n\n        /** Stylize JSON keys */\n        string = string.replace( /\"(\\w+)\"\\s?:/g, '\"<span class=sc_key>$1</span>\" :');\n        /** Stylize tool names */\n        string = string.replace( /\"(paragraph|quote|list|header|linkTool|code|image|delimiter|rawTool|table|embed)\"/g, '\"<span class=sc_toolname>$1</span>\"');\n        /** Stylize HTML tags */\n        string = string.replace( /(&lt;[\\/a-z]+(&gt;)?)/gi, '<span class=sc_tag>$1</span>' );\n        /** Stylize strings */\n        string = string.replace( /\"([^\"]+)\"/gi, '\"<span class=sc_attr>$1</span>\"' );\n        /** Boolean/Null */\n        string = string.replace( /\\b(true|false|null)\\b/gi, '<span class=sc_bool>$1</span>' );\n\n        string = string.replace( /\\b(\\d+)\\b/gi, '<span class=sc_digit>$1</span>' );\n\n        return string;\n\n    }\n\n    return {\n        show : show\n    };\n\n})({});\n\nmodule.exports = cPreview;","/**\n * Import Dispatcher for Frontend Modules initialization\n */\nimport moduleDispatcher from 'module-dispatcher';\n\nrequire('../css/main.css');\n\n/**\n * CodeX community id at vk.com.\n * used by vkWidget module\n */\nconst VK_COMMUNITY_ID = 103229636;\n\nvar codex = (function (codex_) {\n\n    'use strict';\n\n    codex_.settings = {};\n\n    /**\n    * Preparation method\n    */\n    codex_.init = function (settings) {\n\n        /** Save settings or use defaults */\n        for (var set in settings ) {\n\n            this.settings[set] = settings[set] || this.settings[set] || null;\n\n        }\n\n        codex.docReady(function () {\n\n            initModules();\n\n        });\n\n    };\n\n    return codex_;\n\n})({});\n\n/**\n * Function responsible for modules initialization\n * Called no earlier than document is ready\n */\nfunction initModules() {\n\n    new moduleDispatcher({\n        Library : codex\n    });\n\n    codex.scrollUp.init();\n\n    /**\n     * Find elements with \"deeplinker\" class and add click listener\n     *\n     * @param {string} selector\n     */\n    codex.deeplinker.init('.deeplinker');\n\n    codex.codeStyling.init('.article-code__content');\n\n    codex.vkWidget.init({\n        id: 'vk_groups',\n        display: {\n            'mode': 3,\n            'width': 'auto'\n        },\n        communityId: VK_COMMUNITY_ID\n    });\n\n    /**\n     * Acitve play-video buttons\n     */\n    let playVideoButton = document.querySelector('[name=\"js-show-player\"]');\n\n    if (playVideoButton) {\n\n        const Player = require('./modules/player').default;\n\n        new Player({\n            sourceURL: 'public/app/img/products/ar-tester.mp4',\n            toggler: playVideoButton,\n            wrapperSelector : '.product-card--ar-tester'\n        });\n\n    }\n\n}\n\n/**\n* Document ready event listener\n* @usage codex.docReady(function(){ # code ... } );\n*/\ncodex.docReady = function (f) {\n\n    return /in/.test(document.readyState) ? window.setTimeout(codex.docReady, 9, f) : f();\n\n};\n\n/**\n* Pages\n*/\ncodex.admin = require('./modules/admin');\ncodex.join = require('./modules/join');\n\n\n/**\n * Modules\n */\ncodex.core = require('./modules/core');\ncodex.dragndrop = require('./modules/dragndrop');\ncodex.scrollUp = require('./modules/scrollUp');\ncodex.sharer = require('./modules/sharer');\ncodex.developer = require('./modules/bestDevelopers');\n// codex.simpleCode = require('./modules/simpleCodeStyling');\ncodex.showMoreNews = require('./modules/showMoreNews');\ncodex.polyfills = require('./modules/polyfills');\ncodex.ajax = require('./modules/ajax');\ncodex.profile = require('./modules/profile');\ncodex.helpers = require('./modules/helpers');\ncodex.quiz = require('./modules/quiz');\ncodex.quizForm = require('./modules/quizForm');\ncodex.transport = require('./modules/transport');\ncodex.vkWidget = require('./modules/vkWidget');\ncodex.codeStyling = require('./modules/codeStyling');\ncodex.deeplinker = require('@codexteam/deeplinker');\ncodex.pluginsFilter = require('./modules/pluginsFilter');\n\nimport EditorLanding from './modules/editorLanding';\ncodex.editorLanding = new EditorLanding();\n\nimport ArticleCreate from './modules/articleCreate';\ncodex.articleCreate = new ArticleCreate();\n\nimport NewsCreate from './modules/newsCreate';\ncodex.newsCreate = new NewsCreate();\n\nmodule.exports = codex;\n\n","/**\n * Admin page methods\n */\nmodule.exports = function (admin) {\n\n    /**\n     * Initializes dragndrop module\n     * @uses  codex.dragndrop\n     */\n    function initDragNDrop() {\n\n        codex.dragndrop({\n            droppableClass: 'list-item',\n\n            findDraggable: function (e) {\n\n                var target = e.target.closest('.draggable');\n\n                if (target) return target.closest('.list-item');\n\n                return null;\n\n            },\n\n            makeAvatar: function (elem) {\n\n                var avatar = {};\n\n                avatar.elem = elem.cloneNode(true);\n                avatar.elem.classList.add('dnd-avatar');\n\n                elem.parentNode.insertBefore(avatar.elem, elem.nextSibling);\n                elem.classList.add('no-display');\n\n                avatar.rollback = function () {\n\n                    avatar.elem.parentNode.removeChild(avatar.elem);\n                    elem.classList.remove('no-display');\n\n                };\n\n                return avatar;\n\n            },\n\n            targetChanged: function (target, newTarget, avatar) {\n\n                if (!newTarget) return;\n\n                var targetPosition = newTarget.compareDocumentPosition(avatar.elem);\n\n                if (targetPosition&4) {\n\n                    newTarget.parentNode.insertBefore(avatar.elem, newTarget);\n\n                } else if (targetPosition&2) {\n\n                    newTarget.parentNode.insertBefore(avatar.elem, newTarget.nextSibling);\n\n                }\n\n            },\n\n            move: function () {},\n\n            targetReached: function (target, avatar, elem) {\n\n                target.parentNode.insertBefore(elem, target.nextSibling);\n\n                avatar.elem.parentNode.removeChild(avatar.elem);\n                elem.classList.remove('no-display');\n\n                var itemId = elem.dataset.id,\n                    itemType = elem.dataset.type,\n                    itemBelowValue = null,\n                    nextSibling;\n\n                if (nextSibling == elem.nextElementSibling) {\n\n                    itemBelowValue = nextSibling.dataset.type + ':' + nextSibling.dataset.id;\n\n                }\n\n                var ajaxData = {\n                    success: function () {\n\n                        document.getElementById('saved').classList.remove('top-menu__saved_hidden');\n\n                        window.setTimeout(function () {\n\n                            document.getElementById('saved').classList.add('top-menu__saved_hidden');\n\n                        }, 1000);\n\n                    },\n                    type: 'POST',\n                    url: '/admin/feed',\n                    data: JSON.stringify({\n                        'item_id': itemId,\n                        'item_type': itemType,\n                        'item_below_value': itemBelowValue\n                    })\n                };\n\n\n                codex.core.ajax(ajaxData);\n\n            }\n        });\n        // body...\n\n    }\n\n    /**\n     * Module initialization\n     * @param  {Object}      params             - init params\n     * @param  {String|null} params.listType    - feed list type (\"cards\"|\"list\")\n     */\n    admin.init = function ( params ) {\n\n        codex.core.log('Initialized.', 'Module admin');\n\n        if ( params.listType === 'cards' ) {\n\n            var items = document.querySelectorAll('.feed-item');\n\n            for (var i = items.length-1; i > -1; i--) {\n\n                items[i].classList.add('draggable');\n                items[i].classList.add('feed-item--dnd');\n                items[i].classList.add('list-item');\n\n            }\n\n        }\n\n        initDragNDrop();\n\n    };\n\n    return admin;\n\n}({});\n","var ajax = function () {\n\n    var xhr_ = function ( xhr ) {\n\n        var objectToQueryString = function (a) {\n\n            var prefix, s, add, name, r20, output;\n\n            s = [];\n            r20 = /%20/g;\n            add = function (key, value) {\n\n                // If value is a function, invoke it and return its value\n                if (typeof value == 'function') {\n\n                    value = value();\n\n                } else {\n\n                    value = value === null ? '' : value;\n\n                }\n\n                s[ s.length ] = encodeURIComponent(key) + '=' + encodeURIComponent(value);\n\n            };\n            if (a instanceof Array) {\n\n                for (name in a) {\n\n                    add(name, a[name]);\n\n                }\n\n            } else {\n\n                for (prefix in a) {\n\n                    buildParams(prefix, a[ prefix ], add);\n\n                }\n\n            }\n            output = s.join('&').replace(r20, '+');\n            return output;\n\n        };\n\n        var buildParams = function (prefix, obj, add) {\n\n            var name, i, l, rbracket;\n\n            rbracket = /\\[\\]$/;\n            if (obj instanceof Array) {\n\n                for (i = 0, l = obj.length; i < l; i++) {\n\n                    if (rbracket.test(prefix)) {\n\n                        add(prefix, obj[i]);\n\n                    } else {\n\n                        buildParams(prefix + '[' + ( typeof obj[i] === 'object' ? i : '' ) + ']', obj[i], add);\n\n                    }\n\n                }\n\n            } else if (typeof obj == 'object') {\n\n                // Serialize object item.\n                for (name in obj) {\n\n                    buildParams(prefix + '[' + name + ']', obj[ name ], add);\n\n                }\n\n            } else {\n\n                // Serialize scalar item.\n                add(prefix, obj);\n\n            }\n\n        };\n\n        xhr.call = function ( data ) {\n\n            if ( !data || !data.url ) {\n\n                console.warn('url wasn\\'t passed into ajax method' );\n                return;\n\n            }\n\n            var XMLHTTP              = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'),\n                successCallback;\n\n            data.type         = data.type || 'GET';\n            data.url          = data.url;\n            data.async        = data.async || false;\n            data.data         = data.data || '';\n            data.formData     = data.formData || false;\n            data['content-type'] = data.contentType || 'text/html';\n            successCallback      = data.success || successCallback ;\n\n            if ( data.type == 'GET' && data.data ) {\n\n                data.url = /\\?/.test(data.url) ? data.url + '&' + data.data : data.url + '?' + data.data;\n\n            }\n\n            if (data.beforeSend && typeof data.beforeSend == 'function') {\n\n                data.beforeSend.call();\n\n            }\n\n            XMLHTTP.open( data.type, data.url, data.async );\n            XMLHTTP.setRequestHeader('Content-type', data['content-type'] );\n            XMLHTTP.setRequestHeader('Connection', 'close');\n            XMLHTTP.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n            XMLHTTP.onreadystatechange = function () {\n\n                if ( XMLHTTP.readyState == 4 && XMLHTTP.status == 200 && successCallback) {\n\n                    successCallback.call(XMLHTTP.responseText);\n\n                }\n\n            };\n\n            XMLHTTP.send( data.formData || objectToQueryString(data.data) );\n\n        };\n\n\n        xhr.parseHTML = function (markup) {\n\n            var doc = document.implementation.createHTMLDocument('');\n\n            if (markup.toLowerCase().indexOf('<!doctype') > -1) {\n\n                doc.documentElement.innerHTML = markup;\n\n            } else {\n\n                doc.body.innerHTML = markup;\n\n            }\n            return doc;\n\n        };\n\n        /**\n         * Adapted from {@link http://www.bulgaria-web-developers.com/projects/javascript/serialize/}\n         * Changes:\n         *     Ensures proper URL encoding of name as well as value\n         *     Preserves element order\n         *     XHTML and JSLint-friendly\n         *     Disallows disabled form elements and reset buttons as per HTML4 [successful controls]{@link http://www.w3.org/TR/html401/interact/forms.html#h-17.13.2}\n         *         (as used in jQuery). Note: This does not serialize <object>\n         *         elements (even those without a declare attribute) or\n         *         <input type=\"file\" />, as per jQuery, though it does serialize\n         *         the <button>'s (which are potential HTML4 successful controls) unlike jQuery\n         * @license MIT/GPL\n        */\n        xhr.serialize = function (form) {\n\n            'use strict';\n\n            var i, j, len, jLen, formElement, q = [];\n\n            function urlencode(str) {\n\n                // http://kevin.vanzonneveld.net\n                // Tilde should be allowed unescaped in future versions of PHP (as reflected below), but if you want to reflect current\n                // PHP behavior, you would need to add \".replace(/~/g, '%7E');\" to the following.\n                return encodeURIComponent(str).replace(/!/g, '%21').replace(/'/g, '%27').replace(/\\(/g, '%28').\n                    replace(/\\)/g, '%29').replace(/\\*/g, '%2A').replace(/%20/g, '+');\n\n            }\n            function addNameValue(name, value) {\n\n                q.push(urlencode(name) + '=' + urlencode(value));\n\n            }\n            if (!form || !form.nodeName || form.nodeName.toLowerCase() !== 'form') {\n\n                throw 'You must supply a form element';\n\n            }\n            for (i = 0, len = form.elements.length; i < len; i++) {\n\n                formElement = form.elements[i];\n                if (formElement.name === '' || formElement.disabled) {\n\n                    continue;\n\n                }\n                switch (formElement.nodeName.toLowerCase()) {\n\n                    case 'input':\n                        switch (formElement.type) {\n\n                            case 'text':\n                            case 'email':\n                            case 'hidden':\n                            case 'password':\n                            case 'button': // Not submitted when submitting form manually, though jQuery does serialize this and it can be an HTML4 successful control\n                            case 'submit':\n                                addNameValue(formElement.name, formElement.value);\n                                break;\n                            case 'checkbox':\n                            case 'radio':\n                                if (formElement.checked) {\n\n                                    addNameValue(formElement.name, formElement.value);\n\n                                }\n                                break;\n                            case 'file':\n                            // addNameValue(formElement.name, formElement.value); // Will work and part of HTML4 \"successful controls\", but not used in jQuery\n                                break;\n                            case 'reset':\n                                break;\n\n                        }\n                        break;\n                    case 'textarea':\n                        addNameValue(formElement.name, formElement.value);\n                        break;\n                    case 'select':\n                        switch (formElement.type) {\n\n                            case 'select-one':\n                                addNameValue(formElement.name, formElement.value);\n                                break;\n                            case 'select-multiple':\n                                for (j = 0, jLen = formElement.options.length; j < jLen; j++) {\n\n                                    if (formElement.options[j].selected) {\n\n                                        addNameValue(formElement.name, formElement.options[j].value);\n\n                                    }\n\n                                }\n                                break;\n\n                        }\n                        break;\n                    case 'button': // jQuery does not submit these, though it is an HTML4 successful control\n                        switch (formElement.type) {\n\n                            case 'reset':\n                            case 'submit':\n                            case 'button':\n                                addNameValue(formElement.name, formElement.value);\n                                break;\n\n                        }\n                        break;\n\n                }\n\n            }\n\n            return q.join('&');\n\n        };\n\n    };\n\n    return {\n        xhr : xhr_\n    };\n\n}({});\n\nmodule.exports = ajax;\n","'use strict';\n\nconst ajax = require('@codexteam/ajax');\nconst notifier = require('codex-notifier');\n\n/**\n * Module for pages using Editor\n */\nexport default class EditorWriting {\n\n    /**\n     * Initialize editor on article writing page\n     * @param {Object} settings - article form's parameters\n     * @param {String} settings.article_textarea - textarea with article contents\n     * @param {String} settings.form_url - url of form with Editor's data\n     * @param {String} settings.submit_id - id of submit button\n     */\n    init(settings, form) {\n\n        this.form = form;\n        this.article = document.getElementById(settings.article_textarea);\n        this.button = document.getElementById(settings.submit_id);\n        this.formURL = settings.form_url;\n\n        /**\n         * Settings for Editor class\n         * @type {{blocks: Object[]}}\n         */\n        let editorSettings = {\n            blocks: this.getArticleData()\n        };\n\n        this.loadEditor(editorSettings).then((editor) => {\n\n            this.editor = editor;\n\n        });\n\n        this.prepareSubmit();\n\n    };\n\n    /**\n     * Add eventListener to article submit button, submit data on click\n     */\n    prepareSubmit() {\n\n        this.button.addEventListener('click', () => {\n\n            this.saveArticle();\n\n        }, false);\n\n    }\n\n    /**\n     * Save article's data, in case of success redirect to its uri\n     */\n    saveArticle() {\n\n        let article = this.article;\n\n        /**\n         * Call Editor's save method\n         */\n        this.editor.save()\n            .then((savedData) => {\n\n                article.value = JSON.stringify(savedData);\n                /**\n                 * Send article data via ajax\n                 */\n                Promise.resolve()\n\n                    .then(() => {\n\n                        this.button.classList.add('loading');\n\n                    })\n                    .then(() => {\n\n                        return ajax.post({\n                            url: this.formURL,\n                            data: this.form\n                        });\n\n                    })\n\n                    /**\n                     * @typedef {Object} responseData - response after attempt to send form via ajax\n                     * @property {string} redirect    - article's uri in case of success\n                     * @property {string} message     - article saving error in case of fail\n                     * @property {number} success     - article saving status, 1 - success, 0 - fail\n                     */\n\n                    /**\n                     * @param {responseData} response - ajax-response after form is sent\n                     */\n                    .then((response) => {\n\n                        /**\n                         * If data was sent successfully get article's uri and redirect to it\n                         */\n                        if (response.success) {\n\n                            window.location.href = response.redirect;\n\n                        } else {\n\n                            this.showErrorMessage(response.message);\n\n                        }\n\n                    })\n                    .catch((err) => {\n\n                        this.showErrorMessage(err);\n\n                    });\n\n            });\n\n    }\n\n    /**\n     * If article's form submission via ajax failed show message with error text\n     * @param {String} err - form submission error message\n     */\n    showErrorMessage(err) {\n\n        console.error(err);\n        notifier.show({\n            message: err,\n            style: 'error'\n        });\n        this.button.classList.remove('loading');\n\n    }\n\n    /**\n     * If we want to edit existing article, get its data\n     */\n    getArticleData() {\n\n        /** If article exists return its data */\n        if (this.article.textContent.length) {\n\n            /**\n             * Article's data\n             */\n            let pageContent;\n\n            /**\n             * Get content that was written before and render with Codex Editor\n             */\n            try {\n\n                pageContent = JSON.parse(this.article.textContent);\n\n            } catch (error) {\n\n                console.error('Errors occurred while parsing Editor data', error);\n\n            }\n\n            return pageContent ? pageContent.blocks : [];\n\n        }\n\n    }\n\n    /**\n     * Load Editor from separate chunk\n     * @param {Object} settings - settings for Editor initialization\n     * @return {Promise<Editor>} - CodeX Editor promise\n     */\n    loadEditor(settings) {\n\n        return import(/* webpackChunkName: \"editor\" */ 'classes/editor')\n            .then(({default: Editor}) => {\n\n                return new Editor(settings);\n\n            });\n\n    }\n\n};","/**\n * codex.bestDevelopers module\n * Sets best developers values in admin/user for further output in templates/developers.php\n */\nvar developer = function () {\n\n    var init = function () {\n\n        var chBoxes = document.querySelectorAll('.developer-checkbox');\n\n        for (var i = chBoxes.length-1; i > -1; i--) {\n\n            chBoxes[i].addEventListener('change', toggle);\n\n        }\n\n    };\n\n    /**\n     * Sends ajax data 0 or 1, whether user is best developer or not\n     * @param {Event} event\n     * @uses codex.core.ajax\n     */\n\n    var toggle = function (event) {\n\n        var data = {\n            data: 'id='+event.target.id+'&value='+(event.target.checked?1:0),\n            url: '/admin/developer'\n        };\n\n        codex.core.ajax(data);\n\n    };\n\n    return {\n        init\n    };\n\n}();\n\nmodule.exports = developer;\n","/**\n * Code Styling module\n */\nmodule.exports = function codeStyling() {\n\n    'use strict';\n\n    /**\n     * DOM manipulations helper\n     */\n    const $ = require('./dom').default;\n\n    /**\n     * Extrnal library for code styling\n     * @link https://highlightjs.org\n     * @type {Object}\n     */\n    const library = {\n        js: '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js',\n        css : '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css'\n    };\n\n    /**\n     * Loads styling library\n     */\n    let prepare = function () {\n\n        return Promise.all([\n            $.loadResource('JS', library.js, 'highlight'),\n            $.loadResource('CSS', library.css, 'highlight')\n        ]).catch( err => console.warn('Cannot load code styling module: ', err))\n            .then( () => console.log('Code Styling is ready') );\n\n    };\n\n    /**\n     * Finds code blocks and fires highlighting\n     * @param {String} codeBlocksSelector - where to find <code> blocks\n     */\n    let init = function (codeBlocksSelector) {\n\n        let codeBlocks = document.querySelectorAll(codeBlocksSelector);\n\n        if (codeBlocks) {\n\n            prepare().then( () => {\n\n                if (!window.hljs) {\n\n                    console.warn('Code Styling script loaded but not ready');\n                    return;\n\n                }\n\n                for (var i = codeBlocks.length - 1; i >= 0; i--) {\n\n                    window.hljs.highlightBlock(codeBlocks[i]);\n\n                }\n\n            });\n\n        }\n\n    };\n\n    return {\n        init\n    };\n\n}();\n","/**\n* Significant core methods\n*/\nmodule.exports =  function () {\n\n    /** Logging method */\n    var log = function (str, prefix, type, arg) {\n\n        var staticLength = 32;\n\n        if (prefix) {\n\n            prefix = prefix.length < staticLength ? prefix : prefix.substr( 0, staticLength - 2 );\n\n            while (prefix.length < staticLength - 1) {\n\n                prefix += ' ';\n\n            }\n\n            prefix += ':';\n            str = prefix + str;\n\n        }\n\n        type = type || 'log';\n\n        try {\n\n            if ('console' in window && window.console[ type ]) {\n\n                if (arg) console[type](str, arg);\n                else console[type](str);\n\n            }\n\n        } catch(e) {}\n\n    };\n\n    /**\n    * Native ajax method.\n    * @param {Object} data\n    */\n    var ajax = function (data) {\n\n        if (!data || !data.url) {\n\n            return;\n\n        }\n\n        var XMLHTTP          = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'),\n            successFunction  = function () {};\n\n        data.async           = true;\n        data.type            = data.type || 'GET';\n        data.data            = data.data || '';\n        data['content-type'] = data['content-type'] || 'application/json; charset=utf-8';\n        successFunction     = data.success || successFunction ;\n\n        if (data.type == 'GET' && data.data) {\n\n            data.url = /\\?/.test(data.url) ? data.url + '&' + data.data : data.url + '?' + data.data;\n\n        }\n\n        if (data.withCredentials) {\n\n            XMLHTTP.withCredentials = true;\n\n        }\n\n        if (data.beforeSend && typeof data.beforeSend == 'function') {\n\n            data.beforeSend.call();\n\n        }\n\n        XMLHTTP.open( data.type, data.url, data.async );\n        XMLHTTP.setRequestHeader('Content-type', data['content-type'] );\n        XMLHTTP.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        XMLHTTP.onreadystatechange = function () {\n\n            if (XMLHTTP.readyState == 4 && XMLHTTP.status == 200) {\n\n                successFunction(XMLHTTP.responseText);\n\n            }\n\n        };\n\n        XMLHTTP.send(data.data);\n\n    };\n\n\n    return {\n        ajax : ajax,\n        log : log\n    };\n\n}();\n","/**\n * DOM manipulations methods\n */\nexport default class DOM {\n\n    /**\n     * Helper for making Elements with classname and attributes\n     * @param  {string} tagName           - new Element tag name\n     * @param  {array|string} classNames  - list or name of CSS classname(s)\n     * @param  {Object} attributes        - any attributes\n     * @return {Element}\n     */\n    static make(tagName, classNames, attributes) {\n\n        var el = document.createElement(tagName);\n\n        if ( Array.isArray(classNames) ) {\n\n            el.classList.add(...classNames);\n\n        } else if( classNames ) {\n\n            el.classList.add(classNames);\n\n        }\n\n        for (let attrName in attributes) {\n\n            el[attrName] = attributes[attrName];\n\n        }\n\n        return el;\n\n    }\n\n    /**\n     * Replaces node with\n     * @param {Element} nodeToReplace\n     * @param {Element} replaceWith\n     */\n    static replace(nodeToReplace, replaceWith) {\n\n        return nodeToReplace.parentNode.replaceChild(replaceWith, nodeToReplace);\n\n    }\n\n    /**\n     * getElementById alias\n     * @param {String} elementId\n     */\n    static get(elementId) {\n\n        return document.getElementById(elementId);\n\n    }\n\n    /**\n     * Loads static resourse: CSS or JS\n     * @param {string} type  - CSS|JS\n     * @param {string} path  - resource path\n     * @param {string} inctanceName - unique name of resource\n     * @return Promise\n     */\n    static loadResource(type, path, instanceName) {\n\n        /**\n         * Imported resource ID prefix\n         * @type {String}\n         */\n        const resourcePrefix = 'cdx-resourse';\n\n        return new Promise(function (resolve, reject) {\n\n            if (!type || !['JS', 'CSS'].includes(type)) {\n\n                reject(`Unexpected resource type passed. «CSS» or «JS» expected, «${type}» passed`);\n\n            }\n\n            let node;\n\n            /** Script is already loaded */\n            if ( !instanceName ) {\n\n                reject('Instance name is missed');\n\n            } else if ( document.getElementById(`${resourcePrefix}-${type.toLowerCase()}-${instanceName}`) ) {\n\n                resolve(path);\n\n            }\n\n            if (type === 'JS') {\n\n                node = document.createElement('script');\n                node.async = true;\n                node.defer = true;\n                node.charset = 'utf-8';\n\n            } else {\n\n                node = document.createElement('link');\n                node.rel = 'stylesheet';\n\n            }\n\n            node.id = `${resourcePrefix}-${type.toLowerCase()}-${instanceName}`;\n\n            let timerLabel = `Resource loading ${type} ${instanceName}`;\n\n            console.time(timerLabel);\n\n            node.onload = function () {\n\n                console.timeEnd(timerLabel);\n                resolve(path);\n\n            };\n\n            node.onerror = function () {\n\n                console.timeEnd(timerLabel);\n                reject(path);\n\n            };\n\n            if (type === 'JS') {\n\n                node.src = path;\n\n            } else {\n\n                node.href = path;\n\n            }\n\n            document.head.appendChild(node);\n\n        });\n\n    }\n\n}\n","module.exports = function (settings) {\n\n    var defaultHandlers = {\n        findDraggable: function (e) {\n\n            return e.target.closest('.'+draggableClass);\n\n        },\n\n        findDroppable: function (e) {\n\n            return document.elementFromPoint(e.clientX, e.clientY).closest('.'+droppableClass);\n\n        },\n\n        /**\n         * The simplest makeAvatar method.\n         *\n         * Just set elem to avatar.elem. And remembers element position in document.\n         * If drop isn`t success, returns elem to start position.\n         */\n        makeAvatar: function (elem) {\n\n            var avatar = {};\n\n            var avatarRollback = function () {\n\n                avatar.elem.classList.remove('dnd-default-avatar');\n\n                if (avatar.nextSibling)\n                    avatar.parentNode.insertBefore(avatar.elem, avatar.nextSibling);\n                else\n                    avatar.parentNode.appendChild(avatar.elem);\n\n                delete(dragObj.avatar);\n\n            };\n\n            avatar = {\n                elem: elem,\n                parentNode: elem.parentNode,\n                nextSibling: elem.nextElementSibling,\n                rollback: avatarRollback\n            };\n\n            // Set avatar position: absolute; for drag'n'drop\n            avatar.elem.classList.add('dnd-default-avatar');\n\n            return avatar;\n\n        },\n\n        /**\n         * Highlights droppable elements under cursor with border\n         */\n        targetChanged: function (target, newTarget) {\n\n            if (target) target.classList('dnd-default-target-highlight');\n\n            if (newTarget) newTarget.classList.add('dnd-default-target-highlight');\n\n        },\n\n        move: function (e, avatar, shift) {\n\n            avatar.elem.style.left = e.pageX - shift.x + 'px';\n            avatar.elem.style.top = e.pageY - shift.y + 'px';\n\n        },\n\n        /**\n         * Inserts elem into document if drop is success\n         */\n        targetReached: function (target, avatar, elem) {\n\n            target.classList.remove('dnd-default-target-highlight');\n            target.parentNode.insertBefore(elem, target.nextElementSibling);\n            avatar.elem.classList.remove('dnd-default-avatar');\n\n        }\n    };\n\n    var draggableClass  = settings.draggableClass   || 'draggable',\n        droppableClass   = settings.droppableClass    || 'droppable',\n        findDraggable   = settings.findDraggable    || defaultHandlers.findDraggable,\n        findDroppable    = settings.findDroppable     || defaultHandlers.findDroppable,\n        makeAvatar      = settings.makeAvatar       || defaultHandlers.makeAvatar,\n        targetChanged   = settings.targetChanged    || defaultHandlers.targetChanged,\n        move            = settings.move             || defaultHandlers.move,\n        targetReached   = settings.targetReached    || defaultHandlers.targetReached;\n\n    var dragObj = {};\n\n    var onMouseDown = function (e) {\n\n        /**\n         * Check mouse (which=1 - right mouse button) or touch (which=0 - touch) event.\n         */\n        if (e.which > 1) return;\n\n        e = touchSupported(e);\n\n        dragObj.clickedAt = {\n            x: e.pageX,\n            y: e.pageY\n        };\n\n        dragObj.elem = findDraggable(e);\n\n        if (!dragObj.elem) return;\n\n        toggleSelection();\n\n        var coords = getCoords(dragObj.elem);\n\n        dragObj.shift = {\n            x: e.pageX - coords.x,\n            y: e.pageY - coords.y\n        };\n\n    };\n\n    var onMouseMove = function (e) {\n\n        if (!dragObj.elem) return;\n\n        // Prevent touchmove scroll\n        e.preventDefault();\n\n        e = touchSupported(e);\n\n        // Check mouse offset. If x or y offset <5, assume that it`s accidental move\n        if (Math.abs(e.pageX - dragObj.clickedAt.x) < 5 && Math.abs(e.pageY - dragObj.clickedAt.y) < 5) return;\n\n        if (!dragObj.avatar) {\n\n            dragObj.avatar = makeAvatar(dragObj.elem);\n\n        }\n\n        var newTarget = findDroppable(e);\n\n        if (newTarget != dragObj.target) {\n\n            targetChanged(dragObj.target, newTarget, dragObj.avatar);\n\n            dragObj.target = newTarget;\n\n        }\n\n\n        move(e, dragObj.avatar, dragObj.shift);\n\n    };\n\n    var onMouseUp = function (e) {\n\n        if (e.which > 1) return;\n\n        if (!dragObj.avatar) {\n\n            dragObj = {};\n            return;\n\n        }\n\n        e = touchSupported(e);\n\n        var target = findDroppable(e);\n\n        if (target)\n            targetReached(target, dragObj.avatar, dragObj.elem, e);\n        else\n            dragObj.avatar.rollback();\n\n        dragObj = {};\n\n        toggleSelection();\n\n    };\n\n    var getCoords = function (elem) {\n\n        var rect = elem.getBoundingClientRect();\n\n        return {\n            x: rect.left + window.pageXOffset,\n            y: rect.top + window.pageYOffset\n        };\n\n    };\n\n    var touchSupported = function (e) {\n\n        if (e.changedTouches)\n            var touch = e.changedTouches[0];\n\n        else\n            return e;\n\n        e.pageX = touch.pageX;\n        e.pageY = touch.pageY;\n\n        e.clientX = touch.clientX;\n        e.clientY = touch.clientY;\n\n        e.screenX = touch.screenX;\n        e.screenY = touch.screenY;\n\n        e.target = touch.target;\n\n        return e;\n\n    };\n\n    var toggleSelection = function () {\n\n        document.body.classList.toggle('no-selection');\n\n    };\n\n\n    document.addEventListener('mousedown', onMouseDown);\n    document.addEventListener('touchstart', onMouseDown);\n\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('touchmove', onMouseMove);\n\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('touchend', onMouseUp);\n\n    document.ondragstart = function () {\n\n        return false;\n\n    };\n\n};\n","'use strict';\n\n/**\n * Module to compose output JSON preview\n */\nconst cPreview = require('../classes/cPreview');\n\n/**\n * Module for pages using Editor\n */\nexport default class EditorLanding {\n\n    constructor() {\n\n        /**\n         * Editor class Instance\n         */\n        this.editor = null;\n\n        /**\n         * DOM elements\n         */\n        this.nodes = {\n            /**\n            * Container to output saved Editor data\n            */\n            outputWrapper: null\n        };\n\n    }\n\n    /**\n     * @typedef {Object} editorLandingSettings - Editor landing class settings\n     * @property {String} editorLandingSettings.output_id - ID of container where Editor's saved data will be shown\n     * @property {function} editorLandingSettings.onChange - Modifications callback for the Editor\n     */\n\n    /**\n     * Initialization. Called by Module Dispatcher\n     */\n    init(editorLandingSettings) {\n\n        /**\n         * Prepare node to output Editor data preview\n         * @type {HTMLElement} - JSON preview container\n         */\n        this.nodes.outputWrapper = document.getElementById(editorLandingSettings.output_id);\n\n        if (!this.nodes.outputWrapper) {\n\n            console.warn('Can\\'t find output target with ID: «' + editorLandingSettings.output_id + '»');\n\n        }\n\n        const dataSample = [\n            {\n                type: 'header',\n                data: {\n                    text: 'Editor.js',\n                    level: 2\n                }\n            },\n            {\n                type : 'paragraph',\n                data : {\n                    text : 'Hey. Meet the new Editor. On this page you can see it in action — try to edit this text.'\n                }\n            },\n            {\n                type: 'header',\n                data: {\n                    text: 'Key features',\n                    level: 3\n                }\n            },\n            {\n                type : 'list',\n                data : {\n                    items : [\n                        'It is a block-styled editor',\n                        'It returns clean data output in JSON',\n                        'Designed to be extendable and pluggable with a simple API',\n                    ],\n                    style: 'unordered'\n                }\n            },\n            {\n                type: 'header',\n                data: {\n                    text: 'What does it mean «block-styled editor»',\n                    level: 3\n                }\n            },\n            {\n                type : 'paragraph',\n                data : {\n                    text : 'Workspace in classic editors is made of a single contenteditable element, used to create different HTML markups. Editor.js <mark class=\\\"cdx-marker\\\">workspace consists of separate Blocks: paragraphs, headings, images, lists, quotes, etc</mark>. Each of them is an independent contenteditable element (or more complex structure) provided by Plugin and united by Editor\\'s Core.'\n                }\n            },\n            {\n                type : 'paragraph',\n                data : {\n                    text : 'There are dozens of <a href=\"https://github.com/editor-js\">ready-to-use Blocks</a> and the <a href=\"https://editorjs.io/creating-a-block-tool\">simple API</a> for creation any Block you need. For example, you can implement Blocks for Tweets, Instagram posts, surveys and polls, CTA-buttons and even games.'\n                }\n            },\n            {\n                type: 'header',\n                data: {\n                    text: 'What does it mean clean data output',\n                    level: 3\n                }\n            },\n            {\n                type : 'paragraph',\n                data : {\n                    text : 'Classic WYSIWYG-editors produce raw HTML-markup with both content data and content appearance. On the contrary, Editor.js outputs JSON object with data of each Block. You can see an example below'\n                }\n            },\n            {\n                type : 'paragraph',\n                data : {\n                    text : 'Given data can be used as you want: render with HTML for <code class=\"inline-code\">Web clients</code>, render natively for <code class=\"inline-code\">mobile apps</code>, create markup for <code class=\"inline-code\">Facebook Instant Articles</code> or <code class=\"inline-code\">Google AMP</code>, generate an <code class=\"inline-code\">audio version</code> and so on.'\n                }\n            },\n            {\n                type : 'paragraph',\n                data : {\n                    text : 'Clean data is useful to sanitize, validate and process on the backend.'\n                }\n            },\n            {\n                type : 'delimiter',\n                data : {}\n            },\n            {\n                type : 'paragraph',\n                data : {\n                    text : 'We have been working on this project more than three years. Several large media projects help us to test and debug the Editor, to make it\\'s core more stable. At the same time we significantly improved the API. Now, it can be used to create any plugin for any task. Hope you enjoy. 😏'\n                }\n            },\n            {\n                type: 'image',\n                data: {\n                    file: {\n                        url: 'https://codex.so/public/app/img/external/codex2x.png',\n                    },\n                    caption: '',\n                    stretched: false,\n                    withBorder: false,\n                    withBackground: false,\n                }\n            },\n        ];\n\n        this.loadEditor({\n            blocks: dataSample,\n            // blocks: editorLandingSettings.blocks,\n            /**\n             * Bind onchange callback to preview JSON data\n             */\n            onChange: () => {\n\n                this.previewData();\n\n            },\n            /**\n             * When Editor is ready, preview JSON output with initial data\n             */\n            onReady: () => {\n\n                this.previewData();\n                // this.editor.focus();\n\n            },\n            /**\n             * Override some default Editor config properties\n             */\n            editorConfigOverride: {\n                tools: {\n                    image: {\n                        config: {\n                            additionalRequestData: {\n                                /**\n                                 * This flag tells the backend to store file temporary\n                                 */\n                                temporary: true\n                            }\n                        }\n                    }\n                }\n            }\n        }).then((editor) => {\n\n            this.editor = editor;\n\n        });\n\n    };\n\n    /**\n     * Load Editor from separate chunk\n     * @param settings - settings for Editor initialization\n     * @return {Promise<Editor>} - CodeX Editor promise\n     */\n    loadEditor(settings) {\n\n        return import(/* webpackChunkName: \"editor\" */ 'classes/editor')\n            .then(({default: Editor}) => {\n\n                return new Editor(settings);\n\n            });\n\n    }\n\n    /**\n     * Shows JSON output of editor saved data\n     */\n    previewData() {\n\n        this.editor.save().then((savedData) => {\n\n            cPreview.show(savedData, this.nodes.outputWrapper);\n\n        });\n\n    };\n\n};\n","module.exports = (function (helpers) {\n\n    helpers.setCookie = function (name, value, expires, path, domain) {\n\n        var str = name + '='+value;\n\n        if (expires) str += '; expires=' + expires.toGMTString();\n        if (path)    str += '; path=' + path;\n        if (domain)  str += '; domain=' + domain;\n        document.cookie = str;\n\n    };\n\n    helpers.getCookie = function (name) {\n\n        var dc = document.cookie;\n\n        var prefix = name + '=';\n        var begin = dc.indexOf('; ' + prefix);\n\n        if (begin == -1) {\n\n            begin = dc.indexOf(prefix);\n            if (begin !== 0) return null;\n\n        } else\n            begin += 2;\n\n        var end = document.cookie.indexOf(';', begin);\n\n        if (end == -1) end = dc.length;\n\n        return unescape(dc.substring(begin + prefix.length, end));\n\n    };\n\n    helpers.getOffset = function ( el ) {\n\n        var _x = 0;\n        var _y = 0;\n\n        while( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {\n\n            _x += (el.offsetLeft + el.clientLeft);\n            _y += (el.offsetTop + el.clientTop);\n            el = el.offsetParent;\n\n        }\n        return { top: _y, left: _x };\n\n    };\n\n    return helpers;\n\n})({});","const ajax = require('@codexteam/ajax');\nconst notifier = require('codex-notifier');\n\n/**\n * Module for /join page\n * Blocks writing without authorization\n *\n * Toggles into view blankAdditionalFields: Name and Surname, Email\n */\nvar join = function () {\n\n    const animationClass = 'wobble';\n\n    const formElement = document.getElementById('joinForm');\n    const successMessageBanner = document.getElementById('success-message-banner');\n\n    /**\n    * Module initialization\n    */\n    var init = function () {\n\n        if ( typeof formElement != 'undefined' && formElement !== null ) {\n\n            var formElementTextareas = formElement.getElementsByTagName('textarea');\n\n            if (formElementTextareas.length) {\n\n                for (var i = formElementTextareas.length - 1; i >= 0; i--) {\n\n                    formElementTextareas[i].addEventListener('keyup', checkUserCanEdit, false);\n\n                }\n\n            }\n\n        }\n\n        var blankShowAdditionalFieldsButton = document.getElementById('blankShowAdditionalFieldsButton');\n\n        if ( typeof blankShowAdditionalFieldsButton != 'undefined' && blankShowAdditionalFieldsButton !== null ) {\n\n            blankShowAdditionalFieldsButton.addEventListener('click', showAdditionalFields, false);\n\n        }\n\n        formElement.addEventListener('submit', (event) => {\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            sendForm(formElement);\n\n        });\n\n    };\n\n    const sendForm = function (form) {\n\n        ajax.post({\n            url: '/process-join-form',\n            data: new FormData(form),\n            type: ajax.contentType.FORM\n        })\n            .then((response) => {\n\n                if (response.success === 1) {\n\n                    successMessageBanner.style.display = 'block';\n                    formElement.style.display = 'none';\n\n                }  else {\n\n                    notifier.show({\n                        message: response.message,\n                        style: 'error'\n                    });\n\n                }\n\n                console.log(response);\n\n            })\n            .catch((error) => {\n\n                notifier.show({\n                    message: 'Something went wrong',\n                    style: 'error'\n                });\n\n                console.error(error);\n\n            });\n\n    };\n\n    /**\n     * Adds wobble-effect to Auth block if user starts typing into textarea unauthorized\n     * @param {Event} event\n     */\n    let checkUserCanEdit = function (event) {\n\n        var textarea       = event.target,\n            blankAuthBlock = document.getElementById('js-join-auth'),\n            emailInput     = document.getElementById('js-email');\n\n        if (blankAuthBlock && !emailInput.value.length ) {\n\n            blankAuthBlock.classList.add(animationClass);\n\n            window.setTimeout(() => blankAuthBlock.classList.remove(animationClass), 450);\n\n            textarea.value = '';\n\n        }\n\n    };\n\n    /**\n     * Toggles into view blankAdditionalFields: Name and Surname, Email\n     * @param {Event} event\n     */\n    var showAdditionalFields = function () {\n\n        var blankAdditionalFields = document.getElementById('blankAdditionalFields');\n\n        blankAdditionalFields.classList.toggle('hide');\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = join;\n","'use strict';\n\nconst ajax = require('@codexteam/ajax');\nconst notifier = require('codex-notifier');\n\nexport default class NewsCreate {\n\n    /**\n     * Initialize news form\n     *\n     * @param {Object} settings - news form's parameters\n     * @param {HTMLElement} form – news form to submit\n     * @param {string} settings.form_url - url of form with news data\n     * @param {string} settings.submit_id - id of submit button\n     */\n    init(settings, form) {\n\n        this.form = form;\n        this.button = document.getElementById(settings.submit_id);\n\n        this.button\n            ? this.prepareSubmit()\n            : console.warn(`Can't find button with «${settings.submit_id}» id`);\n\n        this.formURL = settings.form_url;\n\n    }\n\n    /**\n     * Add eventListener to news submit button, submit data on click\n     */\n    prepareSubmit() {\n\n        this.button.addEventListener('click', () => {\n\n            this.saveNews();\n\n        }, false);\n\n    }\n\n    /**\n     * Save news data\n     */\n    saveNews() {\n\n        return ajax.post({\n            url: this.formURL,\n            data: this.form\n        })\n            .then((response) => {\n\n                /**\n                 * If data was sent successfully redirect to home page\n                 */\n                if (response.success) {\n\n                    window.location.href = response.redirect;\n\n                } else {\n\n                    this.showErrorMessage(response.message);\n\n                }\n\n            })\n            .catch((err) => {\n\n                this.showErrorMessage(err);\n\n            });\n\n    }\n\n    /**\n     * Show any error message\n     *\n     * @param {string} err - form submission error message\n     */\n    showErrorMessage(err) {\n\n        notifier.show({\n            message: err,\n            style: 'error'\n        });\n\n    }\n\n};\n","/**\n * DOM manipulation methods\n */\nimport $ from './dom';\n\n/**\n * @class  Player\n * @classdesc Simple player on the overlay container\n *\n * @typedef {Player}\n * @property {String} sourceURL - video URL\n * @property {Element} toggler  - Play Button\n * @property {Element} wrapper  - In wich Element player should be added\n * @property {Element} overlay  - Player main container\n * @property {Object} CSS       - CSS dictionary\n *\n */\nexport default class Player {\n\n    /**\n     * @constructor\n     * @param  {String} options.sourceURL        - video URL\n     * @param  {Element} options.toggler         - play button\n     * @param  {String} options.wrapperSelector  - xpath selector for the player holder\n     */\n    constructor({sourceURL, toggler, wrapperSelector}) {\n\n        this.sourceURL = sourceURL;\n        this.toggler = toggler;\n        this.wrapper = document.querySelector(wrapperSelector);\n        this.overlay = null;\n\n        this.CSS = {\n            overlay: 'video-overlay',\n            overlayShowed: 'video-overlay--showed',\n            overlayLoaded: 'video-overlay--loaded',\n            closeButton: 'video-overlay__close'\n        };\n\n        /**\n         * Add Play Button click listener\n         */\n        this.toggler.addEventListener('click', () => {\n\n            this.showVideoOverlay();\n\n        }, false);\n\n    }\n\n    /**\n     * Creates player container and append it to the parent element\n     */\n    showVideoOverlay() {\n\n        this.overlay = $.make('div', this.CSS.overlay);\n\n        let video = $.make('video', null, {\n                autoplay: true,\n                loop: true\n            }),\n            source = $.make('source', null, {\n                src: this.sourceURL,\n                type: 'video/mp4'\n            }),\n            closeButton = $.make('div', this.CSS.closeButton);\n\n        /**\n         * Append <video>\n         */\n        video.appendChild(source);\n        this.overlay.appendChild(video);\n\n        /**\n         * Bind loading callback\n         */\n        video.addEventListener('loadeddata', () => {\n\n            this.videoLoaded();\n\n        });\n\n        /**\n         * Activate close button\n         */\n        this.overlay.appendChild(closeButton);\n        closeButton.addEventListener('click', () => {\n\n            this.close();\n\n        });\n\n        /**\n         * Add overlay to the wrapper\n         */\n        this.wrapper.appendChild(this.overlay);\n        window.setTimeout(() => {\n\n            this.overlay.classList.add(this.CSS.overlayShowed);\n\n        }, 50);\n\n    }\n\n    /**\n     * Video loaded callback\n     * Shows player\n     */\n    videoLoaded() {\n\n        this.wrapper.classList.add(this.CSS.overlayLoaded);\n\n    }\n\n    /**\n     * Removes overlay with video\n     */\n    close() {\n\n        this.overlay.remove();\n        this.overlay = null;\n\n    }\n\n}\n","'use strict';\n\n/**\n * Plugins filter on editor landing page\n */\nmodule.exports = (function () {\n\n    /**\n     * Block plugins\n     */\n    let blockTools;\n\n    /**\n     * Inline Tool plugins\n     */\n    let inlineTools;\n\n    /**\n     * Initialize module\n     * @typedef {Object} settings                             - module's parameters passed from ModuleDispatcher\n     * @param   {String} settings.blockToolsClass             - class of Editor Block Tools\n     * @param   {String} settings.inlineToolsClass            - class of Editor Inline Tools\n     * @param   {String} settings.blockFilterButtonClass      - class of button Block Tools filter\n     * @param   {String} settings.inlineFilterButtonClass     - class of button Inline Tools filter\n     * @param   {String} settings.allToolsFilterButtonClass   - class of button showing all types of Tools\n     */\n    const init = function (settings) {\n\n        blockTools = document.querySelectorAll(settings.blockToolsClass);\n        inlineTools = document.querySelectorAll(settings.inlineToolsClass);\n\n        const pluginFilters = [\n            {\n                'buttonClass': settings.blockFilterButtonClass,\n                'buttonAction': showBlockToolsOnly\n            },\n            {\n                'buttonClass': settings.inlineFilterButtonClass,\n                'buttonAction': showInlineToolsOnly\n            },\n            {\n                'buttonClass': settings.allToolsFilterButtonClass,\n                'buttonAction': showAllPlugins\n            }\n        ];\n\n        /**\n         * Add event listener if filter button exists, otherwise show console message\n         */\n        for (let j = 0; j < pluginFilters.length; j++) {\n\n            let filterButton = document.querySelector(pluginFilters[j].buttonClass);\n\n            let buttonClass  = pluginFilters[j].buttonClass;\n\n            let filterAction = pluginFilters[j].buttonAction;\n\n            if (filterButton) {\n\n                filterButton.addEventListener('click', filterAction);\n\n            } else {\n\n                console.warn('Can\\'t find button with class: «' + buttonClass + '»');\n\n            }\n\n        }\n\n    };\n\n    /**\n     * Show only Inline Tools, hide Blocks\n     */\n    const showInlineToolsOnly = function () {\n\n        toggleTools(inlineTools, blockTools);\n\n    };\n\n    /**\n     * Show only Blocks, hide Inline Tools\n     */\n    const showBlockToolsOnly = function () {\n\n        toggleTools(blockTools, inlineTools);\n\n    };\n\n    /**\n     * Show all types of Editor Tools\n     */\n    const showAllPlugins = function () {\n\n        toggleTools(inlineTools, blockTools, false);\n\n    };\n\n    /**\n     * Toggle Editor Block and Inline Tools into view\n     * @param {HTMLCollection} toolsToShow - Block or Inline Editor's Tools to show\n     * @param {HTMLCollection} toolsToHide - Block or Inline Editor's Tools to hide\n     * @param {Boolean} hideOneType        - pass false to show both Block and Inline Tools\n     */\n    const toggleTools = function (toolsToShow, toolsToHide, hideOneType = true) {\n\n        for (let i = 0; i < toolsToHide.length; i ++) {\n\n            toolsToHide[i].classList.toggle('hide', hideOneType);\n\n        }\n\n        for (let i = 0; i < toolsToShow.length; i ++) {\n\n            toolsToShow[i].classList.toggle('hide', false);\n\n        }\n\n    };\n\n    return {\n        init : init\n    };\n\n}({}));","\nvar polyfills = function () {\n\n    /**\n     * Polyfilling ECMAScript 6 method String.includes\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes#Browser_compatibility\n     */\n    if ( !String.prototype.includes ) {\n\n        String.prototype.includes = function () {\n\n            'use strict';\n\n            return String.prototype.indexOf.apply(this, arguments) !== -1;\n\n        };\n\n    }\n\n\n    /**\n     * Polyfill for Element.prototype.matches method\n     */\n    if (!Element.prototype.matches) {\n\n        Element.prototype.matches = Element.prototype.matchesSelector ||\n                                        Element.prototype.webkitMatchesSelector ||\n                                        Element.prototype.mozMatchesSelector ||\n                                        Element.prototype.msMatchesSelector;\n\n    }\n\n    /**\n     * Polyfill for Element.prototype.closest method\n     */\n    if (!Element.prototype.closest) {\n\n        Element.prototype.closest = function (selector) {\n\n            var node = this;\n\n            while (node) {\n\n                if (node.matches(selector)) return node;\n                node = node.parentElement;\n\n            }\n\n            return null;\n\n        };\n\n    };\n\n}({});\n\nmodule.exports = polyfills;\n","/**\n * Profile page methods\n */\nmodule.exports = function () {\n\n    /**\n     * Photo uploading success-callback\n     * Fired by transport\n     * @param  {string} newPhotoURL - uploaded file URL\n     */\n    var uploadPhotoSuccess = function (newPhotoURL) {\n\n        var settingsPhoto = document.getElementById('profile-photo-updatable'),\n            headerPhoto   = document.getElementById('header-avatar-updatable');\n\n        settingsPhoto.src = newPhotoURL;\n        headerPhoto.src   = newPhotoURL;\n\n    };\n\n    return {\n        uploadPhotoSuccess,\n    };\n\n}();\n","/**\n * Модуль quiz с единственным публичным методом quiz.init()\n */\nmodule.exports = (function () {\n\n    var quizData            = null,\n        numberOfQuestions   = null,\n        currentQuestion     = null,\n        score               = null,\n        maxScore            = null;\n\n\n    /**\n     * Публичный метод init.\n     *\n     * @param {Object} settings - настройки теста\n     * @param {Object} settings.quizDataInput - объект с информацией о тесте\n     * @param {string} settings.holder - id элемента, в который будет выводиться тест\n     */\n    var init = function (settings) {\n\n        quizData = settings.quizDataInput;\n        numberOfQuestions = quizData.questions.length;\n        currentQuestion = 0;\n        score = 0;\n\n        gameProcessing_.prepare();\n        UI_.prepare(settings.holder);\n        UI_.setupQuestionInterface();\n\n    };\n\n    var UI_ = {\n\n        holder: null,\n        currentQuestionObj: null,\n\n        // Объект, в котором будут храниться DOM-элементы, связанные с отображением вопроса\n        questionElems: null,\n\n        prepare: function (holder) {\n\n            UI_.holder = document.getElementById(holder);\n            UI_.holder.classList.add('quiz');\n            UI_.holder.classList.add('clearfix');\n\n        },\n\n        /**\n         * Создаем элементы для вывода теста, заносим их в UI_.questionElems и выводим на страницу.\n         */\n        setupQuestionInterface: function () {\n\n            UI_.clear();\n\n            var title,\n                optionsHolder,\n                counter,\n                nextButton;\n\n            title = UI_.createElem('div', 'quiz__question-title');\n\n            optionsHolder = UI_.createElem('div', 'quiz__question-options');\n\n            counter = UI_.createElem('div', 'quiz__question-counter');\n\n            nextButton = UI_.createElem('input', ['quiz__question-button', 'quiz__question-button_next']);\n\n            nextButton.setAttribute('type', 'button');\n            nextButton.setAttribute('value', 'Далее →');\n\n            UI_.questionElems = {\n                counter: counter,\n                title: title,\n                optionsHolder: optionsHolder,\n                options: [],\n                nextButton: nextButton\n            };\n\n            UI_.append(UI_.questionElems);\n\n            UI_.showQuestion();\n\n        },\n\n        /**\n         * Выводим текущий вопрос на страницу (вопрос, варианты ответа и счетчик)\n         */\n        showQuestion: function () {\n\n            UI_.clear(UI_.questionElems.optionsHolder);\n            UI_.questionElems.options = [];\n            UI_.questionElems.nextButton.removeEventListener('click', UI_.showQuestion);\n            UI_.currentQuestionObj = quizData.questions[currentQuestion];\n\n            UI_.questionElems.nextButton.setAttribute('disabled', true);\n\n            UI_.questionElems.title.textContent = UI_.currentQuestionObj.title;\n            UI_.questionElems.counter.textContent = currentQuestion + 1 + '/' + numberOfQuestions;\n\n            UI_.currentQuestionObj.answers.map(UI_.createOption);\n\n        },\n\n        answerSelected: function (answer) {\n\n            answer.classList.add('quiz__question-answer_selected');\n\n            UI_.questionElems.options.map(function (current) {\n\n                current.removeEventListener('click', gameProcessing_.getUserAnswer);\n\n            });\n\n            UI_.questionElems.nextButton.disabled = false;\n\n            if (currentQuestion < numberOfQuestions  - 1) {\n\n                UI_.questionElems.nextButton.addEventListener('click', UI_.showQuestion);\n\n            } else {\n\n                UI_.questionElems.nextButton.addEventListener('click', UI_.showResult);\n\n            }\n\n            UI_.showAnswer(answer);\n\n            currentQuestion++;\n\n        },\n        /**\n         * Добавляем стили и выводим сообщение для выбранного варианта ответа\n         * Открываем доступ к следующему вопросу\n         *\n         * @param {Element} answer - DOM-элемент выбранного ответа\n         */\n        showAnswer: function (answer) {\n\n            var answerStyle = answer.dataset.score > 0 ? '_right' :  '_wrong',\n                answerIndex = answer.dataset.index;\n\n            answer.classList.add('quiz__question-answer' + answerStyle);\n\n            var answerMessage = UI_.createElem('div', 'quiz__answer-message');\n\n            answerMessage.textContent = UI_.currentQuestionObj.answers[answerIndex].message;\n\n            UI_.insertAfter(answerMessage, answer);\n\n            if (answer.dataset.score == 0) {\n\n                UI_.showCorrectAnswers();\n\n            }\n\n        },\n\n        showCorrectAnswers: function () {\n\n            UI_.questionElems.options.map(function (answer) {\n\n                if (answer.dataset.score > 0) {\n\n                    answer.classList.add('quiz__question-answer_right');\n\n                } else {\n\n                    answer.classList.add('quiz__question-answer_wrong');\n\n                }\n\n            });\n\n        },\n\n        showResult: function () {\n\n            var result =  score + '/' + maxScore;\n\n            UI_.questionElems.nextButton.removeEventListener('click', UI_.showResult);\n\n            UI_.clear();\n\n            var resultScore = UI_.createElem('div', 'quiz__result-score');\n\n            resultScore.textContent = result;\n\n            var resultMessage = UI_.createElem('div', 'quiz__result-message');\n\n            resultMessage.textContent = gameProcessing_.getMessage();\n\n            var social = UI_.createElem('div', 'quiz__sharing');\n\n            UI_.createSocial(social, result);\n\n            var retry = UI_.createElem('div', 'quiz__retry-button');\n\n            retry.textContent = 'Пройти еще раз';\n            retry.addEventListener('click', init.bind(null, quizData, UI_.holder.id));\n\n            UI_.append([resultScore, resultMessage, social, retry]);\n\n            codex.sharer.init(\n                {'buttonsSelector' : '.but.vk, .but.fb, .but.tw, .but.tg'}\n            );\n\n        },\n\n        /**\n         * Создаем кнопки социальных сетей и добавляем их в holder\n         *\n         * @param {Element} holder\n         */\n        createSocial: function (holder, result) {\n\n            var networks = [\n                {\n                    title: 'Share on the VK',\n                    shareType: 'vkontakte',\n                    class: 'vk',\n                    icon: 'icon-vkontakte'\n                },\n                {\n                    title: 'Share on the Facebook',\n                    shareType: 'facebook',\n                    class: 'fb',\n                    icon: 'icon-facebook-squared'\n                },\n                {\n                    title: 'Tweet',\n                    shareType: 'twitter',\n                    class: 'tw',\n                    icon: 'icon-twitter'\n                },\n                {\n                    title: 'Forward in Telegramm',\n                    shareType: 'telegram',\n                    class: 'tg',\n                    icon: 'icon-paper-plane'\n                }\n            ];\n\n            networks.map(function (current) {\n\n                var button = UI_.createElem('span', ['but', current.class]),\n                    icon   = UI_.createElem('i', current.icon),\n                    shareMessage = null;\n\n                button.dataset.shareType = current.shareType;\n                button.setAttribute('title', current.title);\n\n                if (quizData.shareMessage) {\n\n                    shareMessage =  quizData.shareMessage.replace('$score', result);\n\n                }\n\n                shareMessage = shareMessage || 'Я набрал ' + result + ' в ' + (quizData.title || 'тесте от команды CodeX');\n\n                button.dataset.url      = window.location.href;\n                button.dataset.title    = shareMessage;\n                button.dataset.desc     = quizData.description || '';\n\n                UI_.append(icon, button);\n                UI_.append(button, holder);\n\n            });\n\n        },\n\n        /**\n         * Создаем i-й вариант ответа и выводим в UI_.questionElems.optionsHolder\n         * И добавляем в UI_.questionElems.options\n         *\n         * @param {Object} answer - объект варианта ответа\n         * @param {int} i - его номер в вопросе\n         */\n        createOption: function (answer, i) {\n\n            var answerObj = UI_.createElem('div', 'quiz__question-answer');\n\n            answerObj.dataset.score = answer.score;\n            answerObj.dataset.index = i;\n            answerObj.textContent = answer.text;\n\n            // Вешаем слушатель на вариант ответа\n            answerObj.addEventListener('click', gameProcessing_.getUserAnswer);\n\n            UI_.questionElems.options.push(answerObj);\n\n            UI_.append(answerObj, UI_.questionElems.optionsHolder);\n\n        },\n\n        /**\n         * Создает новый DOM-элемент с набором переданных классов\n         *\n         * @param {string} tag - имя тега\n         * @param {string|Array} classes - имя или массив имен классов\n         * @returns {Element}\n         */\n        createElem: function (tag, classes) {\n\n            var elem = document.createElement(tag);\n\n            if (!classes) {\n\n                return elem;\n\n            }\n\n            if (classes instanceof Array) {\n\n                for (var i in classes) {\n\n                    elem.classList.add(classes[i]);\n\n                }\n\n            } else {\n\n                elem.classList.add(classes);\n\n            }\n\n            return elem;\n\n        },\n\n        /**\n         * Добавляет элементы в переданный элемент\n         *\n         * @param {Element|Array} elems - элемент или массив элементов\n         * @param {Element|null} parent - родитель или UI_.holder, если передан NULL\n         */\n        append: function (elems, parent) {\n\n            parent = parent || UI_.holder;\n\n            if (!(elems instanceof Element)) {\n\n                for (var i in elems) {\n\n                    if (elems[i] instanceof Element) {\n\n                        parent.appendChild(elems[i]);\n\n                    }\n\n                }\n\n            } else {\n\n                parent.appendChild(elems);\n\n            }\n\n        },\n\n\n        /**\n         * Вставляет элемент после переданного элемента\n         *\n         * @param {Element} elem\n         * @param {Element} elemBefore\n         */\n        insertAfter: function (elem, elemBefore) {\n\n            if (elemBefore.nextSibling) {\n\n                UI_.questionElems.optionsHolder.insertBefore(elem, elemBefore.nextSibling);\n\n            } else {\n\n                UI_.append(elem, elemBefore.parentNode);\n\n            }\n\n        },\n\n        /**\n         * Удалаяет все дочерние элементы элемента parent\n         *\n         * @param {Element} parent\n         */\n        clear: function (parent) {\n\n            parent = parent || UI_.holder;\n\n            while (parent.firstChild) {\n\n                parent.removeChild(parent.firstChild);\n\n            }\n\n        }\n\n    };\n\n    var gameProcessing_ = {\n\n        prepare: function () {\n\n            maxScore = 0;\n\n            quizData.questions.map(function (question) {\n\n                question.answers.map(function (answer) {\n\n                    maxScore += parseFloat(answer.score);\n\n                });\n\n            });\n\n        },\n\n        /**\n         * Добавляет баллы за ответ\n         *\n         * @param {Object} e - объект события клика по варианту ответа\n         */\n        getUserAnswer: function (e) {\n\n            var answer = e.currentTarget;\n\n            score += parseFloat(answer.dataset.score);\n\n            UI_.answerSelected(answer);\n\n        },\n\n        /**\n         * Получает сообщение о результате для набранного количества баллов\n         *\n         * @returns {string} message\n         */\n        getMessage: function () {\n\n            var messages = quizData.resultMessages,\n                message;\n\n            messages.sort(function (a, b) {\n\n                return a['score'] - b['score'];\n\n            });\n\n            if (!messages.length) {\n\n                return;\n\n            }\n\n            for (var i in messages) {\n\n                if (score < messages[i]['score']) {\n\n                    break;\n\n                }\n\n                message = messages[i]['message'];\n\n            }\n\n            return message;\n\n        }\n\n    };\n\n    return {\n        init: init\n    };\n\n})();\n","/**\n* Quiz form client handler\n* Author: @ndawn\n* Date: 09/12/16\n*/\n\nmodule.exports = (function (quiz) {\n\n    /**\n    * Quiz form\n    * @var {null} quiz.form - form DOM element\n    */\n    quiz.form = null;\n\n\n    /**\n    * Nodes list\n    * @var {object} quiz.nodes - dict of DOM elements of questions and result messages\n    */\n    quiz.nodes = {\n        'title': null,\n        'description': null,\n        'questions': [],\n        'resultMessages': [],\n        'shareMessage': null\n    };\n\n\n    /**\n    * Question insert button and anchor for new questions\n    * @var {Element} quiz.questionInsertAnchor - DOM element of question insert anchor\n    * @var {Element} quiz.questionInsertButton - DOM element of question insert button\n    */\n    quiz.questionInsertAnchor = null;\n    quiz.questionInsertButton = null;\n\n\n    /**\n    * Result message insert button and anchor for new resultMessages\n    * @var {Element} quiz.resultMessageInsertAnchor - DOM element of result message insert anchor\n    * @var {Element} quiz.resultMessageInsertButton - DOM element of result message insert button\n    */\n    quiz.resultMessageInsertAnchor = null;\n    quiz.resultMessageInsertButton = null;\n\n\n    /**\n    * Result messages holder element\n    * @var {Element} quiz.resultMessagesHolder - DOM element of result messages holder\n    */\n    quiz.resultMessagesHolder = null;\n\n\n    /**\n    * @private\n    * DOM element creating function\n    * Creates a DOM element with given attributes\n    * @param {string} tag - HTML tag of the element\n    * @param {object} attributes - dictionary with attributes to be added to the element\n    */\n    var newDOMElement_ = function (tag, attributes, text) {\n\n        text = text || '';\n        var element = document.createElement(tag);\n        var textNode = document.createTextNode(text);\n\n        element.appendChild(textNode);\n\n        for (var attr in attributes) {\n\n            var attrNode = document.createAttribute(attr);\n\n            attrNode.value = attributes[attr];\n            element.setAttributeNode(attrNode);\n\n        }\n\n        return element;\n\n    };\n\n\n    /**\n    * @private\n    * Answer block creating function\n    * Creates a couple of DOM elements and appends them to question answers list\n    * @param {number} questionIndex - index of question which answer to be appended to\n    */\n    var appendAnswerBlock_ = function (questionIndex, answerData) {\n\n        var answer = {};\n        var question = quiz.nodes.questions[questionIndex];\n        var objectIndex = question.answers.length;\n\n        answerData = answerData || {};\n\n        answer.holder = newDOMElement_('tr', {\n            'class': 'quiz-form__question-answer-holder',\n            'data-question-index': questionIndex,\n            'data-object-index': objectIndex\n        });\n\n        answer.textColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-text-column'\n        });\n\n        answer.text = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-answer-text',\n            'value': answerData.text || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.scoreColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-score-column'\n        });\n\n        answer.score = newDOMElement_('input', {\n            'type': 'number',\n            'min': '0',\n            'step': '1',\n            'value': answerData.score || '0',\n            'class': 'quiz-form__question-answer-score',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.messageColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-message-column'\n        });\n\n        answer.message = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-answer-message',\n            'value': answerData.message || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.destroyButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-destroy-button-column'\n        });\n\n        answer.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-answer-destroy-button'\n        });\n\n        answer.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        answer.textColumn.appendChild(answer.text);\n        answer.scoreColumn.appendChild(answer.score);\n        answer.messageColumn.appendChild(answer.message);\n\n        answer.destroyButton.appendChild(answer.destroyButtonCross);\n\n        answer.destroyButtonColumn.appendChild(answer.destroyButton);\n\n        answer.holder.appendChild(answer.textColumn);\n        answer.holder.appendChild(answer.scoreColumn);\n        answer.holder.appendChild(answer.messageColumn);\n        answer.holder.appendChild(answer.destroyButtonColumn);\n\n        question.answers.push(answer);\n\n        insertDOMElement_(answer);\n\n        updateDestroyIcons_(question.answers);\n\n    };\n\n\n    /**\n    * @private\n    * Question element creating function\n    * Creates a question JS object with DOM elements in it and appends it to the questions list\n    */\n    var appendQuestionBlock_ = function (questionData) {\n\n        var question = {};\n        var objectIndex = quiz.nodes.questions.length;\n\n        questionData = questionData || {};\n\n        question.holder = newDOMElement_('div', {\n            'class': 'quiz-form__question-holder',\n            'data-object-index': objectIndex\n        });\n\n        question.number = newDOMElement_('label', {\n            'class': 'quiz-form__question-number'\n        }, 'Вопрос ' + (objectIndex + 1));\n\n        question.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-destroy-button'\n        });\n\n        question.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        question.titleLabel = newDOMElement_('label', {\n            'class': 'quiz-form__label quiz-form__question-title-label'\n        }, 'Заголовок вопроса');\n\n        question.title = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-title',\n            'value': questionData.title || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        question.answers = [];\n\n        question.answersHolder = newDOMElement_('table', {\n            'class': 'quiz-form__question-answers-holder'\n        });\n\n        question.answersHead = newDOMElement_('thead', {\n            'class': 'quiz-form__question-answers-head'\n        });\n\n        question.answersLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-answers-label'\n        }, 'Ответы');\n\n        question.scoresLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-scores-label'\n        }, 'Баллы');\n\n        question.messagesLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-messages-label'\n        }, 'Комментарии к ответам');\n\n        question.destroyButtonLabel = newDOMElement_('th', {\n            'class': 'quiz-form__question-destroy-buttons-label'\n        });\n\n        question.addAnswerButtonRow = newDOMElement_('tr', {\n            'class': 'quiz-form__question-add-answer-button-row'\n        });\n\n        question.addAnswerButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-add-answer-button-column'\n        });\n\n        question.addAnswerButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-add-answer-button'\n        }, 'Добавить ответ');\n\n        question.addAnswerButtonPlus = newDOMElement_('img', {\n            'class': 'quiz-form__button-plus',\n            'src': '/public/app/img/quizzes/plus.svg'\n        });\n\n        question.holder.appendChild(question.number);\n\n        question.destroyButton.appendChild(question.destroyButtonCross);\n\n        question.holder.appendChild(question.destroyButton);\n        question.holder.appendChild(question.titleLabel);\n        question.holder.appendChild(question.title);\n\n        question.answersHead.appendChild(question.answersLabel);\n        question.answersHead.appendChild(question.scoresLabel);\n        question.answersHead.appendChild(question.messagesLabel);\n        question.answersHead.appendChild(question.destroyButtonLabel);\n\n        question.answersHolder.appendChild(question.answersHead);\n\n        question.addAnswerButton.insertBefore(\n            question.addAnswerButtonPlus,\n            question.addAnswerButton.firstChild\n        );\n\n        question.addAnswerButtonColumn.appendChild(question.addAnswerButton);\n\n        question.addAnswerButtonRow.appendChild(question.addAnswerButtonColumn);\n\n        question.answersHolder.appendChild(question.addAnswerButtonRow);\n\n        question.holder.appendChild(question.answersHolder);\n\n        quiz.nodes.questions.push(question);\n\n        if (questionData.answers) {\n\n            questionData.answers.map(function (current) {\n\n                appendAnswerBlock_(objectIndex, current);\n\n            });\n\n        } else {\n\n            appendAnswerBlock_(objectIndex);\n            appendAnswerBlock_(objectIndex);\n            appendAnswerBlock_(objectIndex);\n\n        }\n\n        insertDOMElement_(question);\n\n        updateDestroyIcons_(quiz.nodes.questions);\n\n    };\n\n\n    /**\n    * @private\n    * Message block creating function\n    * Creates a result message DOM element and appends it to the result messages list\n    */\n    var appendResultMessageBlock_ = function (messageData) {\n\n        var message = {};\n        var objectIndex = quiz.nodes.resultMessages.length;\n\n        messageData = messageData || {};\n\n        message.holder = newDOMElement_('tr', {\n            'class': 'quiz-form__message-holder',\n            'data-object-index': objectIndex\n        });\n\n        message.messageColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-message-column'\n        });\n\n        message.message = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__message-message',\n            'value': messageData.message || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        message.scoreColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-score-column'\n        });\n\n        message.score = newDOMElement_('input', {\n            'type': 'number',\n            'min': '0',\n            'step': '1',\n            'value': messageData.score || '0',\n            'class': 'quiz-form__message-score',\n            'required': '',\n            'form': 'null'\n        });\n\n        message.destroyButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-destroy-button-column'\n        });\n\n        message.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__message-destroy-button'\n        });\n\n        message.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        message.messageColumn.appendChild(message.message);\n        message.scoreColumn.appendChild(message.score);\n\n        message.destroyButton.appendChild(message.destroyButtonCross);\n\n        message.destroyButtonColumn.appendChild(message.destroyButton);\n\n        message.holder.appendChild(message.messageColumn);\n        message.holder.appendChild(message.scoreColumn);\n        message.holder.appendChild(message.destroyButtonColumn);\n\n        quiz.nodes.resultMessages.push(message);\n\n        insertDOMElement_(message);\n\n        updateDestroyIcons_(quiz.nodes.resultMessages);\n\n    };\n\n\n    /**\n    * @private\n    * Object shifting function\n    * Sets numbers in the question with child elements to given index\n    * @param {object} obj - object in which numbers to be set\n    * @param {number} index - index to which child elements' attributes to be set\n    */\n    var setObjectNumber_ = function (obj, numberTo) {\n\n        obj.holder.dataset.objectIndex = numberTo - 1;\n\n        if (obj.number) {\n\n            obj.number.textContent = 'Вопрос ' + numberTo;\n\n        }\n\n    };\n\n\n    /**\n    * @private\n    * Updating destroy icons function\n    * Disables or enables destroy icon for the only element in container\n    * @param {object} container - object in which icon is to be disabled or enabled\n    */\n    var updateDestroyIcons_ = function (container) {\n\n        if (container.length <= 1) {\n\n            container[0].destroyButton.style.display = 'none';\n\n            if (container[0].firstChild) {\n\n                container[0].firstChild.style.display = 'none';\n\n            }\n\n        } else {\n\n            container[0].destroyButton.style.display = '';\n\n            if (container[0].firstChild) {\n\n                container[0].firstChild.style.display = '';\n\n            }\n\n        }\n\n    };\n\n\n    /**\n    * @private\n    * DOM element inserting function\n    * Inserts DOM element to DOM\n    * @param {object} obj - object in which DOM element to be inserted\n    */\n    var insertDOMElement_ = function (obj) {\n\n        var before;\n        var parent;\n\n        if (obj.answers) {\n\n            before = quiz.questionInsertAnchor;\n            parent = quiz.form;\n\n        } else if (obj.text) {\n\n            before = quiz.nodes.questions[parseInt(obj.holder.dataset.questionIndex)].addAnswerButtonRow;\n            parent = quiz.nodes.questions[parseInt(obj.holder.dataset.questionIndex)].answersHolder;\n\n        } else {\n\n            before = quiz.resultMessageInsertAnchor;\n            parent = quiz.resultMessagesHolder;\n\n        }\n\n        parent.insertBefore(obj.holder, before);\n\n    };\n\n\n    /**\n    * @private\n    * Element object destroying function\n    * Removes the DOM element of object from DOM and destroys object itself\n    * @param {object} container - list where object is to be destroyed\n    * @param {number} elementIndex - index of object in list\n    */\n    var destroyObject_ = function (container, elementIndex) {\n\n        container[elementIndex].holder.parentNode.removeChild(container[elementIndex].holder);\n\n        container.splice(elementIndex, 1);\n        for (var i = elementIndex; i < container.length; i++) {\n\n            setObjectNumber_(container[i], i + 1);\n\n        }\n\n        updateDestroyIcons_(container);\n\n    };\n\n\n    /**\n    * @private\n    * Event listeners setting function\n    * Set event listeners for insert and destroy buttons and form submission\n    */\n    var setEventListeners_ = function () {\n\n        quiz.form.onsubmit = function (event) {\n\n            event.preventDefault();\n\n            var json = {\n                'title': quiz.form.querySelector('[name=\"title\"]').value,\n                'description': quiz.form.querySelector('[name=\"description\"]').value,\n                'questions': [],\n                'resultMessages': [],\n                'shareMessage': quiz.form.querySelector('[name=\"shareMessage\"]').value\n            };\n\n            for (var i in quiz.nodes.questions) {\n\n                var jsonQuestion = {};\n\n                jsonQuestion.title = quiz.nodes.questions[i].title.value;\n                jsonQuestion.answers = [];\n\n                for (var j in quiz.nodes.questions[i].answers) {\n\n                    var jsonAnswer = {};\n\n                    jsonAnswer.text = quiz.nodes.questions[i].answers[j].text.value;\n                    jsonAnswer.score = quiz.nodes.questions[i].answers[j].score.value;\n                    jsonAnswer.message = quiz.nodes.questions[i].answers[j].message.value;\n\n                    jsonQuestion.answers.push(jsonAnswer);\n\n                }\n\n                json.questions.push(jsonQuestion);\n\n            }\n\n            for (var i in quiz.nodes.resultMessages) {\n\n                var jsonMessage = {};\n\n                jsonMessage.score = quiz.nodes.resultMessages[i].score.value;\n                jsonMessage.message = quiz.nodes.resultMessages[i].message.value;\n\n                json.resultMessages.push(jsonMessage);\n\n            };\n\n            quiz.form.appendChild(newDOMElement_('input', {\n                'type': 'hidden',\n                'name': 'quiz_data',\n                'value': JSON.stringify(json)\n            }));\n\n            quiz.form.submit();\n\n        };\n\n        quiz.questionInsertButton.onclick = function () {\n\n            appendQuestionBlock_();\n\n        };\n\n        quiz.resultMessageInsertButton.onclick = function () {\n\n            appendResultMessageBlock_();\n\n        };\n\n\n        quiz.form.onclick = function (event) {\n\n            var container;\n            var elementIndex;\n\n            if (event.target.classList.contains('quiz-form__question-destroy-button')) {\n\n                container = quiz.nodes.questions;\n                elementIndex = parseInt(event.target.parentNode.dataset.objectIndex);\n\n            } else if (event.target.parentNode.classList.contains('quiz-form__question-destroy-button')) {\n\n                container = quiz.nodes.questions;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__question-answer-destroy-button')) {\n\n                container = quiz.nodes.questions[\n                    parseInt(event.target.parentNode.parentNode.dataset.questionIndex)\n                ].answers;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.parentNode.classList.contains('quiz-form__question-answer-destroy-button')) {\n\n                container = quiz.nodes.questions[\n                    parseInt(event.target.parentNode.parentNode.parentNode.dataset.questionIndex)\n                ].answers;\n                elementIndex = parseInt(event.target.parentNode.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__message-destroy-button')) {\n\n                container = quiz.nodes.resultMessages;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__question-add-answer-button')) {\n\n                container = null;\n                elementIndex = parseInt(event.target.parentNode.parentNode.parentNode.parentNode.dataset.objectIndex);\n\n            }\n\n            if (container === null) {\n\n                appendAnswerBlock_(elementIndex);\n\n            } else if (container !== undefined) {\n\n                destroyObject_(container, elementIndex);\n\n            }\n\n        };\n\n    };\n\n\n    /**\n    * @private\n    * First result message adding function\n    * Inserts result message with number 1 to the form\n    */\n    var addInitialResultMessage_ = function () {\n\n        appendResultMessageBlock_();\n\n    };\n\n\n    /**\n    * @private\n    * First question adding function\n    * Inserts question with number 1 to the form\n    */\n    var addInitialQuestion_ = function () {\n\n        appendQuestionBlock_();\n\n    };\n\n\n    /**\n    * @private\n    * Initial form parameters setting adding function\n    * Sets form variable and insert buttons\n    */\n    var setInitialFormParams_ = function () {\n\n        quiz.form = document.forms.quizForm;\n        quiz.questionInsertAnchor = document.getElementById('questionInsertAnchor');\n        quiz.questionInsertButton = document.getElementById('questionInsertButton');\n        quiz.resultMessageInsertAnchor = document.getElementById('resultMessageInsertAnchor');\n        quiz.resultMessageInsertButton = document.getElementById('resultMessageInsertButton');\n        quiz.resultMessagesHolder = document.getElementById('resultMessagesHolder');\n\n    };\n\n\n    /**\n    * @private\n    * Initial destroy icons updating function\n    * Updates initially placed destroy icons\n    */\n    var updateInitialDestroyIcons_ = function () {\n\n        updateDestroyIcons_(quiz.nodes.questions);\n        updateDestroyIcons_(quiz.nodes.resultMessages);\n        updateDestroyIcons_(quiz.nodes.questions[0].answers);\n\n    };\n\n\n    var render = function (quizData) {\n\n        var questions = quizData.questions,\n            resultMessages = quizData.resultMessages;\n\n        document.querySelector('[name=\"title\"]').value = quizData.title;\n        document.querySelector('textarea[name=\"description\"]').textContent = quizData.description;\n        document.querySelector('[name=\"shareMessage\"]').value = quizData.shareMessage;\n\n        setInitialFormParams_();\n\n        resultMessages.map(function (current) {\n\n            appendResultMessageBlock_(current);\n\n        });\n\n        questions.map(function (current) {\n\n            appendQuestionBlock_(current);\n\n        });\n\n        setEventListeners_();\n\n        updateInitialDestroyIcons_();\n\n    };\n\n\n    /**\n     * @public\n     * Initialization function\n     * Initializes quiz form: inserts initial DOM elements, sets initial event listeners, etc\n     */\n    quiz.init = function (settings) {\n\n        if (settings.quizData) {\n\n            render(settings.quizData);\n            return;\n\n        }\n\n        setInitialFormParams_();\n        addInitialQuestion_();\n        addInitialResultMessage_();\n        setEventListeners_();\n        updateInitialDestroyIcons_();\n\n    };\n\n    return quiz;\n\n})({});\n","/**\n* Module for scroll-up button\n*/\nmodule.exports = function () {\n\n    /**\n    * Page scroll offset to show scroll-up button\n    */\n    var SCROLL_UP_OFFSET = 100,\n        button = null;\n\n    var scrollPage = function () {\n\n        window.scrollTo(0, 0);\n\n    };\n\n    var windowScrollHandler = function () {\n\n        if (window.pageYOffset > SCROLL_UP_OFFSET) {\n\n            button.classList.add('show');\n\n        } else {\n\n            button.classList.remove('show');\n\n        }\n\n    };\n\n    /**\n    * Init method\n    * Fired after document is ready\n    */\n\n    var init = function () {\n\n        /** Find scroll-up button */\n        button = document.createElement('DIV');\n\n        button.classList.add('scroll-up');\n        document.body.appendChild(button);\n\n        /** Bind click event on scroll-up button */\n        button.addEventListener('click', scrollPage);\n\n        /** Global window scroll handler */\n        window.addEventListener('scroll', windowScrollHandler);\n\n    };\n\n    return {\n        init : init\n    };\n\n\n}();\n","/**\n * Module for social sharing\n */\nmodule.exports = (function ( sharer ) {\n\n    /**\n     * @param  {Object} data - Info about item we want to share\n     */\n    sharer.vkontakte = function (data) {\n\n        var link  = 'https://vk.com/share.php?';\n\n        link += 'url='          + data.url;\n        link += '&title='       + data.title;\n        link += '&description=' + data.desc;\n        link += '&image='       + data.img;\n        link += '&noparse=true';\n\n        sharer.popup( link, 'vkontakte'  );\n\n    };\n\n    sharer.facebook = function (data) {\n\n        var FB_APP_ID = 1740455756240878,\n            link      = 'https://www.facebook.com/dialog/share?display=popup';\n\n        link += '&app_id='       + FB_APP_ID;\n        link += '&href='         + data.url;\n        link += '&redirect_uri=' + document.location.href;\n\n        sharer.popup( link, 'facebook' );\n\n    };\n    sharer.twitter = function (data) {\n\n        var link = 'https://twitter.com/share?';\n\n        link += 'text='      + data.title;\n        link += '&url='      + data.url;\n        link += '&counturl=' + data.url;\n\n        sharer.popup( link, 'twitter' );\n\n    };\n\n    sharer.telegram = function (data) {\n\n        var link  = 'https://telegram.me/share/url';\n\n        link += '?text=' + data.title;\n        link += '&url='  + data.url;\n\n        sharer.popup( link, 'telegram' );\n\n    };\n    /**\n     * @param  {String} url\n     * @param  {String} socialType\n     */\n    sharer.popup = function ( url, socialType ) {\n\n        window.open( url, '', 'toolbar=0,status=0,width=626,height=436' );\n\n        /**\n        * Write analytics goal\n        */\n        if ( window.yaCounter32652805 ) {\n\n            window.yaCounter32652805.reachGoal('article-share', function () {}, this, {type: socialType, url: url});\n\n        }\n\n    };\n\n    /**\n     * Init sharer\n     * @param {Object} settings\n     * @param {String} settings.buttonsSelector - button selector on which elements should bind sharing\n     */\n    sharer.init = function (settings) {\n\n        console.assert(settings.buttonsSelector, 'Sharer: buttons selector is missed');\n\n        var shareButtons = document.querySelectorAll(settings.buttonsSelector);\n\n\n        for (var i = shareButtons.length - 1; i >= 0; i--) {\n\n            shareButtons[i].addEventListener('click', sharer.click, true);\n\n        }\n\n    };\n    /**\n     * @param  {Event} event\n     */\n    sharer.click = function (event) {\n\n        var target = event.target;\n\n        /**\n        * Social provider stores in data 'shareType' attribute on share-button\n        * But click may be fired on child-element in button, so we need to handle it.\n        */\n        var type = target.dataset.shareType || target.parentNode.dataset.shareType;\n\n        if (!sharer[type]) return;\n\n        /**\n        * Sanitize share params\n        * @todo test for taint strings\n        */\n        // for (key in window.shareData){\n        //      window.shareData[key] = encodeURIComponent(window.shareData[key]);\n        // }\n\n        var shareData = {\n            url:    target.dataset.url || target.parentNode.dataset.url,\n            title:  target.dataset.title || target.parentNode.dataset.title,\n            desc:   target.dataset.desc || target.parentNode.dataset.desc,\n            img:    target.dataset.img || target.parentNode.dataset.title\n        };\n\n        /**\n        * Fire click handler\n        */\n\n        sharer[type](shareData);\n\n    };\n\n\n\n    return sharer;\n\n})({});\n","/**\n * codex.showMoreNews module\n * Used in news block\n * Reveals more news when appender button is fired\n * Usage onclick=\"codex.showMoreNews.init( this );\"\n */\nvar showMoreNews = function () {\n\n    /**\n     * Helper for 'show more news' button\n     * @param {Element} button   - appender button\n     */\n    var init = function ( button ) {\n\n        var PORTION = 5; // Amount of news shown each time appender button is fired\n\n        var news = document.querySelectorAll('.news__list_item'),\n            hided = [];\n\n        for (var i = 0, newsItem; !!(newsItem = news[i]); i++) {\n\n            if ( newsItem.classList.contains('news__list_item--hidden') ) {\n\n                hided.push(newsItem);\n\n            }\n\n        }\n\n        /**\n         * @param {Element} item\n         * Remove PORTION of first elements from array hided\n         */\n        hided.splice(0, PORTION).map(function (item) {\n\n            item.classList.remove('news__list_item--hidden');\n\n        });\n\n        if (!hided.length) {\n\n            button.classList.add('news__list_item--hidden');\n\n        }\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = showMoreNews;\n","'use strict';\n\n/**\n* Ajax file transport module\n* @author Savchenko Peter (vk.com/specc)\n* @param {Object} transport\n*/\nmodule.exports = (function (transport) {\n\n    transport.currentButtonClicked = {};\n\n    /**\n     * @param {String} settings.buttonsClass - class of transport button handler\n     */\n    transport.init = function (settings) {\n\n        let buttons = document.querySelectorAll(settings.buttonsClass);\n\n        if (!buttons.length) {\n\n            console.warn('Can\\'t find element with class: «' + settings.buttonsClass + '»');\n\n            return;\n\n        }\n\n        transport.form  = document.getElementById('transportForm');\n        transport.input = document.getElementById('transportInput');\n\n        for (var i = buttons.length - 1; i >= 0; i--) {\n\n            buttons[i].addEventListener('click', transport.buttonCallback, false);\n\n        }\n\n        transport.input.addEventListener('change', transport.submitCallback, false );\n\n    };\n\n    /**\n     * @param {Event} event\n     */\n    transport.buttonCallback = function () {\n\n        var action       = this.dataset.action,\n            targetId     = this.dataset.id,\n            isMultiple   = !!this.dataset.multiple || false;\n\n        transport.fillForm({\n            action : action,\n            id     : targetId\n        });\n\n        if ( isMultiple ) {\n\n            transport.form.multiple = 'multiple';\n\n        }\n\n        transport.currentButtonClicked = this;\n        transport.input.click();\n\n    };\n\n    /**\n    * Append hidden inputs to tranport form\n    * @param {Object} data\n    */\n    transport.fillForm = function (data) {\n\n        var input,\n            alreadyAddedInput;\n\n        for ( var field in data ) {\n\n            if (typeof data[field] == 'undefined') {\n\n                continue;\n\n            }\n\n            alreadyAddedInput = transport.form.querySelector('input[name=' + field + ']');\n\n            if (typeof alreadyAddedInput != 'undefined' && alreadyAddedInput !== null) {\n\n                input = alreadyAddedInput;\n\n            } else {\n\n                input = document.createElement('input');\n\n            }\n\n            input.type = 'hidden';\n            input.name = field;\n            input.value = data[field];\n\n            transport.form.appendChild(input);\n\n        }\n\n    };\n\n    transport.submitCallback = function () {\n\n        const FILE_MAX_SIZE = 30 * 1024 * 1024; // 30 MB\n\n        var files = transport.getFileObject( this );\n\n        for (var i = files.length - 1; i >= 0; i--) {\n\n            /** Validate file extension */\n            if ( !transport.validateExtension(files[i]) || !transport.validateMIME(files[i]) ) {\n\n                window.console && console.warn('Wrong file type: %o', + files[i].name);\n                return;\n\n            }\n\n            /** Validate file size */\n            if ( !transport.validateSize( files[i], FILE_MAX_SIZE) ) {\n\n                window.console && console.warn('File size exceeded limit: %o MB', files[i].size / (1024*1024).toFixed(2) );\n                return;\n\n            }\n\n        }\n\n        transport.currentButtonClicked.className += ' loading';\n        transport.form.submit();\n\n    };\n\n    /**\n    * Fires from transport-frame window\n    * @param {Object} response\n    */\n    transport.response = function ( response ) {\n\n        transport.currentButtonClicked.className = transport.currentButtonClicked.className.replace('loading', '');\n\n        if (response.callback) {\n\n            eval(response.callback);\n\n        }\n\n        if ( response.result ) {\n\n            if ( response.result == 'error' ) {\n\n                window.console && console.warn( response.error_description || 'error' );\n\n            }\n\n        }\n\n    };\n    /**\n     * @param  {[Element]} fileInput\n     * @return {[type]}           [description]\n     */\n    transport.getFileObject = function ( fileInput ) {\n\n        if ( !fileInput ) return false;\n        /**\n        * Workaround with IE that doesn't support File API\n        * @todo test and delete this crutch\n        */\n        return typeof ActiveXObject == 'function' ? (new ActiveXObject('Scripting.FileSystemObject')).getFile(fileInput.value) : fileInput.files;\n\n    };\n\n    /**\n     * @param {Object} accept\n     * @param {Object} fileObj\n     * @return {Boolean}\n     */\n    transport.validateMIME = function ( fileObj, accept ) {\n\n\n        accept = typeof accept == 'array' ? accept : ['image/jpeg', 'image/png'];\n\n        for (var i = accept.length - 1; i >= 0; i--) {\n\n            if ( fileObj.type == accept[i] ) return true;\n\n        }\n        return false;\n\n    };\n\n    transport.validateExtension = function ( fileObj, accept ) {\n\n        var ext = fileObj.name.match(/\\.(\\w+)($|#|\\?)/);\n\n        if (!ext) return false;\n\n        ext = ext[1].toLowerCase();\n\n        accept = typeof accept == 'array' ? accept : ['jpg', 'jpeg', 'png'];\n\n        for (var i = accept.length - 1; i >= 0; i--) {\n\n            if ( ext == accept[i] ) return true;\n\n        }\n\n        return false;\n\n    };\n\n    transport.validateSize = function ( fileObj, maxSize ) {\n\n        return fileObj.size < maxSize;\n\n    };\n\n    return transport;\n\n})({});\n","/**\n * Module for VK community widget: https://vk.com/dev/Community\n * Adds vkWidget to page\n */\nvar vkWidget = function () {\n\n    var targetId, targetView, communityId,\n        VK_API_URI = 'https://vk.com/js/api/openapi.js';\n\n    /**\n     * Initialization of module\n     *\n     * @param  {[Object]} params\n     * @param {int} params.id - element id, where widget is appended\n     * @param {int} params.display.mode - widget appearance (\"3\" - show people in the community)\n     * @param {int|string} params.display.width - set widget width to a fixed number or auto\n     * @param {int} params.communityId - id of VK community\n     *\n     * @example\n     * vkWidget.init({\n     *   id: 'vk_groups',\n     *   display: {\n     *       'mode': 3,\n     *       'width': 'auto'\n     *   },\n     *   communityId: 103229636\n     * });\n     */\n    var init = function (params) {\n\n        targetId = params.id || null,\n        targetView = params.display || { 'mode': 3, 'width': 'auto' },\n        communityId = params.communityId || 0;\n\n        if (document.getElementById(targetId) == undefined) {\n\n            console.log('Cannot find element with id '+ targetId);\n            return;\n\n        };\n\n        loadScript();\n\n    };\n\n    /**\n     * Loads VK Api script to initialize a widget\n     * and appends it to page\n     */\n    var loadScript = function () {\n\n        var vkApiScript = document.createElement('SCRIPT');\n\n        vkApiScript.src = VK_API_URI;\n\n        vkApiScript.setAttribute('async', 'true');\n\n        vkApiScript.onload = showWidget;\n\n        document.body.appendChild(vkApiScript);\n\n    };\n\n    /**\n     * Runs widget initiating from vkApi\n     */\n    var showWidget = function () {\n\n        window.VK.Widgets.Group(targetId, targetView, communityId);\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = vkWidget;"],"sourceRoot":""}