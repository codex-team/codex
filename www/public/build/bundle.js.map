{"version":3,"sources":["webpack://codex/webpack/bootstrap","webpack://codex/./node_modules/@codexteam/deeplinker/dist/deeplinker.js","webpack://codex/./node_modules/codex.ajax/lib/bundle.js","webpack://codex/./public/app/js/main.js","webpack://codex/./public/app/js/modules/admin.js","webpack://codex/./public/app/js/modules/bestDevelopers.js","webpack://codex/./public/app/js/modules/codeStyling.js","webpack://codex/./public/app/js/modules/core.js","webpack://codex/./public/app/js/modules/courses.js","webpack://codex/./public/app/js/modules/deeplinker.js","webpack://codex/./public/app/js/modules/dom.js","webpack://codex/./public/app/js/modules/dragndrop.js","webpack://codex/./public/app/js/modules/helpers.js","webpack://codex/./public/app/js/modules/join.js","webpack://codex/./public/app/js/modules/player.js","webpack://codex/./public/app/js/modules/polyfills.js","webpack://codex/./public/app/js/modules/profile.js","webpack://codex/./public/app/js/modules/quiz.js","webpack://codex/./public/app/js/modules/quizForm.js","webpack://codex/./public/app/js/modules/scrollUp.js","webpack://codex/./public/app/js/modules/sharer.js","webpack://codex/./public/app/js/modules/showMoreNews.js","webpack://codex/./public/app/js/modules/simpleCodeStyling.js","webpack://codex/./public/app/js/modules/transport.js","webpack://codex/./public/app/js/modules/vkWidget.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","e","configurable","default","u","iterator","constructor","document","createElement","style","display","body","appendChild","src","addEventListener","setTimeout","open","Error","click","dataset","link","href","appLink","tryToOpenApp","a","url","XMLHttpRequest","ActiveXObject","progress","success","error","before","after","data","async","type","test","withCredentials","FormData","f","append","upload","parseInt","loaded","total","setRequestHeader","onreadystatechange","readyState","responseText","JSON","parse","status","send","codex_","codex","settings","init","set","this","scrollUp","deeplinker","codeStyling","vkWidget","id","width","communityId","playVideoButton","querySelector","Player","sourceURL","toggler","wrapperSelector","docReady","admin","join","core","dragndrop","sharer","developer","simpleCode","showMoreNews","polyfills","ajax","profile","helpers","quiz","quizForm","transport","courses","params","log","listType","items","querySelectorAll","length","classList","add","droppableClass","findDraggable","target","closest","makeAvatar","elem","avatar","cloneNode","parentNode","insertBefore","nextSibling","rollback","removeChild","remove","targetChanged","newTarget","targetPosition","compareDocumentPosition","move","targetReached","itemId","itemType","itemBelowValue","nextElementSibling","ajaxData","getElementById","stringify","item_id","item_type","item_below_value","toggle","event","checked","chBoxes","$","library","codeBlocksSelector","codeBlocks","Promise","all","loadResource","catch","err","console","warn","then","hljs","highlightBlock","XMLHTTP","successFunction","beforeSend","str","prefix","arg","substr","staticLength","toggleCourse","selector","arguments","undefined","links","forEach","preventDefault","DOM","tagName","classNames","attributes","_el$classList","el","Array","isArray","apply","_toConsumableArray","attrName","nodeToReplace","replaceWith","replaceChild","elementId","path","instanceName","resolve","reject","includes","node","resourcePrefix","toLowerCase","defer","charset","rel","timerLabel","time","onload","timeEnd","onerror","head","defaultHandlers","draggableClass","findDroppable","elementFromPoint","clientX","clientY","dragObj","shift","left","pageX","x","top","pageY","y","onMouseDown","which","touchSupported","clickedAt","toggleSelection","coords","getCoords","onMouseMove","Math","abs","onMouseUp","rect","getBoundingClientRect","pageXOffset","pageYOffset","changedTouches","touch","screenX","screenY","ondragstart","setCookie","expires","domain","toGMTString","cookie","getCookie","dc","begin","indexOf","end","unescape","substring","getOffset","_x","_y","isNaN","offsetLeft","offsetTop","clientLeft","clientTop","offsetParent","checkUserCanEdit","showAdditionalFields","textarea","blankAuthBlock","emailInput","joinBlank","joinBlankTextareas","getElementsByTagName","blankShowAdditionalFieldsButton","_dom","_ref","_this","_classCallCheck","wrapper","overlay","CSS","overlayShowed","overlayLoaded","closeButton","showVideoOverlay","_this2","make","video","autoplay","loop","source","videoLoaded","close","String","Element","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","parentElement","uploadPhotoSuccess","newPhotoURL","settingsPhoto","headerPhoto","quizData","numberOfQuestions","currentQuestion","score","maxScore","UI_","gameProcessing_","quizDataInput","holder","questions","prepare","setupQuestionInterface","currentQuestionObj","questionElems","title","optionsHolder","counter","nextButton","clear","createElem","setAttribute","options","showQuestion","removeEventListener","textContent","answers","map","createOption","answerSelected","answer","current","getUserAnswer","disabled","showResult","showAnswer","answerStyle","answerIndex","index","answerMessage","message","insertAfter","showCorrectAnswers","result","resultScore","resultMessage","getMessage","social","createSocial","retry","shareType","class","icon","button","shareMessage","replace","location","desc","description","answerObj","text","push","tag","classes","elems","parent","elemBefore","firstChild","question","parseFloat","currentTarget","messages","resultMessages","sort","b","form","nodes","questionInsertAnchor","questionInsertButton","resultMessageInsertAnchor","resultMessageInsertButton","resultMessagesHolder","newDOMElement_","element","textNode","createTextNode","attr","attrNode","createAttribute","setAttributeNode","appendAnswerBlock_","questionIndex","answerData","objectIndex","data-question-index","data-object-index","textColumn","required","scoreColumn","min","step","messageColumn","destroyButtonColumn","destroyButton","destroyButtonCross","insertDOMElement_","updateDestroyIcons_","appendQuestionBlock_","questionData","number","titleLabel","answersHolder","answersHead","answersLabel","scoresLabel","messagesLabel","destroyButtonLabel","addAnswerButtonRow","addAnswerButtonColumn","addAnswerButton","addAnswerButtonPlus","appendResultMessageBlock_","messageData","container","obj","setEventListeners_","onsubmit","json","jsonQuestion","j","jsonAnswer","jsonMessage","submit","onclick","elementIndex","contains","splice","numberTo","destroyObject_","setInitialFormParams_","forms","updateInitialDestroyIcons_","render","scrollPage","windowScrollHandler","scrollTo","vkontakte","img","popup","facebook","twitter","telegram","socialType","yaCounter32652805","reachGoal","buttonsSelector","assert","shareButtons","shareData","newsItem","news","hided","item","simpleCode_","rules","comments","commentsInline","tags","attrs","strings","keywords","digits","vars","colors","process","origin","innerHTML","rule","addStyles","elements","currentButtonClicked","buttons","input","buttonCallback","submitCallback","action","targetId","isMultiple","multiple","fillForm","alreadyAddedInput","field","files","getFileObject","validateExtension","validateMIME","validateSize","size","toFixed","className","response","callback","eval","error_description","fileInput","getFile","fileObj","accept","ext","match","maxSize","targetView","loadScript","showWidget","vkApiScript","VK","Widgets","Group"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./public/app/js/main.js\");\n","!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports.deeplinker=n():e.deeplinker=n()}(window,function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=\"\",t(t.s=0)}([function(e,n,t){\"use strict\";var o,r,i,u,c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};\n/**\n * Helps to set link with custom protocol (to open apps) and usual link (for webpages) to a button\n *\n * @author Taly Guryn <https://github.com/talyguryn>\n * @license MIT\n */e.exports=(o=function(e){e||u(\"Can not open app, because appLink is undefined\");var n=document.createElement(\"iframe\");n.style.display=\"none\",document.body.appendChild(n),null!==n&&(n.src=e)},r=function(e,n){var t=!1;window.addEventListener(\"pagehide\",function(){t=!0},!1),window.addEventListener(\"blur\",function(){t=!0},!1),o(e),setTimeout(function(){t||i(n)},100)},i=function(e){e||u(\"Can not open page because link is undefined\"),window.open(e,\"_blank\")},u=function(e){throw Error(\"[Deeplinker] \"+e)},{click:function(e){\"object\"!==(void 0===e?\"undefined\":c(e))&&u(\"Passed element is not an object\");var n=e.dataset.link||e.href,t=e.dataset.appLink;r(t,n)},tryToOpenApp:o})}])});","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.ajax=e():t.ajax=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";t.exports=function(){var t=function(t){return t instanceof FormData};return{call:function(e){if(e&&e.url){var n=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject(\"Microsoft.XMLHTTP\"),r=e.progress||null,a=e.success||function(){},o=e.error||function(){},u=e.before||null,i=e.after?e.after.bind(null,e.data):null;if(e.async=!0,e.type=e.type||\"GET\",e.data=e.data||\"\",e[\"content-type\"]=e[\"content-type\"]||\"application/json; charset=utf-8\",\"GET\"===e.type&&e.data&&(e.url=/\\?/.test(e.url)?e.url+\"&\"+e.data:e.url+\"?\"+e.data),e.withCredentials&&(n.withCredentials=!0),u&&\"function\"==typeof u){if(!1===u(e.data))return}if(n.open(e.type,e.url,e.async),!t(e.data)){var c=new FormData;for(var f in e.data)c.append(f,e.data[f]);e.data=c}r&&\"function\"==typeof r&&n.upload.addEventListener(\"progress\",function(t){var e=parseInt(t.loaded/t.total*100);r(e)},!1),n.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),n.onreadystatechange=function(){if(4===n.readyState){var t=n.responseText;try{t=JSON.parse(t)}catch(t){}200===n.status?a(t):o(t),i&&\"function\"==typeof i&&i()}},n.send(e.data)}}}}()}])});\n//# sourceMappingURL=bundle.js.map","require('../css/main.css');\n\n/**\n * CodeX community id at vk.com.\n * used by vkWidget module\n */\nconst VK_COMMUNITY_ID = 103229636;\n\nconst codex = (function (codex_) {\n\n\n    'use strict';\n\n    codex_.settings = {};\n\n    /**\n     * Preparation method\n     */\n    codex_.init = function (settings) {\n\n        //\n        /** Save settings or use defaults */\n        for (var set in settings ) {\n\n            this.settings[set] = settings[set] || this.settings[set] || null;\n\n        }\n\n        codex.scrollUp.init();\n\n        /**\n         * Find elements with \"deeplinker\" class and add click listener\n         *\n         * @param {string} selector\n         */\n        codex.deeplinker.init('.deeplinker');\n\n        codex.codeStyling.init('.article-code__content');\n\n        codex.vkWidget.init({\n            id: 'vk_groups',\n            display: {\n                'mode': 3,\n                'width': 'auto'\n            },\n            communityId: VK_COMMUNITY_ID\n        });\n\n        /**\n         * Acitve play-video buttons\n         */\n        let playVideoButton = document.querySelector('[name=\"js-show-player\"]');\n\n        if (playVideoButton) {\n\n            const Player = require('./modules/player').default;\n\n            new Player({\n                sourceURL: 'public/app/img/products/ar-tester.mp4',\n                toggler: playVideoButton,\n                wrapperSelector : '.product-card--ar-tester'\n            });\n\n        }\n\n\n    };\n\n    return codex_;\n\n})({});\n\n/**\n* Document ready event listener\n* @usage codex.docReady(function(){ # code ... } );\n*/\ncodex.docReady = function (f) {\n\n    return /in/.test(document.readyState) ? window.setTimeout(codex.docReady, 9, f) : f();\n\n};\n\n/**\n * Pages\n */\ncodex.admin = require('./modules/admin');\ncodex.join = require('./modules/join');\n\n/**\n * Modules\n */\ncodex.core = require('./modules/core');\ncodex.dragndrop = require('./modules/dragndrop');\ncodex.scrollUp = require('./modules/scrollUp');\ncodex.sharer = require('./modules/sharer');\ncodex.developer = require('./modules/bestDevelopers');\ncodex.simpleCode = require('./modules/simpleCodeStyling');\ncodex.showMoreNews = require('./modules/showMoreNews');\ncodex.polyfills = require('./modules/polyfills');\ncodex.ajax = require('codex.ajax');\ncodex.profile = require('./modules/profile');\ncodex.helpers = require('./modules/helpers');\ncodex.quiz = require('./modules/quiz');\ncodex.quizForm = require('./modules/quizForm');\ncodex.transport = require('./modules/transport');\ncodex.vkWidget = require('./modules/vkWidget');\ncodex.codeStyling = require('./modules/codeStyling');\ncodex.courses = require('./modules/courses');\ncodex.deeplinker = require('./modules/deeplinker');\n\nmodule.exports = codex;\n\n","/**\n * Admin page methods\n */\nmodule.exports = function (admin) {\n\n    /**\n     * Initializes dragndrop module\n     * @uses  codex.dragndrop\n     */\n    function initDragNDrop() {\n\n        codex.dragndrop({\n            droppableClass: 'list-item',\n\n            findDraggable: function (e) {\n\n                var target = e.target.closest('.draggable');\n\n                if (target) return target.closest('.list-item');\n\n                return null;\n\n            },\n\n            makeAvatar: function (elem) {\n\n                var avatar = {};\n\n                avatar.elem = elem.cloneNode(true);\n                avatar.elem.classList.add('dnd-avatar');\n\n                elem.parentNode.insertBefore(avatar.elem, elem.nextSibling);\n                elem.classList.add('no-display');\n\n                avatar.rollback = function () {\n\n                    avatar.elem.parentNode.removeChild(avatar.elem);\n                    elem.classList.remove('no-display');\n\n                };\n\n                return avatar;\n\n            },\n\n            targetChanged: function (target, newTarget, avatar) {\n\n                if (!newTarget) return;\n\n                var targetPosition = newTarget.compareDocumentPosition(avatar.elem);\n\n                if (targetPosition&4) {\n\n                    newTarget.parentNode.insertBefore(avatar.elem, newTarget);\n\n                } else if (targetPosition&2) {\n\n                    newTarget.parentNode.insertBefore(avatar.elem, newTarget.nextSibling);\n\n                }\n\n            },\n\n            move: function () {},\n\n            targetReached: function (target, avatar, elem) {\n\n                target.parentNode.insertBefore(elem, target.nextSibling);\n\n                avatar.elem.parentNode.removeChild(avatar.elem);\n                elem.classList.remove('no-display');\n\n                var itemId = elem.dataset.id,\n                    itemType = elem.dataset.type,\n                    itemBelowValue = null,\n                    nextSibling;\n\n                if (nextSibling == elem.nextElementSibling) {\n\n                    itemBelowValue = nextSibling.dataset.type + ':' + nextSibling.dataset.id;\n\n                }\n\n                var ajaxData = {\n                    success: function () {\n\n                        document.getElementById('saved').classList.remove('top-menu__saved_hidden');\n\n                        window.setTimeout(function () {\n\n                            document.getElementById('saved').classList.add('top-menu__saved_hidden');\n\n                        }, 1000);\n\n                    },\n                    type: 'POST',\n                    url: '/admin/feed',\n                    data: JSON.stringify({\n                        'item_id': itemId,\n                        'item_type': itemType,\n                        'item_below_value': itemBelowValue\n                    })\n                };\n\n\n                codex.core.ajax(ajaxData);\n\n            }\n        });\n        // body...\n\n    }\n\n    /**\n     * Module initialization\n     * @param  {Object}      params             - init params\n     * @param  {String|null} params.listType    - feed list type (\"cards\"|\"list\")\n     */\n    admin.init = function ( params ) {\n\n        codex.core.log('Initialized.', 'Module admin');\n\n        if ( params.listType == 'cards' ) {\n\n            var items = document.querySelectorAll('.feed-item');\n\n            for (var i = items.length-1; i > -1; i--) {\n\n                items[i].classList.add('draggable');\n                items[i].classList.add('feed-item--dnd');\n                items[i].classList.add('list-item');\n\n            }\n\n        }\n\n        initDragNDrop();\n\n    };\n\n    return admin;\n\n}({});\n","/**\n * codex.bestDevelopers module\n * Sets best developers values in admin/user for further output in templates/developers.php\n */\nvar developer = function () {\n\n    var bind = function () {\n\n        var chBoxes = document.querySelectorAll('.developer-checkbox');\n\n        for (var i = chBoxes.length-1; i > -1; i--) {\n\n            chBoxes[i].addEventListener('change', toggle);\n\n        }\n\n    };\n\n    /**\n     * Sends ajax data 0 or 1, whether user is best developer or not\n     * @param {Event} event\n     * @uses codex.core.ajax\n     */\n\n    var toggle = function (event) {\n\n        var data = {\n            data: 'id='+event.target.id+'&value='+(event.target.checked?1:0),\n            url: '/admin/developer'\n        };\n\n        codex.core.ajax(data);\n\n    };\n\n    return {\n        bind: bind\n    };\n\n}();\n\nmodule.exports = developer;\n","/**\n * Code Styling module\n */\nmodule.exports = function codeStyling() {\n\n    'use strict';\n\n    /**\n     * DOM manipulations helper\n     */\n    const $ = require('./dom').default;\n\n    /**\n     * Extrnal library for code styling\n     * @link https://highlightjs.org\n     * @type {Object}\n     */\n    const library = {\n        js: '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js',\n        css : '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css'\n    };\n\n    /**\n     * Loads styling library\n     */\n    let prepare = function () {\n\n        return Promise.all([\n            $.loadResource('JS', library.js, 'highlight'),\n            $.loadResource('CSS', library.css, 'highlight')\n        ]).catch( err => console.warn('Cannot load code styling module: ', err))\n            .then( () => console.log('Code Styling is ready') );\n\n    };\n\n    /**\n     * Finds code blocks and fires highlighting\n     * @param {String} codeBlocksSelector - where to find <code> blocks\n     */\n    let init = function (codeBlocksSelector) {\n\n        let codeBlocks = document.querySelectorAll(codeBlocksSelector);\n\n        if (codeBlocks) {\n\n            prepare().then( () => {\n\n                if (!window.hljs) {\n\n                    console.warn('Code Styling script loaded but not ready');\n                    return;\n\n                }\n\n                for (var i = codeBlocks.length - 1; i >= 0; i--) {\n\n                    window.hljs.highlightBlock(codeBlocks[i]);\n\n                }\n\n            });\n\n        }\n\n    };\n\n    return {\n        init\n    };\n\n}();\n","/**\n* Significant core methods\n*/\nmodule.exports =  function () {\n\n    /** Logging method */\n    var log = function (str, prefix, type, arg) {\n\n        var staticLength = 32;\n\n        if (prefix) {\n\n            prefix = prefix.length < staticLength ? prefix : prefix.substr( 0, staticLength - 2 );\n\n            while (prefix.length < staticLength - 1) {\n\n                prefix += ' ';\n\n            }\n\n            prefix += ':';\n            str = prefix + str;\n\n        }\n\n        type = type || 'log';\n\n        try {\n\n            if ('console' in window && window.console[ type ]) {\n\n                if (arg) console[type](str, arg);\n                else console[type](str);\n\n            }\n\n        } catch(e) {}\n\n    };\n\n    /**\n    * Native ajax method.\n    * @param {Object} data\n    */\n    var ajax = function (data) {\n\n        if (!data || !data.url) {\n\n            return;\n\n        }\n\n        var XMLHTTP          = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'),\n            successFunction  = function () {};\n\n        data.async           = true;\n        data.type            = data.type || 'GET';\n        data.data            = data.data || '';\n        data['content-type'] = data['content-type'] || 'application/json; charset=utf-8';\n        successFunction     = data.success || successFunction ;\n\n        if (data.type == 'GET' && data.data) {\n\n            data.url = /\\?/.test(data.url) ? data.url + '&' + data.data : data.url + '?' + data.data;\n\n        }\n\n        if (data.withCredentials) {\n\n            XMLHTTP.withCredentials = true;\n\n        }\n\n        if (data.beforeSend && typeof data.beforeSend == 'function') {\n\n            data.beforeSend.call();\n\n        }\n\n        XMLHTTP.open( data.type, data.url, data.async );\n        XMLHTTP.setRequestHeader('Content-type', data['content-type'] );\n        XMLHTTP.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        XMLHTTP.onreadystatechange = function () {\n\n            if (XMLHTTP.readyState == 4 && XMLHTTP.status == 200) {\n\n                successFunction(XMLHTTP.responseText);\n\n            }\n\n        };\n\n        XMLHTTP.send(data.data);\n\n    };\n\n\n    return {\n        ajax : ajax,\n        log : log\n    };\n\n}();\n","/**\n * Toggle mobile courses at the top of Article page\n */\nmodule.exports = function () {\n\n    var toggleCourse = function (elem) {\n\n        elem.nextElementSibling.classList.toggle('course-menu-list--show');\n\n    };\n\n    return {\n        toggleCourse : toggleCourse\n    };\n\n}();","const deeplinker = require('@codexteam/deeplinker');\n\nmodule.exports = (() => {\n\n    /**\n     * Add listeners for deeplinker elements\n     *\n     * @param {string} selector - find elements by target selector\n     */\n    let init = (selector = '.deeplinker') => {\n\n        let links = document.querySelectorAll(selector);\n\n        if (!links) {\n\n            return;\n\n        }\n\n        links.forEach(link => {\n\n            link.addEventListener('click', (event) => {\n\n                event.preventDefault();\n                deeplinker.click(link);\n\n            });\n\n        });\n\n    };\n\n    return {\n        init\n    };\n\n})();","/**\n * DOM manipulations methods\n */\nexport default class DOM {\n\n    /**\n     * Helper for making Elements with classname and attributes\n     * @param  {string} tagName           - new Element tag name\n     * @param  {array|string} classNames  - list or name of CSS classname(s)\n     * @param  {Object} attributes        - any attributes\n     * @return {Element}\n     */\n    static make(tagName, classNames, attributes) {\n\n        var el = document.createElement(tagName);\n\n        if ( Array.isArray(classNames) ) {\n\n            el.classList.add(...classNames);\n\n        } else if( classNames ) {\n\n            el.classList.add(classNames);\n\n        }\n\n        for (let attrName in attributes) {\n\n            el[attrName] = attributes[attrName];\n\n        }\n\n        return el;\n\n    }\n\n    /**\n     * Replaces node with\n     * @param {Element} nodeToReplace\n     * @param {Element} replaceWith\n     */\n    static replace(nodeToReplace, replaceWith) {\n\n        return nodeToReplace.parentNode.replaceChild(replaceWith, nodeToReplace);\n\n    }\n\n    /**\n     * getElementById alias\n     * @param {String} elementId\n     */\n    static get(elementId) {\n\n        return document.getElementById(elementId);\n\n    }\n\n    /**\n     * Loads static resourse: CSS or JS\n     * @param {string} type  - CSS|JS\n     * @param {string} path  - resource path\n     * @param {string} inctanceName - unique name of resource\n     * @return Promise\n     */\n    static loadResource(type, path, instanceName) {\n\n    /**\n     * Imported resource ID prefix\n     * @type {String}\n     */\n        const resourcePrefix = 'cdx-resourse';\n\n        return new Promise(function (resolve, reject) {\n\n            if (!type || !['JS', 'CSS'].includes(type)) {\n\n                reject(`Unexpected resource type passed. «CSS» or «JS» expected, «${type}» passed`);\n\n            }\n\n            let node;\n\n            /** Script is already loaded */\n            if ( !instanceName ) {\n\n                reject('Instance name is missed');\n\n            } else if ( document.getElementById(`${resourcePrefix}-${type.toLowerCase()}-${instanceName}`) ) {\n\n                resolve(path);\n\n            }\n\n            if (type === 'JS') {\n\n                node = document.createElement('script');\n                node.async = true;\n                node.defer = true;\n                node.charset = 'utf-8';\n\n            } else {\n\n                node = document.createElement('link');\n                node.rel = 'stylesheet';\n\n            }\n\n            node.id = `${resourcePrefix}-${type.toLowerCase()}-${instanceName}`;\n\n            let timerLabel = `Resource loading ${type} ${instanceName}`;\n\n            console.time(timerLabel);\n\n            node.onload = function () {\n\n                console.timeEnd(timerLabel);\n                resolve(path);\n\n            };\n\n            node.onerror = function () {\n\n                console.timeEnd(timerLabel);\n                reject(path);\n\n            };\n\n            if (type === 'JS') {\n\n                node.src = path;\n\n            } else {\n\n                node.href = path;\n\n            }\n\n            document.head.appendChild(node);\n\n        });\n\n    }\n\n}\n","module.exports = function (settings) {\n\n    var defaultHandlers = {\n        findDraggable: function (e) {\n\n            return e.target.closest('.'+draggableClass);\n\n        },\n\n        findDroppable: function (e) {\n\n            return document.elementFromPoint(e.clientX, e.clientY).closest('.'+droppableClass);\n\n        },\n\n        /**\n         * The simplest makeAvatar method.\n         *\n         * Just set elem to avatar.elem. And remembers element position in document.\n         * If drop isn`t success, returns elem to start position.\n         */\n        makeAvatar: function (elem) {\n\n            var avatar = {};\n\n            var avatarRollback = function () {\n\n                avatar.elem.classList.remove('dnd-default-avatar');\n\n                if (avatar.nextSibling)\n                    avatar.parentNode.insertBefore(avatar.elem, avatar.nextSibling);\n                else\n                    avatar.parentNode.appendChild(avatar.elem);\n\n                delete(dragObj.avatar);\n\n            };\n\n            avatar = {\n                elem: elem,\n                parentNode: elem.parentNode,\n                nextSibling: elem.nextElementSibling,\n                rollback: avatarRollback\n            };\n\n            // Set avatar position: absolute; for drag'n'drop\n            avatar.elem.classList.add('dnd-default-avatar');\n\n            return avatar;\n\n        },\n\n        /**\n         * Highlights droppable elements under cursor with border\n         */\n        targetChanged: function (target, newTarget) {\n\n            if (target) target.classList('dnd-default-target-highlight');\n\n            if (newTarget) newTarget.classList.add('dnd-default-target-highlight');\n\n        },\n\n        move: function (e, avatar, shift) {\n\n            avatar.elem.style.left = e.pageX - shift.x + 'px';\n            avatar.elem.style.top = e.pageY - shift.y + 'px';\n\n        },\n\n        /**\n         * Inserts elem into document if drop is success\n         */\n        targetReached: function (target, avatar, elem) {\n\n            target.classList.remove('dnd-default-target-highlight');\n            target.parentNode.insertBefore(elem, target.nextElementSibling);\n            avatar.elem.classList.remove('dnd-default-avatar');\n\n        }\n    };\n\n    var draggableClass  = settings.draggableClass   || 'draggable',\n        droppableClass   = settings.droppableClass    || 'droppable',\n        findDraggable   = settings.findDraggable    || defaultHandlers.findDraggable,\n        findDroppable    = settings.findDroppable     || defaultHandlers.findDroppable,\n        makeAvatar      = settings.makeAvatar       || defaultHandlers.makeAvatar,\n        targetChanged   = settings.targetChanged    || defaultHandlers.targetChanged,\n        move            = settings.move             || defaultHandlers.move,\n        targetReached   = settings.targetReached    || defaultHandlers.targetReached;\n\n    var dragObj = {};\n\n    var onMouseDown = function (e) {\n\n        /**\n         * Check mouse (which=1 - right mouse button) or touch (which=0 - touch) event.\n         */\n        if (e.which > 1) return;\n\n        e = touchSupported(e);\n\n        dragObj.clickedAt = {\n            x: e.pageX,\n            y: e.pageY\n        };\n\n        dragObj.elem = findDraggable(e);\n\n        if (!dragObj.elem) return;\n\n        toggleSelection();\n\n        var coords = getCoords(dragObj.elem);\n\n        dragObj.shift = {\n            x: e.pageX - coords.x,\n            y: e.pageY - coords.y\n        };\n\n    };\n\n    var onMouseMove = function (e) {\n\n        if (!dragObj.elem) return;\n\n        // Prevent touchmove scroll\n        e.preventDefault();\n\n        e = touchSupported(e);\n\n        // Check mouse offset. If x or y offset <5, assume that it`s accidental move\n        if (Math.abs(e.pageX - dragObj.clickedAt.x) < 5 && Math.abs(e.pageY - dragObj.clickedAt.y) < 5) return;\n\n        if (!dragObj.avatar) {\n\n            dragObj.avatar = makeAvatar(dragObj.elem);\n\n        }\n\n        var newTarget = findDroppable(e);\n\n        if (newTarget != dragObj.target) {\n\n            targetChanged(dragObj.target, newTarget, dragObj.avatar);\n\n            dragObj.target = newTarget;\n\n        }\n\n\n        move(e, dragObj.avatar, dragObj.shift);\n\n    };\n\n    var onMouseUp = function (e) {\n\n        if (e.which > 1) return;\n\n        if (!dragObj.avatar) {\n\n            dragObj = {};\n            return;\n\n        }\n\n        e = touchSupported(e);\n\n        var target = findDroppable(e);\n\n        if (target)\n            targetReached(target, dragObj.avatar, dragObj.elem, e);\n        else\n            dragObj.avatar.rollback();\n\n        dragObj = {};\n\n        toggleSelection();\n\n    };\n\n    var getCoords = function (elem) {\n\n        var rect = elem.getBoundingClientRect();\n\n        return {\n            x: rect.left + window.pageXOffset,\n            y: rect.top + window.pageYOffset\n        };\n\n    };\n\n    var touchSupported = function (e) {\n\n        if (e.changedTouches)\n            var touch = e.changedTouches[0];\n\n        else\n            return e;\n\n        e.pageX = touch.pageX;\n        e.pageY = touch.pageY;\n\n        e.clientX = touch.clientX;\n        e.clientY = touch.clientY;\n\n        e.screenX = touch.screenX;\n        e.screenY = touch.screenY;\n\n        e.target = touch.target;\n\n        return e;\n\n    };\n\n    var toggleSelection = function () {\n\n        document.body.classList.toggle('no-selection');\n\n    };\n\n\n    document.addEventListener('mousedown', onMouseDown);\n    document.addEventListener('touchstart', onMouseDown);\n\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('touchmove', onMouseMove);\n\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('touchend', onMouseUp);\n\n    document.ondragstart = function () {\n\n        return false;\n\n    };\n\n};\n","module.exports = (function (helpers) {\n\n    helpers.setCookie = function (name, value, expires, path, domain) {\n\n        var str = name + '='+value;\n\n        if (expires) str += '; expires=' + expires.toGMTString();\n        if (path)    str += '; path=' + path;\n        if (domain)  str += '; domain=' + domain;\n        document.cookie = str;\n\n    };\n\n    helpers.getCookie = function (name) {\n\n        var dc = document.cookie;\n\n        var prefix = name + '=';\n        var begin = dc.indexOf('; ' + prefix);\n\n        if (begin == -1) {\n\n            begin = dc.indexOf(prefix);\n            if (begin !== 0) return null;\n\n        } else\n            begin += 2;\n\n        var end = document.cookie.indexOf(';', begin);\n\n        if (end == -1) end = dc.length;\n\n        return unescape(dc.substring(begin + prefix.length, end));\n\n    };\n\n    helpers.getOffset = function ( el ) {\n\n        var _x = 0;\n        var _y = 0;\n\n        while( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {\n\n            _x += (el.offsetLeft + el.clientLeft);\n            _y += (el.offsetTop + el.clientTop);\n            el = el.offsetParent;\n\n        }\n        return { top: _y, left: _x };\n\n    };\n\n    return helpers;\n\n})({});","/**\n * Module for /join page\n * Blocks writing without authorization\n *\n * Toggles into view blankAdditionalFields: Name and Surname, Email\n */\nvar join = function () {\n\n    const animationClass = 'wobble';\n\n    /**\n    * Module initialization\n    */\n    var init = function () {\n\n        var joinBlank = document.getElementById('joinBlank');\n\n        if ( typeof joinBlank != 'undefined' && joinBlank !== null ) {\n\n            var joinBlankTextareas = joinBlank.getElementsByTagName('textarea');\n\n            if (joinBlankTextareas.length) {\n\n                for (var i = joinBlankTextareas.length - 1; i >= 0; i--) {\n\n                    joinBlankTextareas[i].addEventListener('keyup', checkUserCanEdit, false);\n\n                }\n\n            }\n\n        }\n\n        var blankShowAdditionalFieldsButton = document.getElementById('blankShowAdditionalFieldsButton');\n\n        if ( typeof blankShowAdditionalFieldsButton != 'undefined' && blankShowAdditionalFieldsButton !== null ) {\n\n            blankShowAdditionalFieldsButton.addEventListener('click', showAdditionalFields, false);\n\n        }\n\n    };\n\n    /**\n     * Adds wobble-effect to Auth block if user starts typing into textarea unauthorized\n     * @param {Event} event\n     */\n    let checkUserCanEdit = function (event) {\n\n        var textarea       = event.target,\n            blankAuthBlock = document.getElementById('js-join-auth'),\n            emailInput     = document.getElementById('js-email');\n\n        if (blankAuthBlock && !emailInput.value.length ) {\n\n            blankAuthBlock.classList.add(animationClass);\n\n            window.setTimeout(() => blankAuthBlock.classList.remove(animationClass), 450);\n\n            textarea.value = '';\n\n        }\n\n    };\n\n    /**\n     * Toggles into view blankAdditionalFields: Name and Surname, Email\n     * @param {Event} event\n     */\n    var showAdditionalFields = function () {\n\n        var blankAdditionalFields = document.getElementById('blankAdditionalFields');\n\n        blankAdditionalFields.classList.toggle('hide');\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = join;\n","/**\n * DOM manipulation methods\n */\nimport $ from './dom';\n\n/**\n * @class  Player\n * @classdesc Simple player on the overlay container\n *\n * @typedef {Player}\n * @property {String} sourceURL - video URL\n * @property {Element} toggler  - Play Button\n * @property {Element} wrapper  - In wich Element player should be added\n * @property {Element} overlay  - Player main container\n * @property {Object} CSS       - CSS dictionary\n *\n */\nexport default class Player {\n\n    /**\n     * @constructor\n     * @param  {String} options.sourceURL        - video URL\n     * @param  {Element} options.toggler         - play button\n     * @param  {String} options.wrapperSelector  - xpath selector for the player holder\n     */\n    constructor({sourceURL, toggler, wrapperSelector}) {\n\n        this.sourceURL = sourceURL;\n        this.toggler = toggler;\n        this.wrapper = document.querySelector(wrapperSelector);\n        this.overlay = null;\n\n        this.CSS = {\n            overlay: 'video-overlay',\n            overlayShowed: 'video-overlay--showed',\n            overlayLoaded: 'video-overlay--loaded',\n            closeButton: 'video-overlay__close'\n        };\n\n        /**\n         * Add Play Button click listener\n         */\n        this.toggler.addEventListener('click', () => {\n\n            this.showVideoOverlay();\n\n        }, false);\n\n    }\n\n    /**\n     * Creates player container and append it to the parent element\n     */\n    showVideoOverlay() {\n\n        this.overlay = $.make('div', this.CSS.overlay);\n\n        let video = $.make('video', null, {\n                autoplay: true,\n                loop: true\n            }),\n            source = $.make('source', null, {\n                src: this.sourceURL,\n                type: 'video/mp4'\n            }),\n            closeButton = $.make('div', this.CSS.closeButton);\n\n        /**\n         * Append <video>\n         */\n        video.appendChild(source);\n        this.overlay.appendChild(video);\n\n        /**\n         * Bind loading callback\n         */\n        video.addEventListener('loadeddata', () => {\n\n            this.videoLoaded();\n\n        });\n\n        /**\n         * Activate close button\n         */\n        this.overlay.appendChild(closeButton);\n        closeButton.addEventListener('click', () => {\n\n            this.close();\n\n        });\n\n        /**\n         * Add overlay to the wrapper\n         */\n        this.wrapper.appendChild(this.overlay);\n        window.setTimeout(() => {\n\n            this.overlay.classList.add(this.CSS.overlayShowed);\n\n        }, 50);\n\n    }\n\n    /**\n     * Video loaded callback\n     * Shows player\n     */\n    videoLoaded() {\n\n        this.wrapper.classList.add(this.CSS.overlayLoaded);\n\n    }\n\n    /**\n     * Removes overlay with video\n     */\n    close() {\n\n        this.overlay.remove();\n        this.overlay = null;\n\n    }\n\n}\n","\nvar polyfills = function () {\n\n    /**\n     * Polyfilling ECMAScript 6 method String.includes\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes#Browser_compatibility\n     */\n    if ( !String.prototype.includes ) {\n\n        String.prototype.includes = function () {\n\n            'use strict';\n\n            return String.prototype.indexOf.apply(this, arguments) !== -1;\n\n        };\n\n    }\n\n\n    /**\n     * Polyfill for Element.prototype.matches method\n     */\n    if (!Element.prototype.matches) {\n\n        Element.prototype.matches = Element.prototype.matchesSelector ||\n                                        Element.prototype.webkitMatchesSelector ||\n                                        Element.prototype.mozMatchesSelector ||\n                                        Element.prototype.msMatchesSelector;\n\n    }\n\n    /**\n     * Polyfill for Element.prototype.closest method\n     */\n    if (!Element.prototype.closest) {\n\n        Element.prototype.closest = function (selector) {\n\n            var node = this;\n\n            while (node) {\n\n                if (node.matches(selector)) return node;\n                node = node.parentElement;\n\n            }\n\n            return null;\n\n        };\n\n    };\n\n}({});\n\nmodule.exports = polyfills;\n","/**\n * Profile page methods\n */\nmodule.exports = function () {\n\n    /**\n\t   * Photo uploading success-callback\n\t   * Fired by transport\n\t   * @param  {string} newPhotoURL - uploaded file URL\n\t   */\n    var uploadPhotoSuccess = function (newPhotoURL) {\n\n        var settingsPhoto = document.getElementById('profile-photo-updatable'),\n            headerPhoto   = document.getElementById('header-avatar-updatable');\n\n        settingsPhoto.src = newPhotoURL;\n        headerPhoto.src   = newPhotoURL;\n\n    };\n\n    return {\n        uploadPhotoSuccess,\n    };\n\n}();\n","/**\n * Модуль quiz с единственным публичным методом quiz.init()\n */\nmodule.exports = (function () {\n\n    var quizData            = null,\n        numberOfQuestions   = null,\n        currentQuestion     = null,\n        score               = null,\n        maxScore            = null;\n\n\n    /**\n     * Публичный метод init.\n     *\n     * @param {object} quizDataInput  - объект с информацией о тесте\n     * @param {string} holder - id элемента, в который будет выводиться тест\n     */\n    var init = function (quizDataInput, holder) {\n\n        quizData = quizDataInput;\n        numberOfQuestions = quizData.questions.length;\n        currentQuestion = 0;\n        score = 0;\n\n        gameProcessing_.prepare();\n        UI_.prepare(holder);\n        UI_.setupQuestionInterface();\n\n    };\n\n    var UI_ = {\n\n        holder: null,\n        currentQuestionObj: null,\n\n        // Объект, в котором будут храниться DOM-элементы, связанные с отображением вопроса\n        questionElems: null,\n\n        prepare: function (holder) {\n\n            UI_.holder = document.getElementById(holder);\n            UI_.holder.classList.add('quiz');\n            UI_.holder.classList.add('clearfix');\n\n        },\n\n        /**\n         * Создаем элементы для вывода теста, заносим их в UI_.questionElems и выводим на страницу.\n         */\n        setupQuestionInterface: function () {\n\n            UI_.clear();\n\n            var title,\n                optionsHolder,\n                counter,\n                nextButton;\n\n            title = UI_.createElem('div', 'quiz__question-title');\n\n            optionsHolder = UI_.createElem('div', 'quiz__question-options');\n\n            counter = UI_.createElem('div', 'quiz__question-counter');\n\n            nextButton = UI_.createElem('input', ['quiz__question-button', 'quiz__question-button_next']);\n\n            nextButton.setAttribute('type', 'button');\n            nextButton.setAttribute('value', 'Далее →');\n\n            UI_.questionElems = {\n                counter: counter,\n                title: title,\n                optionsHolder: optionsHolder,\n                options: [],\n                nextButton: nextButton\n            };\n\n            UI_.append(UI_.questionElems);\n\n            UI_.showQuestion();\n\n        },\n\n        /**\n         * Выводим текущий вопрос на страницу (вопрос, варианты ответа и счетчик)\n         */\n        showQuestion: function () {\n\n            UI_.clear(UI_.questionElems.optionsHolder);\n            UI_.questionElems.options = [];\n            UI_.questionElems.nextButton.removeEventListener('click', UI_.showQuestion);\n            UI_.currentQuestionObj = quizData.questions[currentQuestion];\n\n            UI_.questionElems.nextButton.setAttribute('disabled', true);\n\n            UI_.questionElems.title.textContent = UI_.currentQuestionObj.title;\n            UI_.questionElems.counter.textContent = currentQuestion + 1 + '/' + numberOfQuestions;\n\n            UI_.currentQuestionObj.answers.map(UI_.createOption);\n\n        },\n\n        answerSelected: function (answer) {\n\n            answer.classList.add('quiz__question-answer_selected');\n\n            UI_.questionElems.options.map(function (current) {\n\n                current.removeEventListener('click', gameProcessing_.getUserAnswer);\n\n            });\n\n            UI_.questionElems.nextButton.disabled = false;\n\n            if (currentQuestion < numberOfQuestions  - 1) {\n\n                UI_.questionElems.nextButton.addEventListener('click', UI_.showQuestion);\n\n            } else {\n\n                UI_.questionElems.nextButton.addEventListener('click', UI_.showResult);\n\n            }\n\n            UI_.showAnswer(answer);\n\n            currentQuestion++;\n\n        },\n        /**\n         * Добавляем стили и выводим сообщение для выбранного варианта ответа\n         * Открываем доступ к следующему вопросу\n         *\n         * @param {Element} answer - DOM-элемент выбранного ответа\n         */\n        showAnswer: function (answer) {\n\n            var answerStyle = answer.dataset.score > 0 ? '_right' :  '_wrong',\n                answerIndex = answer.dataset.index;\n\n            answer.classList.add('quiz__question-answer' + answerStyle);\n\n            var answerMessage = UI_.createElem('div', 'quiz__answer-message');\n\n            answerMessage.textContent = UI_.currentQuestionObj.answers[answerIndex].message;\n\n            UI_.insertAfter(answerMessage, answer);\n\n            if (answer.dataset.score == 0) {\n\n                UI_.showCorrectAnswers();\n\n            }\n\n        },\n\n        showCorrectAnswers: function () {\n\n            UI_.questionElems.options.map(function (answer) {\n\n                if (answer.dataset.score > 0) {\n\n                    answer.classList.add('quiz__question-answer_right');\n\n                } else {\n\n                    answer.classList.add('quiz__question-answer_wrong');\n\n                }\n\n            });\n\n        },\n\n        showResult: function () {\n\n            var result =  score + '/' + maxScore;\n\n            UI_.questionElems.nextButton.removeEventListener('click', UI_.showResult);\n\n            UI_.clear();\n\n            var resultScore = UI_.createElem('div', 'quiz__result-score');\n\n            resultScore.textContent = result;\n\n            var resultMessage = UI_.createElem('div', 'quiz__result-message');\n\n            resultMessage.textContent = gameProcessing_.getMessage();\n\n            var social = UI_.createElem('div', 'quiz__sharing');\n\n            UI_.createSocial(social, result);\n\n            var retry = UI_.createElem('div', 'quiz__retry-button');\n\n            retry.textContent = 'Пройти еще раз';\n            retry.addEventListener('click', init.bind(null, quizData, UI_.holder.id));\n\n            UI_.append([resultScore, resultMessage, social, retry]);\n\n            codex.sharer.init();\n\n        },\n\n        /**\n         * Создаем кнопки социальных сетей и добавляем их в holder\n         *\n         * @param {Element} holder\n         */\n        createSocial: function (holder, result) {\n\n            var networks = [\n                {\n                    title: 'Share on the VK',\n                    shareType: 'vkontakte',\n                    class: 'vk',\n                    icon: 'icon-vkontakte'\n                },\n                {\n                    title: 'Share on the Facebook',\n                    shareType: 'facebook',\n                    class: 'fb',\n                    icon: 'icon-facebook-squared'\n                },\n                {\n                    title: 'Tweet',\n                    shareType: 'twitter',\n                    class: 'tw',\n                    icon: 'icon-twitter'\n                },\n                {\n                    title: 'Forward in Telegramm',\n                    shareType: 'telegram',\n                    class: 'tg',\n                    icon: 'icon-paper-plane'\n                }\n            ];\n\n            networks.map(function (current) {\n\n                var button = UI_.createElem('span', ['but', current.class]),\n                    icon   = UI_.createElem('i', current.icon),\n                    shareMessage = null;\n\n                button.dataset.shareType = current.shareType;\n                button.setAttribute('title', current.title);\n\n                if (quizData.shareMessage) {\n\n                    shareMessage =  quizData.shareMessage.replace('$score', result);\n\n                }\n\n                shareMessage = shareMessage || 'Я набрал ' + result + ' в ' + (quizData.title || 'тесте от команды CodeX');\n\n                button.dataset.url      = window.location.href;\n                button.dataset.title    = shareMessage;\n                button.dataset.desc     = quizData.description || '';\n\n                UI_.append(icon, button);\n                UI_.append(button, holder);\n\n            });\n\n        },\n\n        /**\n         * Создаем i-й вариант ответа и выводим в UI_.questionElems.optionsHolder\n         * И добавляем в UI_.questionElems.options\n         *\n         * @param {Object} answer - объект варианта ответа\n         * @param {int} i - его номер в вопросе\n         */\n        createOption: function (answer, i) {\n\n            var answerObj = UI_.createElem('div', 'quiz__question-answer');\n\n            answerObj.dataset.score = answer.score;\n            answerObj.dataset.index = i;\n            answerObj.textContent = answer.text;\n\n            // Вешаем слушатель на вариант ответа\n            answerObj.addEventListener('click', gameProcessing_.getUserAnswer);\n\n            UI_.questionElems.options.push(answerObj);\n\n            UI_.append(answerObj, UI_.questionElems.optionsHolder);\n\n        },\n\n        /**\n         * Создает новый DOM-элемент с набором переданных классов\n         *\n         * @param {string} tag - имя тега\n         * @param {string|Array} classes - имя или массив имен классов\n         * @returns {Element}\n         */\n        createElem: function (tag, classes) {\n\n            var elem = document.createElement(tag);\n\n            if (!classes) {\n\n                return elem;\n\n            }\n\n            if (classes instanceof Array) {\n\n                for (var i in classes) {\n\n                    elem.classList.add(classes[i]);\n\n                }\n\n            } else {\n\n                elem.classList.add(classes);\n\n            }\n\n            return elem;\n\n        },\n\n        /**\n         * Добавляет элементы в переданный элемент\n         *\n         * @param {Element|Array} elems - элемент или массив элементов\n         * @param {Element|null} parent - родитель или UI_.holder, если передан NULL\n         */\n        append: function (elems, parent) {\n\n            parent = parent || UI_.holder;\n\n            if (!(elems instanceof Element)) {\n\n                for (var i in elems) {\n\n                    if (elems[i] instanceof Element) {\n\n                        parent.appendChild(elems[i]);\n\n                    }\n\n                }\n\n            } else {\n\n                parent.appendChild(elems);\n\n            }\n\n        },\n\n\n        /**\n         * Вставляет элемент после переданного элемента\n         *\n         * @param {Element} elem\n         * @param {Element} elemBefore\n         */\n        insertAfter: function (elem, elemBefore) {\n\n            if (elemBefore.nextSibling) {\n\n                UI_.questionElems.optionsHolder.insertBefore(elem, elemBefore.nextSibling);\n\n            } else {\n\n                UI_.append(elem, elemBefore.parentNode);\n\n            }\n\n        },\n\n        /**\n         * Удалаяет все дочерние элементы элемента parent\n         *\n         * @param {Element} parent\n         */\n        clear: function (parent) {\n\n            parent = parent || UI_.holder;\n\n            while (parent.firstChild) {\n\n                parent.removeChild(parent.firstChild);\n\n            }\n\n        }\n\n    };\n\n    var gameProcessing_ = {\n\n        prepare: function () {\n\n            maxScore = 0;\n\n            quizData.questions.map(function (question) {\n\n                question.answers.map(function (answer) {\n\n                    maxScore += parseFloat(answer.score);\n\n                });\n\n            });\n\n        },\n\n        /**\n         * Добавляет баллы за ответ\n         *\n         * @param {Object} e - объект события клика по варианту ответа\n         */\n        getUserAnswer: function (e) {\n\n            var answer = e.currentTarget;\n\n            score += parseFloat(answer.dataset.score);\n\n            UI_.answerSelected(answer);\n\n        },\n\n        /**\n         * Получает сообщение о результате для набранного количества баллов\n         *\n         * @returns {string} message\n         */\n        getMessage: function () {\n\n            var messages = quizData.resultMessages,\n                message;\n\n            messages.sort(function (a, b) {\n\n                return a['score'] - b['score'];\n\n            });\n\n            if (!messages.length) {\n\n                return;\n\n            }\n\n            for (var i in messages) {\n\n                if (score < messages[i]['score']) {\n\n                    break;\n\n                }\n\n                message = messages[i]['message'];\n\n            }\n\n            return message;\n\n        }\n\n    };\n\n    return {\n        init: init\n    };\n\n})();\n","/**\n* Quiz form client handler\n* Author: @ndawn\n* Date: 09/12/16\n*/\n\nmodule.exports = (function (quiz) {\n\n    /**\n    * Quiz form\n    * @var {null} quiz.form - form DOM element\n    */\n    quiz.form = null;\n\n\n    /**\n    * Nodes list\n    * @var {object} quiz.nodes - dict of DOM elements of questions and result messages\n    */\n    quiz.nodes = {\n        'title': null,\n        'description': null,\n        'questions': [],\n        'resultMessages': [],\n        'shareMessage': null\n    };\n\n\n    /**\n    * Question insert button and anchor for new questions\n    * @var {Element} quiz.questionInsertAnchor - DOM element of question insert anchor\n    * @var {Element} quiz.questionInsertButton - DOM element of question insert button\n    */\n    quiz.questionInsertAnchor = null;\n    quiz.questionInsertButton = null;\n\n\n    /**\n    * Result message insert button and anchor for new resultMessages\n    * @var {Element} quiz.resultMessageInsertAnchor - DOM element of result message insert anchor\n    * @var {Element} quiz.resultMessageInsertButton - DOM element of result message insert button\n    */\n    quiz.resultMessageInsertAnchor = null;\n    quiz.resultMessageInsertButton = null;\n\n\n    /**\n    * Result messages holder element\n    * @var {Element} quiz.resultMessagesHolder - DOM element of result messages holder\n    */\n    quiz.resultMessagesHolder = null;\n\n\n    /**\n    * @private\n    * DOM element creating function\n    * Creates a DOM element with given attributes\n    * @param {string} tag - HTML tag of the element\n    * @param {object} attributes - dictionary with attributes to be added to the element\n    */\n    var newDOMElement_ = function (tag, attributes, text) {\n\n        text = text || '';\n        var element = document.createElement(tag);\n        var textNode = document.createTextNode(text);\n\n        element.appendChild(textNode);\n\n        for (var attr in attributes) {\n\n            var attrNode = document.createAttribute(attr);\n\n            attrNode.value = attributes[attr];\n            element.setAttributeNode(attrNode);\n\n        }\n\n        return element;\n\n    };\n\n\n    /**\n    * @private\n    * Answer block creating function\n    * Creates a couple of DOM elements and appends them to question answers list\n    * @param {number} questionIndex - index of question which answer to be appended to\n    */\n    var appendAnswerBlock_ = function (questionIndex, answerData) {\n\n        var answer = {};\n        var question = quiz.nodes.questions[questionIndex];\n        var objectIndex = question.answers.length;\n\n        answerData = answerData || {};\n\n        answer.holder = newDOMElement_('tr', {\n            'class': 'quiz-form__question-answer-holder',\n            'data-question-index': questionIndex,\n            'data-object-index': objectIndex\n        });\n\n        answer.textColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-text-column'\n        });\n\n        answer.text = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-answer-text',\n            'value': answerData.text || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.scoreColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-score-column'\n        });\n\n        answer.score = newDOMElement_('input', {\n            'type': 'number',\n            'min': '0',\n            'step': '1',\n            'value': answerData.score || '0',\n            'class': 'quiz-form__question-answer-score',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.messageColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-message-column'\n        });\n\n        answer.message = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-answer-message',\n            'value': answerData.message || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.destroyButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-destroy-button-column'\n        });\n\n        answer.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-answer-destroy-button'\n        });\n\n        answer.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        answer.textColumn.appendChild(answer.text);\n        answer.scoreColumn.appendChild(answer.score);\n        answer.messageColumn.appendChild(answer.message);\n\n        answer.destroyButton.appendChild(answer.destroyButtonCross);\n\n        answer.destroyButtonColumn.appendChild(answer.destroyButton);\n\n        answer.holder.appendChild(answer.textColumn);\n        answer.holder.appendChild(answer.scoreColumn);\n        answer.holder.appendChild(answer.messageColumn);\n        answer.holder.appendChild(answer.destroyButtonColumn);\n\n        question.answers.push(answer);\n\n        insertDOMElement_(answer);\n\n        updateDestroyIcons_(question.answers);\n\n    };\n\n\n    /**\n    * @private\n    * Question element creating function\n    * Creates a question JS object with DOM elements in it and appends it to the questions list\n    */\n    var appendQuestionBlock_ = function (questionData) {\n\n        var question = {};\n        var objectIndex = quiz.nodes.questions.length;\n\n        questionData = questionData || {};\n\n        question.holder = newDOMElement_('div', {\n            'class': 'quiz-form__question-holder',\n            'data-object-index': objectIndex\n        });\n\n        question.number = newDOMElement_('label', {\n            'class': 'quiz-form__question-number'\n        }, 'Вопрос ' + (objectIndex + 1));\n\n        question.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-destroy-button'\n        });\n\n        question.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        question.titleLabel = newDOMElement_('label', {\n            'class': 'quiz-form__label quiz-form__question-title-label'\n        }, 'Заголовок вопроса');\n\n        question.title = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-title',\n            'value': questionData.title || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        question.answers = [];\n\n        question.answersHolder = newDOMElement_('table', {\n            'class': 'quiz-form__question-answers-holder'\n        });\n\n        question.answersHead = newDOMElement_('thead', {\n            'class': 'quiz-form__question-answers-head'\n        });\n\n        question.answersLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-answers-label'\n        }, 'Ответы');\n\n        question.scoresLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-scores-label'\n        }, 'Баллы');\n\n        question.messagesLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-messages-label'\n        }, 'Комментарии к ответам');\n\n        question.destroyButtonLabel = newDOMElement_('th', {\n            'class': 'quiz-form__question-destroy-buttons-label'\n        });\n\n        question.addAnswerButtonRow = newDOMElement_('tr', {\n            'class': 'quiz-form__question-add-answer-button-row'\n        });\n\n        question.addAnswerButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-add-answer-button-column'\n        });\n\n        question.addAnswerButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-add-answer-button'\n        }, 'Добавить ответ');\n\n        question.addAnswerButtonPlus = newDOMElement_('img', {\n            'class': 'quiz-form__button-plus',\n            'src': '/public/app/img/quizzes/plus.svg'\n        });\n\n        question.holder.appendChild(question.number);\n\n        question.destroyButton.appendChild(question.destroyButtonCross);\n\n        question.holder.appendChild(question.destroyButton);\n        question.holder.appendChild(question.titleLabel);\n        question.holder.appendChild(question.title);\n\n        question.answersHead.appendChild(question.answersLabel);\n        question.answersHead.appendChild(question.scoresLabel);\n        question.answersHead.appendChild(question.messagesLabel);\n        question.answersHead.appendChild(question.destroyButtonLabel);\n\n        question.answersHolder.appendChild(question.answersHead);\n\n        question.addAnswerButton.insertBefore(\n            question.addAnswerButtonPlus,\n            question.addAnswerButton.firstChild\n        );\n\n        question.addAnswerButtonColumn.appendChild(question.addAnswerButton);\n\n        question.addAnswerButtonRow.appendChild(question.addAnswerButtonColumn);\n\n        question.answersHolder.appendChild(question.addAnswerButtonRow);\n\n        question.holder.appendChild(question.answersHolder);\n\n        quiz.nodes.questions.push(question);\n\n        if (questionData.answers) {\n\n            questionData.answers.map(function (current) {\n\n                appendAnswerBlock_(objectIndex, current);\n\n            });\n\n        } else {\n\n            appendAnswerBlock_(objectIndex);\n            appendAnswerBlock_(objectIndex);\n            appendAnswerBlock_(objectIndex);\n\n        }\n\n        insertDOMElement_(question);\n\n        updateDestroyIcons_(quiz.nodes.questions);\n\n    };\n\n\n    /**\n    * @private\n    * Message block creating function\n    * Creates a result message DOM element and appends it to the result messages list\n    */\n    var appendResultMessageBlock_ = function (messageData) {\n\n        var message = {};\n        var objectIndex = quiz.nodes.resultMessages.length;\n\n        messageData = messageData || {};\n\n        message.holder = newDOMElement_('tr', {\n            'class': 'quiz-form__message-holder',\n            'data-object-index': objectIndex\n        });\n\n        message.messageColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-message-column'\n        });\n\n        message.message = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__message-message',\n            'value': messageData.message || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        message.scoreColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-score-column'\n        });\n\n        message.score = newDOMElement_('input', {\n            'type': 'number',\n            'min': '0',\n            'step': '1',\n            'value': messageData.score || '0',\n            'class': 'quiz-form__message-score',\n            'required': '',\n            'form': 'null'\n        });\n\n        message.destroyButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-destroy-button-column'\n        });\n\n        message.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__message-destroy-button'\n        });\n\n        message.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        message.messageColumn.appendChild(message.message);\n        message.scoreColumn.appendChild(message.score);\n\n        message.destroyButton.appendChild(message.destroyButtonCross);\n\n        message.destroyButtonColumn.appendChild(message.destroyButton);\n\n        message.holder.appendChild(message.messageColumn);\n        message.holder.appendChild(message.scoreColumn);\n        message.holder.appendChild(message.destroyButtonColumn);\n\n        quiz.nodes.resultMessages.push(message);\n\n        insertDOMElement_(message);\n\n        updateDestroyIcons_(quiz.nodes.resultMessages);\n\n    };\n\n\n    /**\n    * @private\n    * Object shifting function\n    * Sets numbers in the question with child elements to given index\n    * @param {object} obj - object in which numbers to be set\n    * @param {number} index - index to which child elements' attributes to be set\n    */\n    var setObjectNumber_ = function (obj, numberTo) {\n\n        obj.holder.dataset.objectIndex = numberTo - 1;\n\n        if (obj.number) {\n\n            obj.number.textContent = 'Вопрос ' + numberTo;\n\n        }\n\n    };\n\n\n    /**\n    * @private\n    * Updating destroy icons function\n    * Disables or enables destroy icon for the only element in container\n    * @param {object} container - object in which icon is to be disabled or enabled\n    */\n    var updateDestroyIcons_ = function (container) {\n\n        if (container.length <= 1) {\n\n            container[0].destroyButton.style.display = 'none';\n\n            if (container[0].firstChild) {\n\n                container[0].firstChild.style.display = 'none';\n\n            }\n\n        } else {\n\n            container[0].destroyButton.style.display = '';\n\n            if (container[0].firstChild) {\n\n                container[0].firstChild.style.display = '';\n\n            }\n\n        }\n\n    };\n\n\n    /**\n    * @private\n    * DOM element inserting function\n    * Inserts DOM element to DOM\n    * @param {object} obj - object in which DOM element to be inserted\n    */\n    var insertDOMElement_ = function (obj) {\n\n        var before;\n        var parent;\n\n        if (obj.answers) {\n\n            before = quiz.questionInsertAnchor;\n            parent = quiz.form;\n\n        } else if (obj.text) {\n\n            before = quiz.nodes.questions[parseInt(obj.holder.dataset.questionIndex)].addAnswerButtonRow;\n            parent = quiz.nodes.questions[parseInt(obj.holder.dataset.questionIndex)].answersHolder;\n\n        } else {\n\n            before = quiz.resultMessageInsertAnchor;\n            parent = quiz.resultMessagesHolder;\n\n        }\n\n        parent.insertBefore(obj.holder, before);\n\n    };\n\n\n    /**\n    * @private\n    * Element object destroying function\n    * Removes the DOM element of object from DOM and destroys object itself\n    * @param {object} container - list where object is to be destroyed\n    * @param {number} elementIndex - index of object in list\n    */\n    var destroyObject_ = function (container, elementIndex) {\n\n        container[elementIndex].holder.parentNode.removeChild(container[elementIndex].holder);\n\n        container.splice(elementIndex, 1);\n        for (var i = elementIndex; i < container.length; i++) {\n\n            setObjectNumber_(container[i], i + 1);\n\n        }\n\n        updateDestroyIcons_(container);\n\n    };\n\n\n    /**\n    * @private\n    * Event listeners setting function\n    * Set event listeners for insert and destroy buttons and form submission\n    */\n    var setEventListeners_ = function () {\n\n        quiz.form.onsubmit = function (event) {\n\n            event.preventDefault();\n\n            var json = {\n                'title': quiz.form.querySelector('[name=\"title\"]').value,\n                'description': quiz.form.querySelector('[name=\"description\"]').value,\n                'questions': [],\n                'resultMessages': [],\n                'shareMessage': quiz.form.querySelector('[name=\"shareMessage\"]').value\n            };\n\n            for (var i in quiz.nodes.questions) {\n\n                var jsonQuestion = {};\n\n                jsonQuestion.title = quiz.nodes.questions[i].title.value;\n                jsonQuestion.answers = [];\n\n                for (var j in quiz.nodes.questions[i].answers) {\n\n                    var jsonAnswer = {};\n\n                    jsonAnswer.text = quiz.nodes.questions[i].answers[j].text.value;\n                    jsonAnswer.score = quiz.nodes.questions[i].answers[j].score.value;\n                    jsonAnswer.message = quiz.nodes.questions[i].answers[j].message.value;\n\n                    jsonQuestion.answers.push(jsonAnswer);\n\n                }\n\n                json.questions.push(jsonQuestion);\n\n            }\n\n            for (var i in quiz.nodes.resultMessages) {\n\n                var jsonMessage = {};\n\n                jsonMessage.score = quiz.nodes.resultMessages[i].score.value;\n                jsonMessage.message = quiz.nodes.resultMessages[i].message.value;\n\n                json.resultMessages.push(jsonMessage);\n\n            };\n\n            quiz.form.appendChild(newDOMElement_('input', {\n                'type': 'hidden',\n                'name': 'quiz_data',\n                'value': JSON.stringify(json)\n            }));\n\n            quiz.form.submit();\n\n        };\n\n        quiz.questionInsertButton.onclick = function () {\n\n            appendQuestionBlock_();\n\n        };\n\n        quiz.resultMessageInsertButton.onclick = function () {\n\n            appendResultMessageBlock_();\n\n        };\n\n\n        quiz.form.onclick = function (event) {\n\n            var container;\n            var elementIndex;\n\n            if (event.target.classList.contains('quiz-form__question-destroy-button')) {\n\n                container = quiz.nodes.questions;\n                elementIndex = parseInt(event.target.parentNode.dataset.objectIndex);\n\n            } else if (event.target.parentNode.classList.contains('quiz-form__question-destroy-button')) {\n\n                container = quiz.nodes.questions;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__question-answer-destroy-button')) {\n\n                container = quiz.nodes.questions[\n                    parseInt(event.target.parentNode.parentNode.dataset.questionIndex)\n                ].answers;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.parentNode.classList.contains('quiz-form__question-answer-destroy-button')) {\n\n                container = quiz.nodes.questions[\n                    parseInt(event.target.parentNode.parentNode.parentNode.dataset.questionIndex)\n                ].answers;\n                elementIndex = parseInt(event.target.parentNode.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__message-destroy-button')) {\n\n                container = quiz.nodes.resultMessages;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__question-add-answer-button')) {\n\n                container = null;\n                elementIndex = parseInt(event.target.parentNode.parentNode.parentNode.parentNode.dataset.objectIndex);\n\n            }\n\n            if (container === null) {\n\n                appendAnswerBlock_(elementIndex);\n\n            } else if (container !== undefined) {\n\n                destroyObject_(container, elementIndex);\n\n            }\n\n        };\n\n    };\n\n\n    /**\n    * @private\n    * First result message adding function\n    * Inserts result message with number 1 to the form\n    */\n    var addInitialResultMessage_ = function () {\n\n        appendResultMessageBlock_();\n\n    };\n\n\n    /**\n    * @private\n    * First question adding function\n    * Inserts question with number 1 to the form\n    */\n    var addInitialQuestion_ = function () {\n\n        appendQuestionBlock_();\n\n    };\n\n\n    /**\n    * @private\n    * Initial form parameters setting adding function\n    * Sets form variable and insert buttons\n    */\n    var setInitialFormParams_ = function () {\n\n        quiz.form = document.forms.quizForm;\n        quiz.questionInsertAnchor = document.getElementById('questionInsertAnchor');\n        quiz.questionInsertButton = document.getElementById('questionInsertButton');\n        quiz.resultMessageInsertAnchor = document.getElementById('resultMessageInsertAnchor');\n        quiz.resultMessageInsertButton = document.getElementById('resultMessageInsertButton');\n        quiz.resultMessagesHolder = document.getElementById('resultMessagesHolder');\n\n    };\n\n\n    /**\n    * @private\n    * Initial destroy icons updating function\n    * Updates initially placed destroy icons\n    */\n    var updateInitialDestroyIcons_ = function () {\n\n        updateDestroyIcons_(quiz.nodes.questions);\n        updateDestroyIcons_(quiz.nodes.resultMessages);\n        updateDestroyIcons_(quiz.nodes.questions[0].answers);\n\n    };\n\n\n    var render = function (quizData) {\n\n        var questions = quizData.questions,\n            resultMessages = quizData.resultMessages;\n\n        document.querySelector('[name=\"title\"]').value = quizData.title;\n        document.querySelector('textarea[name=\"description\"]').textContent = quizData.description;\n        document.querySelector('[name=\"shareMessage\"]').value = quizData.shareMessage;\n\n        setInitialFormParams_();\n\n        resultMessages.map(function (current) {\n\n            appendResultMessageBlock_(current);\n\n        });\n\n        questions.map(function (current) {\n\n            appendQuestionBlock_(current);\n\n        });\n\n        setEventListeners_();\n\n        updateInitialDestroyIcons_();\n\n    };\n\n\n    /**\n     * @public\n     * Initialization function\n     * Initializes quiz form: inserts initial DOM elements, sets initial event listeners, etc\n     */\n    quiz.init = function (quizData) {\n\n        if (quizData) {\n\n            render(quizData);\n            return;\n\n        }\n\n        setInitialFormParams_();\n        addInitialQuestion_();\n        addInitialResultMessage_();\n        setEventListeners_();\n        updateInitialDestroyIcons_();\n\n    };\n\n    return quiz;\n\n})({});\n","/**\n* Module for scroll-up button\n*/\nmodule.exports = function () {\n\n    /**\n    * Page scroll offset to show scroll-up button\n    */\n    var SCROLL_UP_OFFSET = 100,\n        button = null;\n\n    var scrollPage = function () {\n\n        window.scrollTo(0, 0);\n\n    };\n\n    var windowScrollHandler = function () {\n\n        if (window.pageYOffset > SCROLL_UP_OFFSET) {\n\n            button.classList.add('show');\n\n        } else {\n\n            button.classList.remove('show');\n\n        }\n\n    };\n\n    /**\n    * Init method\n    * Fired after document is ready\n    */\n\n    var init = function () {\n\n        /** Find scroll-up button */\n        button = document.createElement('DIV');\n\n        button.classList.add('scroll-up');\n        document.body.appendChild(button);\n\n        /** Bind click event on scroll-up button */\n        button.addEventListener('click', scrollPage);\n\n        /** Global window scroll handler */\n        window.addEventListener('scroll', windowScrollHandler);\n\n    };\n\n    return {\n        init : init\n    };\n\n\n}();\n","/**\n * Module for social sharing\n */\nmodule.exports = (function ( sharer ) {\n\n    /**\n     * @param  {Object} data - Info about item we want to share\n     */\n    sharer.vkontakte = function (data) {\n\n        var link  = 'https://vk.com/share.php?';\n\n        link += 'url='          + data.url;\n        link += '&title='       + data.title;\n        link += '&description=' + data.desc;\n        link += '&image='       + data.img;\n        link += '&noparse=true';\n\n        sharer.popup( link, 'vkontakte'  );\n\n    };\n\n    sharer.facebook = function (data) {\n\n        var FB_APP_ID = 1740455756240878,\n            link      = 'https://www.facebook.com/dialog/share?display=popup';\n\n        link += '&app_id='       + FB_APP_ID;\n        link += '&href='         + data.url;\n        link += '&redirect_uri=' + document.location.href;\n\n        sharer.popup( link, 'facebook' );\n\n    };\n    sharer.twitter = function (data) {\n\n        var link = 'https://twitter.com/share?';\n\n        link += 'text='      + data.title;\n        link += '&url='      + data.url;\n        link += '&counturl=' + data.url;\n\n        sharer.popup( link, 'twitter' );\n\n    };\n\n    sharer.telegram = function (data) {\n\n        var link  = 'https://telegram.me/share/url';\n\n        link += '?text=' + data.title;\n        link += '&url='  + data.url;\n\n        sharer.popup( link, 'telegram' );\n\n    };\n    /**\n     * @param  {String} url\n     * @param  {String} socialType\n     */\n    sharer.popup = function ( url, socialType ) {\n\n        window.open( url, '', 'toolbar=0,status=0,width=626,height=436' );\n\n        /**\n        * Write analytics goal\n        */\n        if ( window.yaCounter32652805 ) {\n\n            window.yaCounter32652805.reachGoal('article-share', function () {}, this, {type: socialType, url: url});\n\n        }\n\n    };\n\n    /**\n     * Init sharer\n     * @param  {String} buttonsSelector  - on wich elements should bind sharing\n     */\n    sharer.init = function (buttonsSelector) {\n\n        console.assert(buttonsSelector, 'Sharer: buttons selector is missed');\n\n        var shareButtons = document.querySelectorAll(buttonsSelector);\n\n        for (var i = shareButtons.length - 1; i >= 0; i--) {\n\n            shareButtons[i].addEventListener('click', sharer.click, true);\n\n        }\n\n    };\n    /**\n     * @param  {Event} event\n     */\n    sharer.click = function (event) {\n\n        var target = event.target;\n\n        /**\n        * Social provider stores in data 'shareType' attribute on share-button\n        * But click may be fired on child-element in button, so we need to handle it.\n        */\n        var type = target.dataset.shareType || target.parentNode.dataset.shareType;\n\n        if (!sharer[type]) return;\n\n        /**\n        * Sanitize share params\n        * @todo test for taint strings\n        */\n        // for (key in window.shareData){\n        //      window.shareData[key] = encodeURIComponent(window.shareData[key]);\n        // }\n\n        var shareData = {\n            url:    target.dataset.url || target.parentNode.dataset.url,\n            title:  target.dataset.title || target.parentNode.dataset.title,\n            desc:   target.dataset.desc || target.parentNode.dataset.desc,\n            img:    target.dataset.img || target.parentNode.dataset.title\n        };\n\n        /**\n        * Fire click handler\n        */\n\n        sharer[type](shareData);\n\n    };\n\n\n\n    return sharer;\n\n})({});\n","/**\n * codex.showMoreNews module\n * Used in news block\n * Reveals more news when appender button is fired\n * Usage onclick=\"codex.showMoreNews.init( this );\"\n */\nvar showMoreNews = function () {\n\n    /**\n     * Helper for 'show more news' button\n     * @param {Element} button   - appender button\n     */\n    var init = function ( button ) {\n\n        var PORTION = 5; // Amount of news shown each time appender button is fired\n\n        var news = document.querySelectorAll('.news__list_item'),\n            hided = [];\n\n        for (var i = 0, newsItem; !!(newsItem = news[i]); i++) {\n\n            if ( newsItem.classList.contains('news__list_item--hidden') ) {\n\n                hided.push(newsItem);\n\n            }\n\n        }\n\n        /**\n         * @param {Element} item\n         * Remove PORTION of first elements from array hided\n         */\n        hided.splice(0, PORTION).map(function (item) {\n\n            item.classList.remove('news__list_item--hidden');\n\n        });\n\n        if (!hided.length) {\n\n            button.classList.add('news__list_item--hidden');\n\n        }\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = showMoreNews;\n","/**\n* Minimal, lightview and universal code highilting\n* Used on articles page\n* @author Savchenko Peter (vk.com/specc)\n* @param {Object} simpleCode\n*/\nvar simpleCode = (function (simpleCode_) {\n\n    simpleCode_.rules = {\n\n        comments: function (str) {\n\n            return str.replace(/(\\/\\*([^*]|[\\r\\n]|(\\*+([^*\\/]|[\\r\\n])))*\\*\\/)/g, '<span class=sc_comment>$1</span>');\n\n        },\n        commentsInline: function (str) {\n\n            return str.replace(/[^\\w:](\\/\\/[^\\n]+)/g, '<span class=sc_comment>$1</span>');\n\n        },\n        tags : function (str) {\n\n            return str.replace( /(&lt;[\\/a-z]+(&gt;)?)/gi, '<span class=sc_tag>$1</span>' );\n\n        },\n        attrs : function (str) {\n\n            return str.replace( /\"([^\"]+)\"/gi, '\"<span class=sc_attr>$1</span>\"' );\n\n        },\n        strings : function (str) {\n\n            return str.replace( /'([^']+)'/gi, '\\'<span class=sc_attr>$1</span>\\'' );\n\n        },\n        keywords : function (str) {\n\n            return str.replace(/\\b(var|const|function|typeof|return|endif|endforeach|foreach|if|for|in|while|break|continue|switch|case|int|void|python|from|import|install|def|virtualenv|source|sudo|git)([^a-z0-9\\$_])/g, '<span class=sc_keyword>$1</span>$2');\n\n        },\n        digits : function (str) {\n\n            return str.replace(/\\b(\\d+)\\b/g, '<span class=sc_digt>$1</span>');\n\n        },\n        vars : function (str) {\n\n            return str.replace(/(\\$[^\\s\\[\\]\\{\\}\\'\\\"\\(\\)]+)\\b/g, '<span class=sc_var>$1</span>');\n\n        },\n        colors : function (str) {\n\n            return str.replace(/(#[a-z0-9]{3,6})/ig, '<span class=sc_color style=border-bottom-color:$1>$1</span>');\n\n        }\n\n    };\n\n    simpleCode_.process = function (el) {\n\n        var origin = el.innerHTML;\n\n        for (var rule in simpleCode.rules) {\n\n            origin = simpleCode.rules[rule](origin);\n\n        }\n\n        el.innerHTML = origin;\n\n    };\n\n    simpleCode_.addStyles = function () {\n\n        var styleInstance = 'simpleCodeStylingCss',\n            style         = document.getElementById(styleInstance),\n            css =   '.sc_attr{color: #F57975;}' +\n                    '.sc_tag{color: #7DA3F4;}' +\n                    '.sc_keyword{color: #d87ccf;}' +\n                    '.sc_digt{color: #37D755;}'+\n                    '.sc_var{color: #8199C6;}' +\n                    '.sc_comment{color: #acb1bd;}' +\n                    '.sc_color{display: inline-block;line-height: 1em;border-bottom-width:2px;border-bottom-style:solid;}';\n\n        if (!style) {\n\n            style = document.createElement('style');\n            style.id = styleInstance;\n            style.innerHTML = css;\n\n            document.head.appendChild(style);\n\n        }\n\n    };\n\n    /**\n     * @param {String} selector - CSS selector .article__code\n     * @usage codex.simpleCode.init(\".article__code\");\n     */\n    simpleCode_.init = function (selector) {\n\n        simpleCode.addStyles();\n\n        var elements = document.querySelectorAll(selector);\n\n        for (var i = elements.length - 1; i >= 0; i--) {\n\n            simpleCode.process(elements[i]);\n\n        }\n\n    };\n\n    return simpleCode_;\n\n})({});\n\nmodule.exports = simpleCode;\n","/**\n * Ajax file transport module\n * @author Savchenko Peter (vk.com/specc)\n * @param {Object} transport\n */\nmodule.exports = (function (transport) {\n\n    transport.currentButtonClicked = {};\n\n    /**\n   * @param {Element} buttons\n   */\n    transport.init = function (buttons) {\n\n        transport.form  = document.getElementById('transportForm');\n        transport.input = document.getElementById('transportInput');\n\n        for (var i = buttons.length - 1; i >= 0; i--) {\n\n            buttons[i].addEventListener('click', transport.buttonCallback, false);\n\n        }\n\n        transport.input.addEventListener('change', transport.submitCallback, false );\n\n    };\n\n    /**\n   * @param {Event} event\n   */\n    transport.buttonCallback = function () {\n\n        var action       = this.dataset.action,\n            targetId     = this.dataset.id,\n            isMultiple   = !!this.dataset.multiple || false;\n\n        transport.fillForm({\n            action : action,\n            id     : targetId\n        });\n\n        if ( isMultiple ) {\n\n            transport.form.multiple = 'multiple';\n\n        }\n\n        transport.currentButtonClicked = this;\n        transport.input.click();\n\n    };\n\n    /**\n   * Append hidden inputs to tranport form\n   * @param {Object} data\n   */\n    transport.fillForm = function (data) {\n\n        var input,\n            alreadyAddedInput;\n\n        for ( var field in data ) {\n\n            if (typeof data[field] == 'undefined') {\n\n                continue;\n\n            }\n\n            alreadyAddedInput = transport.form.querySelector('input[name=' + field + ']');\n\n            if (typeof alreadyAddedInput != 'undefined' && alreadyAddedInput !== null) {\n\n                input = alreadyAddedInput;\n\n            } else {\n\n                input = document.createElement('input');\n\n            }\n\n            input.type = 'hidden';\n            input.name = field;\n            input.value = data[field];\n\n            transport.form.appendChild(input);\n\n        }\n\n    };\n\n    transport.submitCallback = function () {\n\n        const FILE_MAX_SIZE = 30 * 1024 * 1024; // 30 MB\n\n        var files = transport.getFileObject( this );\n\n        for (var i = files.length - 1; i >= 0; i--) {\n\n            /** Validate file extension */\n            if ( !transport.validateExtension(files[i]) || !transport.validateMIME(files[i]) ) {\n\n                window.console && console.warn('Wrong file type: %o', + files[i].name);\n                return;\n\n            }\n\n            /** Validate file size */\n            if ( !transport.validateSize( files[i], FILE_MAX_SIZE) ) {\n\n                window.console && console.warn('File size exceeded limit: %o MB', files[i].size / (1024*1024).toFixed(2) );\n                return;\n\n            }\n\n        }\n\n        transport.currentButtonClicked.className += ' loading';\n        transport.form.submit();\n\n    };\n\n    /**\n   * Fires from transport-frame window\n   * @param {Object} response\n   */\n    transport.response = function ( response ) {\n\n        transport.currentButtonClicked.className = transport.currentButtonClicked.className.replace('loading', '');\n\n        if (response.callback) {\n\n            eval(response.callback);\n\n        }\n\n        if ( response.result ) {\n\n            if ( response.result == 'error' ) {\n\n                window.console && console.warn( response.error_description || 'error' );\n\n            }\n\n        }\n\n    };\n    /**\n   * @param  {[Element]} fileInput\n   * @return {[type]}           [description]\n   */\n    transport.getFileObject = function ( fileInput ) {\n\n        if ( !fileInput ) return false;\n        /**\n     * Workaround with IE that doesn't support File API\n     * @todo test and delete this crutch\n     */\n        return typeof ActiveXObject == 'function' ? (new ActiveXObject('Scripting.FileSystemObject')).getFile(fileInput.value) : fileInput.files;\n\n    };\n\n    /**\n   * @param {Object} accept\n   * @param {Object} fileObj\n   * @return {Boolean}\n   */\n    transport.validateMIME = function ( fileObj, accept ) {\n\n\n        accept = typeof accept == 'array' ? accept : ['image/jpeg', 'image/png'];\n\n        for (var i = accept.length - 1; i >= 0; i--) {\n\n            if ( fileObj.type == accept[i] ) return true;\n\n        }\n        return false;\n\n    };\n\n    transport.validateExtension = function ( fileObj, accept ) {\n\n        var ext = fileObj.name.match(/\\.(\\w+)($|#|\\?)/);\n\n        if (!ext) return false;\n\n        ext = ext[1].toLowerCase();\n\n        accept = typeof accept == 'array' ? accept : ['jpg', 'jpeg', 'png'];\n\n        for (var i = accept.length - 1; i >= 0; i--) {\n\n            if ( ext == accept[i] ) return true;\n\n        }\n\n        return false;\n\n    };\n\n    transport.validateSize = function ( fileObj, maxSize ) {\n\n        return fileObj.size < maxSize;\n\n    };\n\n    return transport;\n\n})({});\n","/**\n * Module for VK community widget: https://vk.com/dev/Community\n * Adds vkWidget to page\n */\nvar vkWidget = function () {\n\n    var targetId, targetView, communityId,\n        VK_API_URI = 'https://vk.com/js/api/openapi.js';\n\n    /**\n     * Initialization of module\n     *\n     * @param  {[Object]} params\n     * @param {int} params.id - element id, where widget is appended\n     * @param {int} params.display.mode - widget appearance (\"3\" - show people in the community)\n     * @param {int|string} params.display.width - set widget width to a fixed number or auto\n     * @param {int} params.communityId - id of VK community\n     *\n     * @example\n     * vkWidget.init({\n     *   id: 'vk_groups',\n     *   display: {\n     *       'mode': 3,\n     *       'width': 'auto'\n     *   },\n     *   communityId: 103229636\n     * });\n     */\n    var init = function (params) {\n\n        targetId = params.id || null,\n        targetView = params.display || { 'mode': 3, 'width': 'auto' },\n        communityId = params.communityId || 0;\n\n        if (document.getElementById(targetId) == undefined) {\n\n            console.log('Cannot find element with id '+ targetId);\n            return;\n\n        };\n\n        loadScript();\n\n    };\n\n    /**\n     * Loads VK Api script to initialize a widget\n     * and appends it to page\n     */\n    var loadScript = function () {\n\n        var vkApiScript = document.createElement('SCRIPT');\n\n        vkApiScript.src = VK_API_URI;\n\n        vkApiScript.setAttribute('async', 'true');\n\n        vkApiScript.onload = showWidget;\n\n        document.body.appendChild(vkApiScript);\n\n    };\n\n    /**\n     * Runs widget initiating from vkApi\n     */\n    var showWidget = function () {\n\n        window.VK.Widgets.Group(targetId, targetView, communityId);\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = vkWidget;"],"sourceRoot":""}