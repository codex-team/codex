{"version":3,"sources":["webpack:///webpack/bootstrap 64a28d67fbc18ff013e5","webpack:///./public/app/js/modules/dom.js","webpack:///./~/@codexteam/deeplinker/dist/deeplinker.js","webpack:///./public/app/js/modules/admin.js","webpack:///./public/app/js/modules/ajax.js","webpack:///./public/app/js/modules/bestDevelopers.js","webpack:///./public/app/js/modules/codeStyling.js","webpack:///./public/app/js/modules/core.js","webpack:///./public/app/js/modules/dragndrop.js","webpack:///./public/app/js/modules/helpers.js","webpack:///./public/app/js/modules/join.js","webpack:///./public/app/js/modules/player.js","webpack:///./public/app/js/modules/polyfills.js","webpack:///./public/app/js/modules/profile.js","webpack:///./public/app/js/modules/quiz.js","webpack:///./public/app/js/modules/quizForm.js","webpack:///./public/app/js/modules/scrollUp.js","webpack:///./public/app/js/modules/sharer.js","webpack:///./public/app/js/modules/showMoreNews.js","webpack:///./public/app/js/modules/transport.js","webpack:///./public/app/js/modules/vkWidget.js","webpack:///./public/app/css/main.css","webpack:///./public/app/js/main.js"],"names":["DOM","tagName","classNames","attributes","el","document","createElement","Array","isArray","classList","add","attrName","nodeToReplace","replaceWith","parentNode","replaceChild","elementId","getElementById","type","path","instanceName","resourcePrefix","Promise","resolve","reject","includes","node","toLowerCase","async","defer","charset","rel","id","timerLabel","console","time","onload","timeEnd","onerror","src","href","head","appendChild","module","exports","admin","initDragNDrop","codex","dragndrop","droppableClass","findDraggable","e","target","closest","makeAvatar","elem","avatar","cloneNode","insertBefore","nextSibling","rollback","removeChild","remove","targetChanged","newTarget","targetPosition","compareDocumentPosition","move","targetReached","itemId","dataset","itemType","itemBelowValue","nextElementSibling","ajaxData","success","window","setTimeout","url","data","JSON","stringify","core","ajax","init","params","log","listType","items","querySelectorAll","i","length","xhr_","xhr","objectToQueryString","a","prefix","s","name","r20","output","key","value","encodeURIComponent","buildParams","join","replace","obj","l","rbracket","test","call","warn","XMLHTTP","XMLHttpRequest","ActiveXObject","successCallback","formData","contentType","beforeSend","open","setRequestHeader","onreadystatechange","readyState","status","responseText","send","parseHTML","markup","doc","implementation","createHTMLDocument","indexOf","documentElement","innerHTML","body","serialize","form","j","len","jLen","formElement","q","urlencode","str","addNameValue","push","nodeName","elements","disabled","checked","options","selected","developer","bind","chBoxes","addEventListener","toggle","event","codeStyling","$","require","default","library","js","css","prepare","all","loadResource","catch","err","then","codeBlocksSelector","codeBlocks","hljs","highlightBlock","arg","staticLength","substr","successFunction","withCredentials","settings","defaultHandlers","draggableClass","findDroppable","elementFromPoint","clientX","clientY","avatarRollback","dragObj","shift","style","left","pageX","x","top","pageY","y","onMouseDown","which","touchSupported","clickedAt","toggleSelection","coords","getCoords","onMouseMove","preventDefault","Math","abs","onMouseUp","rect","getBoundingClientRect","pageXOffset","pageYOffset","changedTouches","touch","screenX","screenY","ondragstart","helpers","setCookie","expires","domain","toGMTString","cookie","getCookie","dc","begin","end","unescape","substring","getOffset","_x","_y","isNaN","offsetLeft","offsetTop","clientLeft","clientTop","offsetParent","animationClass","joinBlank","joinBlankTextareas","getElementsByTagName","checkUserCanEdit","blankShowAdditionalFieldsButton","showAdditionalFields","textarea","blankAuthBlock","emailInput","blankAdditionalFields","Player","sourceURL","toggler","wrapperSelector","wrapper","querySelector","overlay","CSS","overlayShowed","overlayLoaded","closeButton","showVideoOverlay","make","video","autoplay","loop","source","videoLoaded","close","polyfills","String","prototype","apply","arguments","Element","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","selector","parentElement","uploadPhotoSuccess","newPhotoURL","settingsPhoto","headerPhoto","quizData","numberOfQuestions","currentQuestion","score","maxScore","quizDataInput","holder","questions","gameProcessing_","UI_","setupQuestionInterface","currentQuestionObj","questionElems","clear","title","optionsHolder","counter","nextButton","createElem","setAttribute","append","showQuestion","removeEventListener","textContent","answers","map","createOption","answerSelected","answer","current","getUserAnswer","showResult","showAnswer","answerStyle","answerIndex","index","answerMessage","message","insertAfter","showCorrectAnswers","result","resultScore","resultMessage","getMessage","social","createSocial","retry","sharer","networks","shareType","class","icon","button","shareMessage","location","desc","description","answerObj","text","tag","classes","elems","parent","elemBefore","firstChild","question","parseFloat","currentTarget","messages","resultMessages","sort","b","quiz","nodes","questionInsertAnchor","questionInsertButton","resultMessageInsertAnchor","resultMessageInsertButton","resultMessagesHolder","newDOMElement_","element","textNode","createTextNode","attr","attrNode","createAttribute","setAttributeNode","appendAnswerBlock_","questionIndex","answerData","objectIndex","textColumn","scoreColumn","messageColumn","destroyButtonColumn","destroyButton","destroyButtonCross","insertDOMElement_","updateDestroyIcons_","appendQuestionBlock_","questionData","number","titleLabel","answersHolder","answersHead","answersLabel","scoresLabel","messagesLabel","destroyButtonLabel","addAnswerButtonRow","addAnswerButtonColumn","addAnswerButton","addAnswerButtonPlus","appendResultMessageBlock_","messageData","setObjectNumber_","numberTo","container","display","before","parseInt","destroyObject_","elementIndex","splice","setEventListeners_","onsubmit","json","jsonQuestion","jsonAnswer","jsonMessage","submit","onclick","contains","undefined","addInitialResultMessage_","addInitialQuestion_","setInitialFormParams_","forms","quizForm","updateInitialDestroyIcons_","render","SCROLL_UP_OFFSET","scrollPage","scrollTo","windowScrollHandler","vkontakte","link","img","popup","facebook","FB_APP_ID","twitter","telegram","socialType","yaCounter32652805","reachGoal","buttonsSelector","assert","shareButtons","click","shareData","showMoreNews","PORTION","news","hided","newsItem","item","transport","currentButtonClicked","buttons","input","buttonCallback","submitCallback","action","targetId","isMultiple","multiple","fillForm","alreadyAddedInput","field","FILE_MAX_SIZE","files","getFileObject","validateExtension","validateMIME","validateSize","size","toFixed","className","response","callback","eval","error_description","fileInput","getFile","fileObj","accept","ext","match","maxSize","vkWidget","targetView","communityId","VK_API_URI","loadScript","vkApiScript","showWidget","VK","Widgets","Group","VK_COMMUNITY_ID","codex_","set","scrollUp","playVideoButton","docReady","f","profile","deeplinker"],"mappings":"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","file":"./public/build/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 64a28d67fbc18ff013e5","/**\n * DOM manipulations methods\n */\nexport default class DOM {\n  /**\n   * Helper for making Elements with classname and attributes\n   * @param  {string} tagName           - new Element tag name\n   * @param  {array|string} classNames  - list or name of CSS classname(s)\n   * @param  {Object} attributes        - any attributes\n   * @return {Element}\n   */\n    static make(tagName, classNames, attributes) {\n\n        var el = document.createElement(tagName);\n\n        if ( Array.isArray(classNames) ) {\n\n            el.classList.add(...classNames);\n\n        } else if( classNames ) {\n\n            el.classList.add(classNames);\n\n        }\n\n        for (let attrName in attributes) {\n\n            el[attrName] = attributes[attrName];\n\n        }\n\n        return el;\n\n    }\n\n  /**\n  * Replaces node with\n  * @param {Element} nodeToReplace\n  * @param {Element} replaceWith\n  */\n    static replace(nodeToReplace, replaceWith) {\n\n        return nodeToReplace.parentNode.replaceChild(replaceWith, nodeToReplace);\n\n    }\n\n  /**\n  * getElementById alias\n  * @param {String} elementId\n  */\n    static get(elementId) {\n\n        return document.getElementById(elementId);\n\n    }\n\n  /**\n  * Loads static resourse: CSS or JS\n  * @param {string} type  - CSS|JS\n  * @param {string} path  - resource path\n  * @param {string} inctanceName - unique name of resource\n  * @return Promise\n  */\n    static loadResource(type, path, instanceName) {\n\n    /**\n     * Imported resource ID prefix\n     * @type {String}\n     */\n        const resourcePrefix = 'cdx-resourse';\n\n        return new Promise(function (resolve, reject) {\n\n            if (!type || !['JS', 'CSS'].includes(type)) {\n\n                reject(`Unexpected resource type passed. «CSS» or «JS» expected, «${type}» passed`);\n\n            }\n\n            let node;\n\n      /** Script is already loaded */\n            if ( !instanceName ) {\n\n                reject('Instance name is missed');\n\n            } else if ( document.getElementById(`${resourcePrefix}-${type.toLowerCase()}-${instanceName}`) ) {\n\n                resolve(path);\n\n            }\n\n            if (type === 'JS') {\n\n                node = document.createElement('script');\n                node.async = true;\n                node.defer = true;\n                node.charset = 'utf-8';\n\n            } else {\n\n                node = document.createElement('link');\n                node.rel = 'stylesheet';\n\n            }\n\n            node.id = `${resourcePrefix}-${type.toLowerCase()}-${instanceName}`;\n\n            let timerLabel = `Resource loading ${type} ${instanceName}`;\n\n            console.time(timerLabel);\n\n            node.onload = function () {\n\n                console.timeEnd(timerLabel);\n                resolve(path);\n\n            };\n\n            node.onerror = function () {\n\n                console.timeEnd(timerLabel);\n                reject(path);\n\n            };\n\n            if (type === 'JS') {\n\n                node.src = path;\n\n            } else {\n\n                node.href = path;\n\n            }\n\n            document.head.appendChild(node);\n\n        });\n\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/dom.js","!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports.deeplinker=n():e.deeplinker=n()}(window,function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=\"\",t(t.s=0)}([function(e,n){e.exports=(()=>{const e=e=>{e||o(\"Can not open app, because appLink is undefined\");let n=document.createElement(\"iframe\");n.style.display=\"none\",document.body.appendChild(n),null!==n&&(n.src=e)},n=(n,o)=>{let r=!1;window.addEventListener(\"pagehide\",()=>{r=!0},!1),window.addEventListener(\"blur\",()=>{r=!0},!1),e(n),setTimeout(()=>{r||t(o)},100)},t=e=>{e||o(\"Can not open page because link is undefined\"),window.open(e,\"_blank\")},o=e=>{throw Error(\"[Deeplinker] \"+e)};return{click:e=>{\"object\"!=typeof e&&o(\"Passed element is not an object\");let t=e.dataset.link||e.href,r=e.dataset.appLink;n(r,t)},tryToOpenApp:e}})()}])});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@codexteam/deeplinker/dist/deeplinker.js\n// module id = 1\n// module chunks = 0","/**\n * Admin page methods\n */\nmodule.exports = function (admin) {\n\n    /**\n     * Initializes dragndrop module\n     * @uses  codex.dragndrop\n     */\n    function initDragNDrop() {\n\n        codex.dragndrop({\n            droppableClass: 'list-item',\n\n            findDraggable: function (e) {\n\n                var target = e.target.closest('.draggable');\n\n                if (target) return target.closest('.list-item');\n\n                return null;\n\n            },\n\n            makeAvatar: function (elem) {\n\n                var avatar = {};\n\n                avatar.elem = elem.cloneNode(true);\n                avatar.elem.classList.add('dnd-avatar');\n\n                elem.parentNode.insertBefore(avatar.elem, elem.nextSibling);\n                elem.classList.add('no-display');\n\n                avatar.rollback = function () {\n\n                    avatar.elem.parentNode.removeChild(avatar.elem);\n                    elem.classList.remove('no-display');\n\n                };\n\n                return avatar;\n\n            },\n\n            targetChanged: function (target, newTarget, avatar) {\n\n                if (!newTarget) return;\n\n                var targetPosition = newTarget.compareDocumentPosition(avatar.elem);\n\n                if (targetPosition&4) {\n\n                    newTarget.parentNode.insertBefore(avatar.elem, newTarget);\n\n                } else if (targetPosition&2) {\n\n                    newTarget.parentNode.insertBefore(avatar.elem, newTarget.nextSibling);\n\n                }\n\n            },\n\n            move: function () {},\n\n            targetReached: function (target, avatar, elem) {\n\n                target.parentNode.insertBefore(elem, target.nextSibling);\n\n                avatar.elem.parentNode.removeChild(avatar.elem);\n                elem.classList.remove('no-display');\n\n                var itemId = elem.dataset.id,\n                    itemType = elem.dataset.type,\n                    itemBelowValue = null,\n                    nextSibling;\n\n                if (nextSibling == elem.nextElementSibling) {\n\n                    itemBelowValue = nextSibling.dataset.type + ':' + nextSibling.dataset.id;\n\n                }\n\n                var ajaxData = {\n                    success: function () {\n\n                        document.getElementById('saved').classList.remove('top-menu__saved_hidden');\n\n                        window.setTimeout(function () {\n\n                            document.getElementById('saved').classList.add('top-menu__saved_hidden');\n\n                        }, 1000);\n\n                    },\n                    type: 'POST',\n                    url: '/admin/feed',\n                    data: JSON.stringify({\n                        'item_id': itemId,\n                        'item_type': itemType,\n                        'item_below_value': itemBelowValue\n                    })\n                };\n\n\n                codex.core.ajax(ajaxData);\n\n            }\n        });\n        // body...\n\n    }\n\n    /**\n     * Module initialization\n     * @param  {Object}      params             - init params\n     * @param  {String|null} params.listType    - feed list type (\"cards\"|\"list\")\n     */\n    admin.init = function ( params ) {\n\n        codex.core.log('Initialized.', 'Module admin');\n\n        if ( params.listType == 'cards' ) {\n\n            var items = document.querySelectorAll('.feed-item');\n\n            for (var i = items.length-1; i > -1; i--) {\n\n                items[i].classList.add('draggable');\n                items[i].classList.add('feed-item--dnd');\n                items[i].classList.add('list-item');\n\n            }\n\n        }\n\n        initDragNDrop();\n\n    };\n\n    return admin;\n\n}({});\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/admin.js","var ajax = function () {\n\n    var xhr_ = function ( xhr ) {\n\n        var objectToQueryString = function (a) {\n\n            var prefix, s, add, name, r20, output;\n\n            s = [];\n            r20 = /%20/g;\n            add = function (key, value) {\n\n                // If value is a function, invoke it and return its value\n                if (typeof value == 'function') {\n\n                    value = value();\n\n                } else {\n\n                    value = value === null ? '' : value;\n\n                }\n\n                s[ s.length ] = encodeURIComponent(key) + '=' + encodeURIComponent(value);\n\n            };\n            if (a instanceof Array) {\n\n                for (name in a) {\n\n                    add(name, a[name]);\n\n                }\n\n            } else {\n\n                for (prefix in a) {\n\n                    buildParams(prefix, a[ prefix ], add);\n\n                }\n\n            }\n            output = s.join('&').replace(r20, '+');\n            return output;\n\n        };\n\n        var buildParams = function (prefix, obj, add) {\n\n            var name, i, l, rbracket;\n\n            rbracket = /\\[\\]$/;\n            if (obj instanceof Array) {\n\n                for (i = 0, l = obj.length; i < l; i++) {\n\n                    if (rbracket.test(prefix)) {\n\n                        add(prefix, obj[i]);\n\n                    } else {\n\n                        buildParams(prefix + '[' + ( typeof obj[i] === 'object' ? i : '' ) + ']', obj[i], add);\n\n                    }\n\n                }\n\n            } else if (typeof obj == 'object') {\n\n                // Serialize object item.\n                for (name in obj) {\n\n                    buildParams(prefix + '[' + name + ']', obj[ name ], add);\n\n                }\n\n            } else {\n\n                // Serialize scalar item.\n                add(prefix, obj);\n\n            }\n\n        };\n\n        xhr.call = function ( data ) {\n\n            if ( !data || !data.url ) {\n\n                console.warn('url wasn\\'t passed into ajax method' );\n                return;\n\n            }\n\n            var XMLHTTP              = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'),\n                successCallback;\n\n            data.type         = data.type || 'GET';\n            data.url          = data.url;\n            data.async        = data.async || false;\n            data.data         = data.data || '';\n            data.formData     = data.formData || false;\n            data['content-type'] = data.contentType || 'text/html';\n            successCallback      = data.success || successCallback ;\n\n            if ( data.type == 'GET' && data.data ) {\n\n                data.url = /\\?/.test(data.url) ? data.url + '&' + data.data : data.url + '?' + data.data;\n\n            }\n\n            if (data.beforeSend && typeof data.beforeSend == 'function') {\n\n                data.beforeSend.call();\n\n            }\n\n            XMLHTTP.open( data.type, data.url, data.async );\n            XMLHTTP.setRequestHeader('Content-type', data['content-type'] );\n            XMLHTTP.setRequestHeader('Connection', 'close');\n            XMLHTTP.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n            XMLHTTP.onreadystatechange = function () {\n\n                if ( XMLHTTP.readyState == 4 && XMLHTTP.status == 200 && successCallback) {\n\n                    successCallback.call(XMLHTTP.responseText);\n\n                }\n\n            };\n\n            XMLHTTP.send( data.formData || objectToQueryString(data.data) );\n\n        };\n\n\n        xhr.parseHTML = function (markup) {\n\n            var doc = document.implementation.createHTMLDocument('');\n\n            if (markup.toLowerCase().indexOf('<!doctype') > -1) {\n\n                doc.documentElement.innerHTML = markup;\n\n            } else {\n\n                doc.body.innerHTML = markup;\n\n            }\n            return doc;\n\n        };\n\n        /**\n         * Adapted from {@link http://www.bulgaria-web-developers.com/projects/javascript/serialize/}\n         * Changes:\n         *     Ensures proper URL encoding of name as well as value\n         *     Preserves element order\n         *     XHTML and JSLint-friendly\n         *     Disallows disabled form elements and reset buttons as per HTML4 [successful controls]{@link http://www.w3.org/TR/html401/interact/forms.html#h-17.13.2}\n         *         (as used in jQuery). Note: This does not serialize <object>\n         *         elements (even those without a declare attribute) or\n         *         <input type=\"file\" />, as per jQuery, though it does serialize\n         *         the <button>'s (which are potential HTML4 successful controls) unlike jQuery\n         * @license MIT/GPL\n        */\n        xhr.serialize = function (form) {\n\n            'use strict';\n\n            var i, j, len, jLen, formElement, q = [];\n\n            function urlencode(str) {\n\n                // http://kevin.vanzonneveld.net\n                // Tilde should be allowed unescaped in future versions of PHP (as reflected below), but if you want to reflect current\n                // PHP behavior, you would need to add \".replace(/~/g, '%7E');\" to the following.\n                return encodeURIComponent(str).replace(/!/g, '%21').replace(/'/g, '%27').replace(/\\(/g, '%28').\n                    replace(/\\)/g, '%29').replace(/\\*/g, '%2A').replace(/%20/g, '+');\n\n            }\n            function addNameValue(name, value) {\n\n                q.push(urlencode(name) + '=' + urlencode(value));\n\n            }\n            if (!form || !form.nodeName || form.nodeName.toLowerCase() !== 'form') {\n\n                throw 'You must supply a form element';\n\n            }\n            for (i = 0, len = form.elements.length; i < len; i++) {\n\n                formElement = form.elements[i];\n                if (formElement.name === '' || formElement.disabled) {\n\n                    continue;\n\n                }\n                switch (formElement.nodeName.toLowerCase()) {\n                    case 'input':\n                        switch (formElement.type) {\n                            case 'text':\n                            case 'email':\n                            case 'hidden':\n                            case 'password':\n                            case 'button': // Not submitted when submitting form manually, though jQuery does serialize this and it can be an HTML4 successful control\n                            case 'submit':\n                                addNameValue(formElement.name, formElement.value);\n                                break;\n                            case 'checkbox':\n                            case 'radio':\n                                if (formElement.checked) {\n\n                                    addNameValue(formElement.name, formElement.value);\n\n                                }\n                                break;\n                            case 'file':\n                            // addNameValue(formElement.name, formElement.value); // Will work and part of HTML4 \"successful controls\", but not used in jQuery\n                                break;\n                            case 'reset':\n                                break;\n                        }\n                        break;\n                    case 'textarea':\n                        addNameValue(formElement.name, formElement.value);\n                        break;\n                    case 'select':\n                        switch (formElement.type) {\n                            case 'select-one':\n                                addNameValue(formElement.name, formElement.value);\n                                break;\n                            case 'select-multiple':\n                                for (j = 0, jLen = formElement.options.length; j < jLen; j++) {\n\n                                    if (formElement.options[j].selected) {\n\n                                        addNameValue(formElement.name, formElement.options[j].value);\n\n                                    }\n\n                                }\n                                break;\n                        }\n                        break;\n                    case 'button': // jQuery does not submit these, though it is an HTML4 successful control\n                        switch (formElement.type) {\n                            case 'reset':\n                            case 'submit':\n                            case 'button':\n                                addNameValue(formElement.name, formElement.value);\n                                break;\n                        }\n                        break;\n                }\n\n            }\n\n            return q.join('&');\n\n        };\n\n    };\n\n    return {\n        xhr : xhr_\n    };\n\n}({});\n\nmodule.exports = ajax;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/ajax.js","/**\n * codex.bestDevelopers module\n * Sets best developers values in admin/user for further output in templates/developers.php\n */\nvar developer = function () {\n\n    var bind = function () {\n\n        var chBoxes = document.querySelectorAll('.developer-checkbox');\n\n        for (var i = chBoxes.length-1; i > -1; i--) {\n\n            chBoxes[i].addEventListener('change', toggle);\n\n        }\n\n    };\n\n    /**\n     * Sends ajax data 0 or 1, whether user is best developer or not\n     * @param {Event} event\n     * @uses codex.core.ajax\n     */\n\n    var toggle = function (event) {\n\n        var data = {\n            data: 'id='+event.target.id+'&value='+(event.target.checked?1:0),\n            url: '/admin/developer'\n        };\n\n        codex.core.ajax(data);\n\n    };\n\n    return {\n        bind: bind\n    };\n\n}();\n\nmodule.exports = developer;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/bestDevelopers.js","/**\n * Code Styling module\n */\nmodule.exports = function codeStyling() {\n\n    'use strict';\n\n    /**\n     * DOM manipulations helper\n     */\n    const $ = require('./dom').default;\n\n    /**\n     * Extrnal library for code styling\n     * @link https://highlightjs.org\n     * @type {Object}\n     */\n    const library = {\n        js: '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js',\n        css : '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css'\n    };\n\n    /**\n     * Loads styling library\n     */\n    let prepare = function () {\n\n        return Promise.all([\n            $.loadResource('JS', library.js, 'highlight'),\n            $.loadResource('CSS', library.css, 'highlight')\n        ]).catch( err => console.warn('Cannot load code styling module: ', err))\n        .then( () => console.log('Code Styling is ready') );\n\n    };\n\n    /**\n     * Finds code blocks and fires highlighting\n     * @param {String} codeBlocksSelector - where to find <code> blocks\n     */\n    let init = function (codeBlocksSelector) {\n\n        let codeBlocks = document.querySelectorAll(codeBlocksSelector);\n\n        if (codeBlocks) {\n\n            prepare().then( () => {\n\n                if (!window.hljs) {\n\n                    console.warn('Code Styling script loaded but not ready');\n                    return;\n\n                }\n\n                for (var i = codeBlocks.length - 1; i >= 0; i--) {\n\n                    window.hljs.highlightBlock(codeBlocks[i]);\n\n                }\n\n            });\n\n        }\n\n    };\n\n    return {\n        init\n    };\n\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/codeStyling.js","/**\n* Significant core methods\n*/\nmodule.exports =  function () {\n\n    /** Logging method */\n    var log = function (str, prefix, type, arg) {\n\n        var staticLength = 32;\n\n        if (prefix) {\n\n            prefix = prefix.length < staticLength ? prefix : prefix.substr( 0, staticLength - 2 );\n\n            while (prefix.length < staticLength - 1) {\n\n                prefix += ' ';\n\n            }\n\n            prefix += ':';\n            str = prefix + str;\n\n        }\n\n        type = type || 'log';\n\n        try {\n\n            if ('console' in window && window.console[ type ]) {\n\n                if (arg) console[type](str, arg);\n                else console[type](str);\n\n            }\n\n        } catch(e) {}\n\n    };\n\n    /**\n    * Native ajax method.\n    * @param {Object} data\n    */\n    var ajax = function (data) {\n\n        if (!data || !data.url) {\n\n            return;\n\n        }\n\n        var XMLHTTP          = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'),\n            successFunction  = function () {};\n\n        data.async           = true;\n        data.type            = data.type || 'GET';\n        data.data            = data.data || '';\n        data['content-type'] = data['content-type'] || 'application/json; charset=utf-8';\n        successFunction     = data.success || successFunction ;\n\n        if (data.type == 'GET' && data.data) {\n\n            data.url = /\\?/.test(data.url) ? data.url + '&' + data.data : data.url + '?' + data.data;\n\n        }\n\n        if (data.withCredentials) {\n\n            XMLHTTP.withCredentials = true;\n\n        }\n\n        if (data.beforeSend && typeof data.beforeSend == 'function') {\n\n            data.beforeSend.call();\n\n        }\n\n        XMLHTTP.open( data.type, data.url, data.async );\n        XMLHTTP.setRequestHeader('Content-type', data['content-type'] );\n        XMLHTTP.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        XMLHTTP.onreadystatechange = function () {\n\n            if (XMLHTTP.readyState == 4 && XMLHTTP.status == 200) {\n\n                successFunction(XMLHTTP.responseText);\n\n            }\n\n        };\n\n        XMLHTTP.send(data.data);\n\n    };\n\n\n    return {\n        ajax : ajax,\n        log : log\n    };\n\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/core.js","module.exports = function (settings) {\n\n    var defaultHandlers = {\n        findDraggable: function (e) {\n\n            return e.target.closest('.'+draggableClass);\n\n        },\n\n        findDroppable: function (e) {\n\n            return document.elementFromPoint(e.clientX, e.clientY).closest('.'+droppableClass);\n\n        },\n\n        /**\n         * The simplest makeAvatar method.\n         *\n         * Just set elem to avatar.elem. And remembers element position in document.\n         * If drop isn`t success, returns elem to start position.\n         */\n        makeAvatar: function (elem) {\n\n            var avatar = {};\n\n            var avatarRollback = function () {\n\n                avatar.elem.classList.remove('dnd-default-avatar');\n\n                if (avatar.nextSibling)\n                    avatar.parentNode.insertBefore(avatar.elem, avatar.nextSibling);\n                else\n                    avatar.parentNode.appendChild(avatar.elem);\n\n                delete(dragObj.avatar);\n\n            };\n\n            avatar = {\n                elem: elem,\n                parentNode: elem.parentNode,\n                nextSibling: elem.nextElementSibling,\n                rollback: avatarRollback\n            };\n\n            // Set avatar position: absolute; for drag'n'drop\n            avatar.elem.classList.add('dnd-default-avatar');\n\n            return avatar;\n\n        },\n\n        /**\n         * Highlights droppable elements under cursor with border\n         */\n        targetChanged: function (target, newTarget) {\n\n            if (target) target.classList('dnd-default-target-highlight');\n\n            if (newTarget) newTarget.classList.add('dnd-default-target-highlight');\n\n        },\n\n        move: function (e, avatar, shift) {\n\n            avatar.elem.style.left = e.pageX - shift.x + 'px';\n            avatar.elem.style.top = e.pageY - shift.y + 'px';\n\n        },\n\n        /**\n         * Inserts elem into document if drop is success\n         */\n        targetReached: function (target, avatar, elem) {\n\n            target.classList.remove('dnd-default-target-highlight');\n            target.parentNode.insertBefore(elem, target.nextElementSibling);\n            avatar.elem.classList.remove('dnd-default-avatar');\n\n        }\n    };\n\n    var draggableClass  = settings.draggableClass   || 'draggable',\n        droppableClass   = settings.droppableClass    || 'droppable',\n        findDraggable   = settings.findDraggable    || defaultHandlers.findDraggable,\n        findDroppable    = settings.findDroppable     || defaultHandlers.findDroppable,\n        makeAvatar      = settings.makeAvatar       || defaultHandlers.makeAvatar,\n        targetChanged   = settings.targetChanged    || defaultHandlers.targetChanged,\n        move            = settings.move             || defaultHandlers.move,\n        targetReached   = settings.targetReached    || defaultHandlers.targetReached;\n\n    var dragObj = {};\n\n    var onMouseDown = function (e) {\n\n        /**\n         * Check mouse (which=1 - right mouse button) or touch (which=0 - touch) event.\n         */\n        if (e.which > 1) return;\n\n        e = touchSupported(e);\n\n        dragObj.clickedAt = {\n            x: e.pageX,\n            y: e.pageY\n        };\n\n        dragObj.elem = findDraggable(e);\n\n        if (!dragObj.elem) return;\n\n        toggleSelection();\n\n        var coords = getCoords(dragObj.elem);\n\n        dragObj.shift = {\n            x: e.pageX - coords.x,\n            y: e.pageY - coords.y\n        };\n\n    };\n\n    var onMouseMove = function (e) {\n\n        if (!dragObj.elem) return;\n\n        // Prevent touchmove scroll\n        e.preventDefault();\n\n        e = touchSupported(e);\n\n        // Check mouse offset. If x or y offset <5, assume that it`s accidental move\n        if (Math.abs(e.pageX - dragObj.clickedAt.x) < 5 && Math.abs(e.pageY - dragObj.clickedAt.y) < 5) return;\n\n        if (!dragObj.avatar) {\n\n            dragObj.avatar = makeAvatar(dragObj.elem);\n\n        }\n\n        var newTarget = findDroppable(e);\n\n        if (newTarget != dragObj.target) {\n\n            targetChanged(dragObj.target, newTarget, dragObj.avatar);\n\n            dragObj.target = newTarget;\n\n        }\n\n\n        move(e, dragObj.avatar, dragObj.shift);\n\n    };\n\n    var onMouseUp = function (e) {\n\n        if (e.which > 1) return;\n\n        if (!dragObj.avatar) {\n\n            dragObj = {};\n            return;\n\n        }\n\n        e = touchSupported(e);\n\n        var target = findDroppable(e);\n\n        if (target)\n            targetReached(target, dragObj.avatar, dragObj.elem, e);\n        else\n            dragObj.avatar.rollback();\n\n        dragObj = {};\n\n        toggleSelection();\n\n    };\n\n    var getCoords = function (elem) {\n\n        var rect = elem.getBoundingClientRect();\n\n        return {\n            x: rect.left + window.pageXOffset,\n            y: rect.top + window.pageYOffset\n        };\n\n    };\n\n    var touchSupported = function (e) {\n\n        if (e.changedTouches)\n            var touch = e.changedTouches[0];\n\n        else\n            return e;\n\n        e.pageX = touch.pageX;\n        e.pageY = touch.pageY;\n\n        e.clientX = touch.clientX;\n        e.clientY = touch.clientY;\n\n        e.screenX = touch.screenX;\n        e.screenY = touch.screenY;\n\n        e.target = touch.target;\n\n        return e;\n\n    };\n\n    var toggleSelection = function () {\n\n        document.body.classList.toggle('no-selection');\n\n    };\n\n\n    document.addEventListener('mousedown', onMouseDown);\n    document.addEventListener('touchstart', onMouseDown);\n\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('touchmove', onMouseMove);\n\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('touchend', onMouseUp);\n\n    document.ondragstart = function () {\n\n        return false;\n\n    };\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/dragndrop.js","module.exports = (function (helpers) {\n\n    helpers.setCookie = function (name, value, expires, path, domain) {\n\n        var str = name + '='+value;\n\n        if (expires) str += '; expires=' + expires.toGMTString();\n        if (path)    str += '; path=' + path;\n        if (domain)  str += '; domain=' + domain;\n        document.cookie = str;\n\n    };\n\n    helpers.getCookie = function (name) {\n\n        var dc = document.cookie;\n\n        var prefix = name + '=';\n        var begin = dc.indexOf('; ' + prefix);\n\n        if (begin == -1) {\n\n            begin = dc.indexOf(prefix);\n            if (begin !== 0) return null;\n\n        } else\n            begin += 2;\n\n        var end = document.cookie.indexOf(';', begin);\n\n        if (end == -1) end = dc.length;\n\n        return unescape(dc.substring(begin + prefix.length, end));\n\n    };\n\n    helpers.getOffset = function ( el ) {\n\n        var _x = 0;\n        var _y = 0;\n\n        while( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {\n\n            _x += (el.offsetLeft + el.clientLeft);\n            _y += (el.offsetTop + el.clientTop);\n            el = el.offsetParent;\n\n        }\n        return { top: _y, left: _x };\n\n    };\n\n    return helpers;\n\n})({});\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/helpers.js","/**\n * Module for /join page\n * Blocks writing without authorization\n *\n * Toggles into view blankAdditionalFields: Name and Surname, Email\n */\nvar join = function () {\n\n    const animationClass = 'wobble';\n\n    /**\n    * Module initialization\n    */\n    var init = function () {\n\n        var joinBlank = document.getElementById('joinBlank');\n\n        if ( typeof joinBlank != 'undefined' && joinBlank !== null ) {\n\n            var joinBlankTextareas = joinBlank.getElementsByTagName('textarea');\n\n            if (joinBlankTextareas.length) {\n\n                for (var i = joinBlankTextareas.length - 1; i >= 0; i--) {\n\n                    joinBlankTextareas[i].addEventListener('keyup', checkUserCanEdit, false);\n\n                }\n\n            }\n\n        }\n\n        var blankShowAdditionalFieldsButton = document.getElementById('blankShowAdditionalFieldsButton');\n\n        if ( typeof blankShowAdditionalFieldsButton != 'undefined' && blankShowAdditionalFieldsButton !== null ) {\n\n            blankShowAdditionalFieldsButton.addEventListener('click', showAdditionalFields, false);\n\n        }\n\n    };\n\n    /**\n     * Adds wobble-effect to Auth block if user starts typing into textarea unauthorized\n     * @param {Event} event\n     */\n    let checkUserCanEdit = function (event) {\n\n        var textarea       = event.target,\n            blankAuthBlock = document.getElementById('js-join-auth'),\n            emailInput     = document.getElementById('js-email');\n\n        if (blankAuthBlock && !emailInput.value.length ) {\n\n            blankAuthBlock.classList.add(animationClass);\n\n            window.setTimeout(() => blankAuthBlock.classList.remove(animationClass), 450);\n\n            textarea.value = '';\n\n        }\n\n    };\n\n    /**\n     * Toggles into view blankAdditionalFields: Name and Surname, Email\n     * @param {Event} event\n     */\n    var showAdditionalFields = function () {\n\n        var blankAdditionalFields = document.getElementById('blankAdditionalFields');\n\n        blankAdditionalFields.classList.toggle('hide');\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = join;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/join.js","/**\n * DOM manipulation methods\n */\nimport $ from './dom';\n\n/**\n * @class  Player\n * @classdesc Simple player on the overlay container\n *\n * @typedef {Player}\n * @property {String} sourceURL - video URL\n * @property {Element} toggler  - Play Button\n * @property {Element} wrapper  - In wich Element player should be added\n * @property {Element} overlay  - Player main container\n * @property {Object} CSS       - CSS dictionary\n *\n */\nexport default class Player {\n\n    /**\n     * @constructor\n     * @param  {String} options.sourceURL        - video URL\n     * @param  {Element} options.toggler         - play button\n     * @param  {String} options.wrapperSelector  - xpath selector for the player holder\n     */\n    constructor({sourceURL, toggler, wrapperSelector}) {\n\n        this.sourceURL = sourceURL;\n        this.toggler = toggler;\n        this.wrapper = document.querySelector(wrapperSelector);\n        this.overlay = null;\n\n        this.CSS = {\n            overlay: 'video-overlay',\n            overlayShowed: 'video-overlay--showed',\n            overlayLoaded: 'video-overlay--loaded',\n            closeButton: 'video-overlay__close'\n        };\n\n        /**\n         * Add Play Button click listener\n         */\n        this.toggler.addEventListener('click', () => {\n\n            this.showVideoOverlay();\n\n        }, false);\n\n    }\n\n    /**\n     * Creates player container and append it to the parent element\n     */\n    showVideoOverlay() {\n\n        this.overlay = $.make('div', this.CSS.overlay);\n\n        let video = $.make('video', null, {\n                autoplay: true,\n                loop: true\n            }),\n            source = $.make('source', null, {\n                src: this.sourceURL,\n                type: 'video/mp4'\n            }),\n            closeButton = $.make('div', this.CSS.closeButton);\n\n        /**\n         * Append <video>\n         */\n        video.appendChild(source);\n        this.overlay.appendChild(video);\n\n        /**\n         * Bind loading callback\n         */\n        video.addEventListener('loadeddata', () => {\n\n            this.videoLoaded();\n\n        });\n\n        /**\n         * Activate close button\n         */\n        this.overlay.appendChild(closeButton);\n        closeButton.addEventListener('click', () => {\n\n            this.close();\n\n        });\n\n        /**\n         * Add overlay to the wrapper\n         */\n        this.wrapper.appendChild(this.overlay);\n        window.setTimeout(() => {\n\n            this.overlay.classList.add(this.CSS.overlayShowed);\n\n        }, 50);\n\n    }\n\n    /**\n     * Video loaded callback\n     * Shows player\n     */\n    videoLoaded() {\n\n        this.wrapper.classList.add(this.CSS.overlayLoaded);\n\n    }\n\n    /**\n     * Removes overlay with video\n     */\n    close() {\n\n        this.overlay.remove();\n        this.overlay = null;\n\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/player.js","\nvar polyfills = function () {\n\n        /**\n        * Polyfilling ECMAScript 6 method String.includes\n        * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes#Browser_compatibility\n        */\n    if ( !String.prototype.includes ) {\n\n        String.prototype.includes = function () {\n\n            'use strict';\n\n            return String.prototype.indexOf.apply(this, arguments) !== -1;\n\n        };\n\n    }\n\n\n        /**\n        * Polyfill for Element.prototype.matches method\n        */\n    if (!Element.prototype.matches) {\n\n        Element.prototype.matches = Element.prototype.matchesSelector ||\n                                        Element.prototype.webkitMatchesSelector ||\n                                        Element.prototype.mozMatchesSelector ||\n                                        Element.prototype.msMatchesSelector;\n\n    }\n\n        /**\n        * Polyfill for Element.prototype.closest method\n        */\n    if (!Element.prototype.closest) {\n\n        Element.prototype.closest = function (selector) {\n\n            var node = this;\n\n            while (node) {\n\n                if (node.matches(selector)) return node;\n                node = node.parentElement;\n\n            }\n\n            return null;\n\n        };\n\n    };\n\n}({});\n\nmodule.exports = polyfills;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/polyfills.js","/**\n * Profile page methods\n */\nmodule.exports = function () {\n\n\t/**\n\t * Photo uploading success-callback\n\t * Fired by transport\n\t * @param  {string} newPhotoURL - uploaded file URL\n\t */\n    var uploadPhotoSuccess = function (newPhotoURL) {\n\n        var settingsPhoto = document.getElementById('profile-photo-updatable'),\n            headerPhoto   = document.getElementById('header-avatar-updatable');\n\n        settingsPhoto.src = newPhotoURL;\n        headerPhoto.src   = newPhotoURL;\n\n    };\n\n    return {\n        uploadPhotoSuccess,\n    };\n\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/profile.js","/**\n * Модуль quiz с единственным публичным методом quiz.init()\n */\nmodule.exports = (function () {\n\n    var quizData            = null,\n        numberOfQuestions   = null,\n        currentQuestion     = null,\n        score               = null,\n        maxScore            = null;\n\n\n    /**\n     * Публичный метод init.\n     *\n     * @param {object} quizDataInput  - объект с информацией о тесте\n     * @param {string} holder - id элемента, в который будет выводиться тест\n     */\n    var init = function (quizDataInput, holder) {\n\n        quizData = quizDataInput;\n        numberOfQuestions = quizData.questions.length;\n        currentQuestion = 0;\n        score = 0;\n\n        gameProcessing_.prepare();\n        UI_.prepare(holder);\n        UI_.setupQuestionInterface();\n\n    };\n\n    var UI_ = {\n\n        holder: null,\n        currentQuestionObj: null,\n\n        // Объект, в котором будут храниться DOM-элементы, связанные с отображением вопроса\n        questionElems: null,\n\n        prepare: function (holder) {\n\n            UI_.holder = document.getElementById(holder);\n            UI_.holder.classList.add('quiz');\n            UI_.holder.classList.add('clearfix');\n\n        },\n\n        /**\n         * Создаем элементы для вывода теста, заносим их в UI_.questionElems и выводим на страницу.\n         */\n        setupQuestionInterface: function () {\n\n            UI_.clear();\n\n            var title,\n                optionsHolder,\n                counter,\n                nextButton;\n\n            title = UI_.createElem('div', 'quiz__question-title');\n\n            optionsHolder = UI_.createElem('div', 'quiz__question-options');\n\n            counter = UI_.createElem('div', 'quiz__question-counter');\n\n            nextButton = UI_.createElem('input', ['quiz__question-button', 'quiz__question-button_next']);\n\n            nextButton.setAttribute('type', 'button');\n            nextButton.setAttribute('value', 'Далее →');\n\n            UI_.questionElems = {\n                counter: counter,\n                title: title,\n                optionsHolder: optionsHolder,\n                options: [],\n                nextButton: nextButton\n            };\n\n            UI_.append(UI_.questionElems);\n\n            UI_.showQuestion();\n\n        },\n\n        /**\n         * Выводим текущий вопрос на страницу (вопрос, варианты ответа и счетчик)\n         */\n        showQuestion: function () {\n\n            UI_.clear(UI_.questionElems.optionsHolder);\n            UI_.questionElems.options = [];\n            UI_.questionElems.nextButton.removeEventListener('click', UI_.showQuestion);\n            UI_.currentQuestionObj = quizData.questions[currentQuestion];\n\n            UI_.questionElems.nextButton.setAttribute('disabled', true);\n\n            UI_.questionElems.title.textContent = UI_.currentQuestionObj.title;\n            UI_.questionElems.counter.textContent = currentQuestion + 1 + '/' + numberOfQuestions;\n\n            UI_.currentQuestionObj.answers.map(UI_.createOption);\n\n        },\n\n        answerSelected: function (answer) {\n\n            answer.classList.add('quiz__question-answer_selected');\n\n            UI_.questionElems.options.map(function (current) {\n\n                current.removeEventListener('click', gameProcessing_.getUserAnswer);\n\n            });\n\n            UI_.questionElems.nextButton.disabled = false;\n\n            if (currentQuestion < numberOfQuestions  - 1) {\n\n                UI_.questionElems.nextButton.addEventListener('click', UI_.showQuestion);\n\n            } else {\n\n                UI_.questionElems.nextButton.addEventListener('click', UI_.showResult);\n\n            }\n\n            UI_.showAnswer(answer);\n\n            currentQuestion++;\n\n        },\n        /**\n         * Добавляем стили и выводим сообщение для выбранного варианта ответа\n         * Открываем доступ к следующему вопросу\n         *\n         * @param {Element} answer - DOM-элемент выбранного ответа\n         */\n        showAnswer: function (answer) {\n\n            var answerStyle = answer.dataset.score > 0 ? '_right' :  '_wrong',\n                answerIndex = answer.dataset.index;\n\n            answer.classList.add('quiz__question-answer' + answerStyle);\n\n            var answerMessage = UI_.createElem('div', 'quiz__answer-message');\n\n            answerMessage.textContent = UI_.currentQuestionObj.answers[answerIndex].message;\n\n            UI_.insertAfter(answerMessage, answer);\n\n            if (answer.dataset.score == 0) {\n\n                UI_.showCorrectAnswers();\n\n            }\n\n        },\n\n        showCorrectAnswers: function () {\n\n            UI_.questionElems.options.map(function (answer) {\n\n                if (answer.dataset.score > 0) {\n\n                    answer.classList.add('quiz__question-answer_right');\n\n                } else {\n\n                    answer.classList.add('quiz__question-answer_wrong');\n\n                }\n\n            });\n\n        },\n\n        showResult: function () {\n\n            var result =  score + '/' + maxScore;\n\n            UI_.questionElems.nextButton.removeEventListener('click', UI_.showResult);\n\n            UI_.clear();\n\n            var resultScore = UI_.createElem('div', 'quiz__result-score');\n\n            resultScore.textContent = result;\n\n            var resultMessage = UI_.createElem('div', 'quiz__result-message');\n\n            resultMessage.textContent = gameProcessing_.getMessage();\n\n            var social = UI_.createElem('div', 'quiz__sharing');\n\n            UI_.createSocial(social, result);\n\n            var retry = UI_.createElem('div', 'quiz__retry-button');\n\n            retry.textContent = 'Пройти еще раз';\n            retry.addEventListener('click', init.bind(null, quizData, UI_.holder.id));\n\n            UI_.append([resultScore, resultMessage, social, retry]);\n\n            codex.sharer.init();\n\n        },\n\n        /**\n         * Создаем кнопки социальных сетей и добавляем их в holder\n         *\n         * @param {Element} holder\n         */\n        createSocial: function (holder, result) {\n\n            var networks = [\n                {\n                    title: 'Share on the VK',\n                    shareType: 'vkontakte',\n                    class: 'vk',\n                    icon: 'icon-vkontakte'\n                },\n                {\n                    title: 'Share on the Facebook',\n                    shareType: 'facebook',\n                    class: 'fb',\n                    icon: 'icon-facebook-squared'\n                },\n                {\n                    title: 'Tweet',\n                    shareType: 'twitter',\n                    class: 'tw',\n                    icon: 'icon-twitter'\n                },\n                {\n                    title: 'Forward in Telegramm',\n                    shareType: 'telegram',\n                    class: 'tg',\n                    icon: 'icon-paper-plane'\n                }\n            ];\n\n            networks.map(function (current) {\n\n                var button = UI_.createElem('span', ['but', current.class]),\n                    icon   = UI_.createElem('i', current.icon),\n                    shareMessage = null;\n\n                button.dataset.shareType = current.shareType;\n                button.setAttribute('title', current.title);\n\n                if (quizData.shareMessage) {\n\n                    shareMessage =  quizData.shareMessage.replace('$score', result);\n\n                }\n\n                shareMessage = shareMessage || 'Я набрал ' + result + ' в ' + (quizData.title || 'тесте от команды CodeX');\n\n                button.dataset.url      = window.location.href;\n                button.dataset.title    = shareMessage;\n                button.dataset.desc     = quizData.description || '';\n\n                UI_.append(icon, button);\n                UI_.append(button, holder);\n\n            });\n\n        },\n\n        /**\n         * Создаем i-й вариант ответа и выводим в UI_.questionElems.optionsHolder\n         * И добавляем в UI_.questionElems.options\n         *\n         * @param {Object} answer - объект варианта ответа\n         * @param {int} i - его номер в вопросе\n         */\n        createOption: function (answer, i) {\n\n            var answerObj = UI_.createElem('div', 'quiz__question-answer');\n\n            answerObj.dataset.score = answer.score;\n            answerObj.dataset.index = i;\n            answerObj.textContent = answer.text;\n\n            // Вешаем слушатель на вариант ответа\n            answerObj.addEventListener('click', gameProcessing_.getUserAnswer);\n\n            UI_.questionElems.options.push(answerObj);\n\n            UI_.append(answerObj, UI_.questionElems.optionsHolder);\n\n        },\n\n        /**\n         * Создает новый DOM-элемент с набором переданных классов\n         *\n         * @param {string} tag - имя тега\n         * @param {string|Array} classes - имя или массив имен классов\n         * @returns {Element}\n         */\n        createElem: function (tag, classes) {\n\n            var elem = document.createElement(tag);\n\n            if (!classes) {\n\n                return elem;\n\n            }\n\n            if (classes instanceof Array) {\n\n                for (var i in classes) {\n\n                    elem.classList.add(classes[i]);\n\n                }\n\n            } else {\n\n                elem.classList.add(classes);\n\n            }\n\n            return elem;\n\n        },\n\n        /**\n         * Добавляет элементы в переданный элемент\n         *\n         * @param {Element|Array} elems - элемент или массив элементов\n         * @param {Element|null} parent - родитель или UI_.holder, если передан NULL\n         */\n        append: function (elems, parent) {\n\n            parent = parent || UI_.holder;\n\n            if (!(elems instanceof Element)) {\n\n                for (var i in elems) {\n\n                    if (elems[i] instanceof Element) {\n\n                        parent.appendChild(elems[i]);\n\n                    }\n\n                }\n\n            } else {\n\n                parent.appendChild(elems);\n\n            }\n\n        },\n\n\n        /**\n         * Вставляет элемент после переданного элемента\n         *\n         * @param {Element} elem\n         * @param {Element} elemBefore\n         */\n        insertAfter: function (elem, elemBefore) {\n\n            if (elemBefore.nextSibling) {\n\n                UI_.questionElems.optionsHolder.insertBefore(elem, elemBefore.nextSibling);\n\n            } else {\n\n                UI_.append(elem, elemBefore.parentNode);\n\n            }\n\n        },\n\n        /**\n         * Удалаяет все дочерние элементы элемента parent\n         *\n         * @param {Element} parent\n         */\n        clear: function (parent) {\n\n            parent = parent || UI_.holder;\n\n            while (parent.firstChild) {\n\n                parent.removeChild(parent.firstChild);\n\n            }\n\n        }\n\n    };\n\n    var gameProcessing_ = {\n\n        prepare: function () {\n\n            maxScore = 0;\n\n            quizData.questions.map(function (question) {\n\n                question.answers.map(function (answer) {\n\n                    maxScore += parseFloat(answer.score);\n\n                });\n\n            });\n\n        },\n\n        /**\n         * Добавляет баллы за ответ\n         *\n         * @param {Object} e - объект события клика по варианту ответа\n         */\n        getUserAnswer: function (e) {\n\n            var answer = e.currentTarget;\n\n            score += parseFloat(answer.dataset.score);\n\n            UI_.answerSelected(answer);\n\n        },\n\n        /**\n         * Получает сообщение о результате для набранного количества баллов\n         *\n         * @returns {string} message\n         */\n        getMessage: function () {\n\n            var messages = quizData.resultMessages,\n                message;\n\n            messages.sort(function (a, b) {\n\n                return a['score'] - b['score'];\n\n            });\n\n            if (!messages.length) {\n\n                return;\n\n            }\n\n            for (var i in messages) {\n\n                if (score < messages[i]['score']) {\n\n                    break;\n\n                }\n\n                message = messages[i]['message'];\n\n            }\n\n            return message;\n\n        }\n\n    };\n\n    return {\n        init: init\n    };\n\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/quiz.js","/**\n* Quiz form client handler\n* Author: @ndawn\n* Date: 09/12/16\n*/\n\nmodule.exports = (function (quiz) {\n\n    /**\n    * Quiz form\n    * @var {null} quiz.form - form DOM element\n    */\n    quiz.form = null;\n\n\n    /**\n    * Nodes list\n    * @var {object} quiz.nodes - dict of DOM elements of questions and result messages\n    */\n    quiz.nodes = {\n        'title': null,\n        'description': null,\n        'questions': [],\n        'resultMessages': [],\n        'shareMessage': null\n    };\n\n\n    /**\n    * Question insert button and anchor for new questions\n    * @var {Element} quiz.questionInsertAnchor - DOM element of question insert anchor\n    * @var {Element} quiz.questionInsertButton - DOM element of question insert button\n    */\n    quiz.questionInsertAnchor = null;\n    quiz.questionInsertButton = null;\n\n\n    /**\n    * Result message insert button and anchor for new resultMessages\n    * @var {Element} quiz.resultMessageInsertAnchor - DOM element of result message insert anchor\n    * @var {Element} quiz.resultMessageInsertButton - DOM element of result message insert button\n    */\n    quiz.resultMessageInsertAnchor = null;\n    quiz.resultMessageInsertButton = null;\n\n\n    /**\n    * Result messages holder element\n    * @var {Element} quiz.resultMessagesHolder - DOM element of result messages holder\n    */\n    quiz.resultMessagesHolder = null;\n\n\n    /**\n    * @private\n    * DOM element creating function\n    * Creates a DOM element with given attributes\n    * @param {string} tag - HTML tag of the element\n    * @param {object} attributes - dictionary with attributes to be added to the element\n    */\n    var newDOMElement_ = function (tag, attributes, text) {\n\n        text = text || '';\n        var element = document.createElement(tag);\n        var textNode = document.createTextNode(text);\n\n        element.appendChild(textNode);\n\n        for (var attr in attributes) {\n\n            var attrNode = document.createAttribute(attr);\n\n            attrNode.value = attributes[attr];\n            element.setAttributeNode(attrNode);\n\n        }\n\n        return element;\n\n    };\n\n\n    /**\n    * @private\n    * Answer block creating function\n    * Creates a couple of DOM elements and appends them to question answers list\n    * @param {number} questionIndex - index of question which answer to be appended to\n    */\n    var appendAnswerBlock_ = function (questionIndex, answerData) {\n\n        var answer = {};\n        var question = quiz.nodes.questions[questionIndex];\n        var objectIndex = question.answers.length;\n\n        answerData = answerData || {};\n\n        answer.holder = newDOMElement_('tr', {\n            'class': 'quiz-form__question-answer-holder',\n            'data-question-index': questionIndex,\n            'data-object-index': objectIndex\n        });\n\n        answer.textColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-text-column'\n        });\n\n        answer.text = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-answer-text',\n            'value': answerData.text || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.scoreColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-score-column'\n        });\n\n        answer.score = newDOMElement_('input', {\n            'type': 'number',\n            'min': '0',\n            'step': '1',\n            'value': answerData.score || '0',\n            'class': 'quiz-form__question-answer-score',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.messageColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-message-column'\n        });\n\n        answer.message = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-answer-message',\n            'value': answerData.message || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.destroyButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-destroy-button-column'\n        });\n\n        answer.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-answer-destroy-button'\n        });\n\n        answer.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        answer.textColumn.appendChild(answer.text);\n        answer.scoreColumn.appendChild(answer.score);\n        answer.messageColumn.appendChild(answer.message);\n\n        answer.destroyButton.appendChild(answer.destroyButtonCross);\n\n        answer.destroyButtonColumn.appendChild(answer.destroyButton);\n\n        answer.holder.appendChild(answer.textColumn);\n        answer.holder.appendChild(answer.scoreColumn);\n        answer.holder.appendChild(answer.messageColumn);\n        answer.holder.appendChild(answer.destroyButtonColumn);\n\n        question.answers.push(answer);\n\n        insertDOMElement_(answer);\n\n        updateDestroyIcons_(question.answers);\n\n    };\n\n\n    /**\n    * @private\n    * Question element creating function\n    * Creates a question JS object with DOM elements in it and appends it to the questions list\n    */\n    var appendQuestionBlock_ = function (questionData) {\n\n        var question = {};\n        var objectIndex = quiz.nodes.questions.length;\n\n        questionData = questionData || {};\n\n        question.holder = newDOMElement_('div', {\n            'class': 'quiz-form__question-holder',\n            'data-object-index': objectIndex\n        });\n\n        question.number = newDOMElement_('label', {\n            'class': 'quiz-form__question-number'\n        }, 'Вопрос ' + (objectIndex + 1));\n\n        question.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-destroy-button'\n        });\n\n        question.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        question.titleLabel = newDOMElement_('label', {\n            'class': 'quiz-form__label quiz-form__question-title-label'\n        }, 'Заголовок вопроса');\n\n        question.title = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-title',\n            'value': questionData.title || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        question.answers = [];\n\n        question.answersHolder = newDOMElement_('table', {\n            'class': 'quiz-form__question-answers-holder'\n        });\n\n        question.answersHead = newDOMElement_('thead', {\n            'class': 'quiz-form__question-answers-head'\n        });\n\n        question.answersLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-answers-label'\n        }, 'Ответы');\n\n        question.scoresLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-scores-label'\n        }, 'Баллы');\n\n        question.messagesLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-messages-label'\n        }, 'Комментарии к ответам');\n\n        question.destroyButtonLabel = newDOMElement_('th', {\n            'class': 'quiz-form__question-destroy-buttons-label'\n        });\n\n        question.addAnswerButtonRow = newDOMElement_('tr', {\n            'class': 'quiz-form__question-add-answer-button-row'\n        });\n\n        question.addAnswerButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-add-answer-button-column'\n        });\n\n        question.addAnswerButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-add-answer-button'\n        }, 'Добавить ответ');\n\n        question.addAnswerButtonPlus = newDOMElement_('img', {\n            'class': 'quiz-form__button-plus',\n            'src': '/public/app/img/quizzes/plus.svg'\n        });\n\n        question.holder.appendChild(question.number);\n\n        question.destroyButton.appendChild(question.destroyButtonCross);\n\n        question.holder.appendChild(question.destroyButton);\n        question.holder.appendChild(question.titleLabel);\n        question.holder.appendChild(question.title);\n\n        question.answersHead.appendChild(question.answersLabel);\n        question.answersHead.appendChild(question.scoresLabel);\n        question.answersHead.appendChild(question.messagesLabel);\n        question.answersHead.appendChild(question.destroyButtonLabel);\n\n        question.answersHolder.appendChild(question.answersHead);\n\n        question.addAnswerButton.insertBefore(\n            question.addAnswerButtonPlus,\n            question.addAnswerButton.firstChild\n        );\n\n        question.addAnswerButtonColumn.appendChild(question.addAnswerButton);\n\n        question.addAnswerButtonRow.appendChild(question.addAnswerButtonColumn);\n\n        question.answersHolder.appendChild(question.addAnswerButtonRow);\n\n        question.holder.appendChild(question.answersHolder);\n\n        quiz.nodes.questions.push(question);\n\n        if (questionData.answers) {\n\n            questionData.answers.map(function (current) {\n\n                appendAnswerBlock_(objectIndex, current);\n\n            });\n\n        } else {\n\n            appendAnswerBlock_(objectIndex);\n            appendAnswerBlock_(objectIndex);\n            appendAnswerBlock_(objectIndex);\n\n        }\n\n        insertDOMElement_(question);\n\n        updateDestroyIcons_(quiz.nodes.questions);\n\n    };\n\n\n    /**\n    * @private\n    * Message block creating function\n    * Creates a result message DOM element and appends it to the result messages list\n    */\n    var appendResultMessageBlock_ = function (messageData) {\n\n        var message = {};\n        var objectIndex = quiz.nodes.resultMessages.length;\n\n        messageData = messageData || {};\n\n        message.holder = newDOMElement_('tr', {\n            'class': 'quiz-form__message-holder',\n            'data-object-index': objectIndex\n        });\n\n        message.messageColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-message-column'\n        });\n\n        message.message = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__message-message',\n            'value': messageData.message || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        message.scoreColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-score-column'\n        });\n\n        message.score = newDOMElement_('input', {\n            'type': 'number',\n            'min': '0',\n            'step': '1',\n            'value': messageData.score || '0',\n            'class': 'quiz-form__message-score',\n            'required': '',\n            'form': 'null'\n        });\n\n        message.destroyButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-destroy-button-column'\n        });\n\n        message.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__message-destroy-button'\n        });\n\n        message.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        message.messageColumn.appendChild(message.message);\n        message.scoreColumn.appendChild(message.score);\n\n        message.destroyButton.appendChild(message.destroyButtonCross);\n\n        message.destroyButtonColumn.appendChild(message.destroyButton);\n\n        message.holder.appendChild(message.messageColumn);\n        message.holder.appendChild(message.scoreColumn);\n        message.holder.appendChild(message.destroyButtonColumn);\n\n        quiz.nodes.resultMessages.push(message);\n\n        insertDOMElement_(message);\n\n        updateDestroyIcons_(quiz.nodes.resultMessages);\n\n    };\n\n\n    /**\n    * @private\n    * Object shifting function\n    * Sets numbers in the question with child elements to given index\n    * @param {object} obj - object in which numbers to be set\n    * @param {number} index - index to which child elements' attributes to be set\n    */\n    var setObjectNumber_ = function (obj, numberTo) {\n\n        obj.holder.dataset.objectIndex = numberTo - 1;\n\n        if (obj.number) {\n\n            obj.number.textContent = 'Вопрос ' + numberTo;\n\n        }\n\n    };\n\n\n    /**\n    * @private\n    * Updating destroy icons function\n    * Disables or enables destroy icon for the only element in container\n    * @param {object} container - object in which icon is to be disabled or enabled\n    */\n    var updateDestroyIcons_ = function (container) {\n\n        if (container.length <= 1) {\n\n            container[0].destroyButton.style.display = 'none';\n\n            if (container[0].firstChild) {\n\n                container[0].firstChild.style.display = 'none';\n\n            }\n\n        } else {\n\n            container[0].destroyButton.style.display = '';\n\n            if (container[0].firstChild) {\n\n                container[0].firstChild.style.display = '';\n\n            }\n\n        }\n\n    };\n\n\n    /**\n    * @private\n    * DOM element inserting function\n    * Inserts DOM element to DOM\n    * @param {object} obj - object in which DOM element to be inserted\n    */\n    var insertDOMElement_ = function (obj) {\n\n        var before;\n        var parent;\n\n        if (obj.answers) {\n\n            before = quiz.questionInsertAnchor;\n            parent = quiz.form;\n\n        } else if (obj.text) {\n\n            before = quiz.nodes.questions[parseInt(obj.holder.dataset.questionIndex)].addAnswerButtonRow;\n            parent = quiz.nodes.questions[parseInt(obj.holder.dataset.questionIndex)].answersHolder;\n\n        } else {\n\n            before = quiz.resultMessageInsertAnchor;\n            parent = quiz.resultMessagesHolder;\n\n        }\n\n        parent.insertBefore(obj.holder, before);\n\n    };\n\n\n    /**\n    * @private\n    * Element object destroying function\n    * Removes the DOM element of object from DOM and destroys object itself\n    * @param {object} container - list where object is to be destroyed\n    * @param {number} elementIndex - index of object in list\n    */\n    var destroyObject_ = function (container, elementIndex) {\n\n        container[elementIndex].holder.parentNode.removeChild(container[elementIndex].holder);\n\n        container.splice(elementIndex, 1);\n        for (var i = elementIndex; i < container.length; i++) {\n\n            setObjectNumber_(container[i], i + 1);\n\n        }\n\n        updateDestroyIcons_(container);\n\n    };\n\n\n    /**\n    * @private\n    * Event listeners setting function\n    * Set event listeners for insert and destroy buttons and form submission\n    */\n    var setEventListeners_ = function () {\n\n        quiz.form.onsubmit = function (event) {\n\n            event.preventDefault();\n\n            var json = {\n                'title': quiz.form.querySelector('[name=\"title\"]').value,\n                'description': quiz.form.querySelector('[name=\"description\"]').value,\n                'questions': [],\n                'resultMessages': [],\n                'shareMessage': quiz.form.querySelector('[name=\"shareMessage\"]').value\n            };\n\n            for (var i in quiz.nodes.questions) {\n\n                var jsonQuestion = {};\n\n                jsonQuestion.title = quiz.nodes.questions[i].title.value;\n                jsonQuestion.answers = [];\n\n                for (var j in quiz.nodes.questions[i].answers) {\n\n                    var jsonAnswer = {};\n\n                    jsonAnswer.text = quiz.nodes.questions[i].answers[j].text.value;\n                    jsonAnswer.score = quiz.nodes.questions[i].answers[j].score.value;\n                    jsonAnswer.message = quiz.nodes.questions[i].answers[j].message.value;\n\n                    jsonQuestion.answers.push(jsonAnswer);\n\n                }\n\n                json.questions.push(jsonQuestion);\n\n            }\n\n            for (var i in quiz.nodes.resultMessages) {\n\n                var jsonMessage = {};\n\n                jsonMessage.score = quiz.nodes.resultMessages[i].score.value;\n                jsonMessage.message = quiz.nodes.resultMessages[i].message.value;\n\n                json.resultMessages.push(jsonMessage);\n\n            };\n\n            quiz.form.appendChild(newDOMElement_('input', {\n                'type': 'hidden',\n                'name': 'quiz_data',\n                'value': JSON.stringify(json)\n            }));\n\n            quiz.form.submit();\n\n        };\n\n        quiz.questionInsertButton.onclick = function () {\n\n            appendQuestionBlock_();\n\n        };\n\n        quiz.resultMessageInsertButton.onclick = function () {\n\n            appendResultMessageBlock_();\n\n        };\n\n\n        quiz.form.onclick = function (event) {\n\n            var container;\n            var elementIndex;\n\n            if (event.target.classList.contains('quiz-form__question-destroy-button')) {\n\n                container = quiz.nodes.questions;\n                elementIndex = parseInt(event.target.parentNode.dataset.objectIndex);\n\n            } else if (event.target.parentNode.classList.contains('quiz-form__question-destroy-button')) {\n\n                container = quiz.nodes.questions;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__question-answer-destroy-button')) {\n\n                container = quiz.nodes.questions[\n                    parseInt(event.target.parentNode.parentNode.dataset.questionIndex)\n                ].answers;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.parentNode.classList.contains('quiz-form__question-answer-destroy-button')) {\n\n                container = quiz.nodes.questions[\n                    parseInt(event.target.parentNode.parentNode.parentNode.dataset.questionIndex)\n                ].answers;\n                elementIndex = parseInt(event.target.parentNode.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__message-destroy-button')) {\n\n                container = quiz.nodes.resultMessages;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__question-add-answer-button')) {\n\n                container = null;\n                elementIndex = parseInt(event.target.parentNode.parentNode.parentNode.parentNode.dataset.objectIndex);\n\n            }\n\n            if (container === null) {\n\n                appendAnswerBlock_(elementIndex);\n\n            } else if (container !== undefined) {\n\n                destroyObject_(container, elementIndex);\n\n            }\n\n        };\n\n    };\n\n\n    /**\n    * @private\n    * First result message adding function\n    * Inserts result message with number 1 to the form\n    */\n    var addInitialResultMessage_ = function () {\n\n        appendResultMessageBlock_();\n\n    };\n\n\n    /**\n    * @private\n    * First question adding function\n    * Inserts question with number 1 to the form\n    */\n    var addInitialQuestion_ = function () {\n\n        appendQuestionBlock_();\n\n    };\n\n\n    /**\n    * @private\n    * Initial form parameters setting adding function\n    * Sets form variable and insert buttons\n    */\n    var setInitialFormParams_ = function () {\n\n        quiz.form = document.forms.quizForm;\n        quiz.questionInsertAnchor = document.getElementById('questionInsertAnchor');\n        quiz.questionInsertButton = document.getElementById('questionInsertButton');\n        quiz.resultMessageInsertAnchor = document.getElementById('resultMessageInsertAnchor');\n        quiz.resultMessageInsertButton = document.getElementById('resultMessageInsertButton');\n        quiz.resultMessagesHolder = document.getElementById('resultMessagesHolder');\n\n    };\n\n\n    /**\n    * @private\n    * Initial destroy icons updating function\n    * Updates initially placed destroy icons\n    */\n    var updateInitialDestroyIcons_ = function () {\n\n        updateDestroyIcons_(quiz.nodes.questions);\n        updateDestroyIcons_(quiz.nodes.resultMessages);\n        updateDestroyIcons_(quiz.nodes.questions[0].answers);\n\n    };\n\n\n    var render = function (quizData) {\n\n        var questions = quizData.questions,\n            resultMessages = quizData.resultMessages;\n\n        document.querySelector('[name=\"title\"]').value = quizData.title;\n        document.querySelector('textarea[name=\"description\"]').textContent = quizData.description;\n        document.querySelector('[name=\"shareMessage\"]').value = quizData.shareMessage;\n\n        setInitialFormParams_();\n\n        resultMessages.map(function (current) {\n\n            appendResultMessageBlock_(current);\n\n        });\n\n        questions.map(function (current) {\n\n            appendQuestionBlock_(current);\n\n        });\n\n        setEventListeners_();\n\n        updateInitialDestroyIcons_();\n\n    };\n\n\n    /**\n     * @public\n     * Initialization function\n     * Initializes quiz form: inserts initial DOM elements, sets initial event listeners, etc\n     */\n    quiz.init = function (quizData) {\n\n        if (quizData) {\n\n            render(quizData);\n            return;\n\n        }\n\n        setInitialFormParams_();\n        addInitialQuestion_();\n        addInitialResultMessage_();\n        setEventListeners_();\n        updateInitialDestroyIcons_();\n\n    };\n\n    return quiz;\n\n})({});\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/quizForm.js","/**\n* Module for scroll-up button\n*/\nmodule.exports = function () {\n\n    /**\n    * Page scroll offset to show scroll-up button\n    */\n    var SCROLL_UP_OFFSET = 100,\n        button = null;\n\n    var scrollPage = function () {\n\n        window.scrollTo(0, 0);\n\n    };\n\n    var windowScrollHandler = function () {\n\n        if (window.pageYOffset > SCROLL_UP_OFFSET) {\n\n            button.classList.add('show');\n\n        } else {\n\n            button.classList.remove('show');\n\n        }\n\n    };\n\n    /**\n    * Init method\n    * Fired after document is ready\n    */\n\n    var init = function () {\n\n        /** Find scroll-up button */\n        button = document.createElement('DIV');\n\n        button.classList.add('scroll-up');\n        document.body.appendChild(button);\n\n        /** Bind click event on scroll-up button */\n        button.addEventListener('click', scrollPage);\n\n        /** Global window scroll handler */\n        window.addEventListener('scroll', windowScrollHandler);\n\n    };\n\n    return {\n        init : init\n    };\n\n\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/scrollUp.js","/**\n * Module for social sharing\n */\nmodule.exports = (function ( sharer ) {\n\n    /**\n     * @param  {Object} data - Info about item we want to share\n     */\n    sharer.vkontakte = function (data) {\n\n        var link  = 'https://vk.com/share.php?';\n\n        link += 'url='          + data.url;\n        link += '&title='       + data.title;\n        link += '&description=' + data.desc;\n        link += '&image='       + data.img;\n        link += '&noparse=true';\n\n        sharer.popup( link, 'vkontakte'  );\n\n    };\n\n    sharer.facebook = function (data) {\n\n        var FB_APP_ID = 1740455756240878,\n            link      = 'https://www.facebook.com/dialog/share?display=popup';\n\n        link += '&app_id='       + FB_APP_ID;\n        link += '&href='         + data.url;\n        link += '&redirect_uri=' + document.location.href;\n\n        sharer.popup( link, 'facebook' );\n\n    };\n    sharer.twitter = function (data) {\n\n        var link = 'https://twitter.com/share?';\n\n        link += 'text='      + data.title;\n        link += '&url='      + data.url;\n        link += '&counturl=' + data.url;\n\n        sharer.popup( link, 'twitter' );\n\n    };\n\n    sharer.telegram = function (data) {\n\n        var link  = 'https://telegram.me/share/url';\n\n        link += '?text=' + data.title;\n        link += '&url='  + data.url;\n\n        sharer.popup( link, 'telegram' );\n\n    };\n    /**\n     * @param  {String} url\n     * @param  {String} socialType\n     */\n    sharer.popup = function ( url, socialType ) {\n\n        window.open( url, '', 'toolbar=0,status=0,width=626,height=436' );\n\n        /**\n        * Write analytics goal\n        */\n        if ( window.yaCounter32652805 ) {\n\n            window.yaCounter32652805.reachGoal('article-share', function () {}, this, {type: socialType, url: url});\n\n        }\n\n    };\n\n    /**\n     * Init sharer\n     * @param  {String} buttonsSelector  - on wich elements should bind sharing\n     */\n    sharer.init = function (buttonsSelector) {\n\n        console.assert(buttonsSelector, 'Sharer: buttons selector is missed');\n\n        var shareButtons = document.querySelectorAll(buttonsSelector);\n\n        for (var i = shareButtons.length - 1; i >= 0; i--) {\n\n            shareButtons[i].addEventListener('click', sharer.click, true);\n\n        }\n\n    };\n    /**\n     * @param  {Event} event\n     */\n    sharer.click = function (event) {\n\n        var target = event.target;\n\n        /**\n        * Social provider stores in data 'shareType' attribute on share-button\n        * But click may be fired on child-element in button, so we need to handle it.\n        */\n        var type = target.dataset.shareType || target.parentNode.dataset.shareType;\n\n        if (!sharer[type]) return;\n\n        /**\n        * Sanitize share params\n        * @todo test for taint strings\n        */\n        // for (key in window.shareData){\n        //      window.shareData[key] = encodeURIComponent(window.shareData[key]);\n        // }\n\n        var shareData = {\n            url:    target.dataset.url || target.parentNode.dataset.url,\n            title:  target.dataset.title || target.parentNode.dataset.title,\n            desc:   target.dataset.desc || target.parentNode.dataset.desc,\n            img:    target.dataset.img || target.parentNode.dataset.title\n        };\n\n        /**\n        * Fire click handler\n        */\n\n        sharer[type](shareData);\n\n    };\n\n\n\n    return sharer;\n\n})({});\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/sharer.js","/**\n * codex.showMoreNews module\n * Used in news block\n * Reveals more news when appender button is fired\n * Usage onclick=\"codex.showMoreNews.init( this );\"\n */\nvar showMoreNews = function () {\n\n\t/**\n    * Helper for 'show more news' button\n    * @param {Element} button   - appender button\n    */\n    var init = function ( button ) {\n\n        var PORTION = 5; // Amount of news shown each time appender button is fired\n\n        var news = document.querySelectorAll('.news__list_item'),\n            hided = [];\n\n        for (var i = 0, newsItem; !!(newsItem = news[i]); i++) {\n\n            if ( newsItem.classList.contains('news__list_item--hidden') ) {\n\n                hided.push(newsItem);\n\n            }\n\n        }\n\n        /**\n         * @param {Element} item\n         * Remove PORTION of first elements from array hided\n         */\n        hided.splice(0, PORTION).map(function (item) {\n\n            item.classList.remove('news__list_item--hidden');\n\n        });\n\n        if (!hided.length) {\n\n            button.classList.add('news__list_item--hidden');\n\n        }\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = showMoreNews;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/showMoreNews.js","/**\n* Ajax file transport module\n* @author Savchenko Peter (vk.com/specc)\n* @param {Object} transport\n*/\nmodule.exports = (function (transport) {\n\n    transport.currentButtonClicked = {};\n\n    /**\n     * @param {Element} buttons\n     */\n    transport.init = function (buttons) {\n\n        transport.form  = document.getElementById('transportForm');\n        transport.input = document.getElementById('transportInput');\n\n        for (var i = buttons.length - 1; i >= 0; i--) {\n\n            buttons[i].addEventListener('click', transport.buttonCallback, false);\n\n        }\n\n        transport.input.addEventListener('change', transport.submitCallback, false );\n\n    };\n\n    /**\n     * @param {Event} event\n     */\n    transport.buttonCallback = function () {\n\n        var action       = this.dataset.action,\n            targetId     = this.dataset.id,\n            isMultiple   = !!this.dataset.multiple || false;\n\n        transport.fillForm({\n            action : action,\n            id     : targetId\n        });\n\n        if ( isMultiple ) {\n\n            transport.form.multiple = 'multiple';\n\n        }\n\n        transport.currentButtonClicked = this;\n        transport.input.click();\n\n    };\n\n    /**\n    * Append hidden inputs to tranport form\n    * @param {Object} data\n    */\n    transport.fillForm = function (data) {\n\n        var input,\n            alreadyAddedInput;\n\n        for ( var field in data ) {\n\n            if (typeof data[field] == 'undefined') {\n\n                continue;\n\n            }\n\n            alreadyAddedInput = transport.form.querySelector('input[name=' + field + ']');\n\n            if (typeof alreadyAddedInput != 'undefined' && alreadyAddedInput !== null) {\n\n                input = alreadyAddedInput;\n\n            } else {\n\n                input = document.createElement('input');\n\n            }\n\n            input.type = 'hidden';\n            input.name = field;\n            input.value = data[field];\n\n            transport.form.appendChild(input);\n\n        }\n\n    };\n\n    transport.submitCallback = function () {\n\n        const FILE_MAX_SIZE = 30 * 1024 * 1024; // 30 MB\n\n        var files = transport.getFileObject( this );\n\n        for (var i = files.length - 1; i >= 0; i--) {\n\n            /** Validate file extension */\n            if ( !transport.validateExtension(files[i]) || !transport.validateMIME(files[i]) ) {\n\n                window.console && console.warn('Wrong file type: %o', + files[i].name);\n                return;\n\n            }\n\n            /** Validate file size */\n            if ( !transport.validateSize( files[i], FILE_MAX_SIZE) ) {\n\n                window.console && console.warn('File size exceeded limit: %o MB', files[i].size / (1024*1024).toFixed(2) );\n                return;\n\n            }\n\n        }\n\n        transport.currentButtonClicked.className += ' loading';\n        transport.form.submit();\n\n    };\n\n    /**\n    * Fires from transport-frame window\n    * @param {Object} response\n    */\n    transport.response = function ( response ) {\n\n        transport.currentButtonClicked.className = transport.currentButtonClicked.className.replace('loading', '');\n\n        if (response.callback) {\n\n            eval(response.callback);\n\n        }\n\n        if ( response.result ) {\n\n            if ( response.result == 'error' ) {\n\n                window.console && console.warn( response.error_description || 'error' );\n\n            }\n\n        }\n\n    };\n    /**\n     * @param  {[Element]} fileInput\n     * @return {[type]}           [description]\n     */\n    transport.getFileObject = function ( fileInput ) {\n\n        if ( !fileInput ) return false;\n        /**\n        * Workaround with IE that doesn't support File API\n        * @todo test and delete this crutch\n        */\n        return typeof ActiveXObject == 'function' ? (new ActiveXObject('Scripting.FileSystemObject')).getFile(fileInput.value) : fileInput.files;\n\n    };\n\n    /**\n     * @param {Object} accept\n     * @param {Object} fileObj\n     * @return {Boolean}\n     */\n    transport.validateMIME = function ( fileObj, accept ) {\n\n\n        accept = typeof accept == 'array' ? accept : ['image/jpeg', 'image/png'];\n\n        for (var i = accept.length - 1; i >= 0; i--) {\n\n            if ( fileObj.type == accept[i] ) return true;\n\n        }\n        return false;\n\n    };\n\n    transport.validateExtension = function ( fileObj, accept ) {\n\n        var ext = fileObj.name.match(/\\.(\\w+)($|#|\\?)/);\n\n        if (!ext) return false;\n\n        ext = ext[1].toLowerCase();\n\n        accept = typeof accept == 'array' ? accept : ['jpg', 'jpeg', 'png'];\n\n        for (var i = accept.length - 1; i >= 0; i--) {\n\n            if ( ext == accept[i] ) return true;\n\n        }\n\n        return false;\n\n    };\n\n    transport.validateSize = function ( fileObj, maxSize ) {\n\n        return fileObj.size < maxSize;\n\n    };\n\n    return transport;\n\n})({});\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/transport.js","/**\n * Module for VK community widget: https://vk.com/dev/Community\n * Adds vkWidget to page\n */\nvar vkWidget = function () {\n\n    var targetId, targetView, communityId,\n        VK_API_URI = 'https://vk.com/js/api/openapi.js';\n\n    /**\n     * Initialization of module\n     *\n     * @param  {[Object]} params\n     * @param {int} params.id - element id, where widget is appended\n     * @param {int} params.display.mode - widget appearance (\"3\" - show people in the community)\n     * @param {int|string} params.display.width - set widget width to a fixed number or auto\n     * @param {int} params.communityId - id of VK community\n     *\n     * @example\n     * vkWidget.init({\n     *   id: 'vk_groups',\n     *   display: {\n     *       'mode': 3,\n     *       'width': 'auto'\n     *   },\n     *   communityId: 103229636\n     * });\n     */\n    var init = function (params) {\n\n        targetId = params.id || null,\n        targetView = params.display || { 'mode': 3, 'width': 'auto' },\n        communityId = params.communityId || 0;\n\n        if (document.getElementById(targetId) == undefined) {\n\n            console.log('Cannot find element with id '+ targetId);\n            return;\n\n        };\n\n        loadScript();\n\n    };\n\n    /**\n     * Loads VK Api script to initialize a widget\n     * and appends it to page\n     */\n    var loadScript = function () {\n\n        var vkApiScript = document.createElement('SCRIPT');\n\n        vkApiScript.src = VK_API_URI;\n\n        vkApiScript.setAttribute('async', 'true');\n\n        vkApiScript.onload = showWidget;\n\n        document.body.appendChild(vkApiScript);\n\n    };\n\n    /**\n     * Runs widget initiating from vkApi\n     */\n    var showWidget = function () {\n\n        window.VK.Widgets.Group(targetId, targetView, communityId);\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = vkWidget;\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/vkWidget.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/css/main.css\n// module id = 20\n// module chunks = 0","require('../css/main.css');\n\n/**\n * CodeX community id at vk.com.\n * used by vkWidget module\n */\nconst VK_COMMUNITY_ID = 103229636;\n\nvar codex = (function (codex_) {\n\n    'use strict';\n\n    codex_.settings = {};\n\n    /**\n    * Preparation method\n    */\n    codex_.init = function (settings) {\n\n        /** Save settings or use defaults */\n        for (var set in settings ) {\n\n            this.settings[set] = settings[set] || this.settings[set] || null;\n\n        }\n\n        codex.scrollUp.init();\n\n        codex.codeStyling.init('.article-code__content');\n\n        codex.vkWidget.init({\n            id: 'vk_groups',\n            display: {\n                'mode': 3,\n                'width': 'auto'\n            },\n            communityId: VK_COMMUNITY_ID\n        });\n\n        /**\n         * Acitve play-video buttons\n         */\n        let playVideoButton = document.querySelector('[name=\"js-show-player\"]');\n\n        if (playVideoButton) {\n\n            const Player = require('./modules/player').default;\n\n            new Player({\n                sourceURL: 'public/app/img/products/ar-tester.mp4',\n                toggler: playVideoButton,\n                wrapperSelector : '.product-card--ar-tester'\n            });\n\n        }\n\n    };\n\n    return codex_;\n\n})({});\n\n/**\n* Document ready event listener\n* @usage codex.docReady(function(){ # code ... } );\n*/\ncodex.docReady = function (f) {\n\n    return /in/.test(document.readyState) ? window.setTimeout(codex.docReady, 9, f) : f();\n\n};\n\n/**\n* Pages\n*/\ncodex.admin = require('./modules/admin');\ncodex.join = require('./modules/join');\n\n\n/**\n * Modules\n */\ncodex.core = require('./modules/core');\ncodex.dragndrop = require('./modules/dragndrop');\ncodex.scrollUp = require('./modules/scrollUp');\ncodex.sharer = require('./modules/sharer');\ncodex.developer = require('./modules/bestDevelopers');\n// codex.simpleCode = require('./modules/simpleCodeStyling');\ncodex.showMoreNews = require('./modules/showMoreNews');\ncodex.polyfills = require('./modules/polyfills');\ncodex.ajax = require('./modules/ajax');\ncodex.profile = require('./modules/profile');\ncodex.helpers = require('./modules/helpers');\ncodex.quiz = require('./modules/quiz');\ncodex.quizForm = require('./modules/quizForm');\ncodex.transport = require('./modules/transport');\ncodex.vkWidget = require('./modules/vkWidget');\ncodex.codeStyling = require('./modules/codeStyling');\ncodex.deeplinker = require('@codexteam/deeplinker');\n\nmodule.exports = codex;\n\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/main.js"],"sourceRoot":""}