{"version":3,"sources":["webpack://codex/webpack/bootstrap","webpack://codex/./node_modules/@codexteam/deeplinker/dist/deeplinker.js","webpack://codex/./public/app/js/main.js","webpack://codex/./public/app/js/modules/admin.js","webpack://codex/./public/app/js/modules/ajax.js","webpack://codex/./public/app/js/modules/bestDevelopers.js","webpack://codex/./public/app/js/modules/codeStyling.js","webpack://codex/./public/app/js/modules/core.js","webpack://codex/./public/app/js/modules/dom.js","webpack://codex/./public/app/js/modules/dragndrop.js","webpack://codex/./public/app/js/modules/helpers.js","webpack://codex/./public/app/js/modules/join.js","webpack://codex/./public/app/js/modules/player.js","webpack://codex/./public/app/js/modules/polyfills.js","webpack://codex/./public/app/js/modules/profile.js","webpack://codex/./public/app/js/modules/quiz.js","webpack://codex/./public/app/js/modules/quizForm.js","webpack://codex/./public/app/js/modules/scrollUp.js","webpack://codex/./public/app/js/modules/sharer.js","webpack://codex/./public/app/js/modules/showMoreNews.js","webpack://codex/./public/app/js/modules/transport.js","webpack://codex/./public/app/js/modules/vkWidget.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","e","configurable","default","u","f","iterator","constructor","dataset","link","href","appLink","document","createElement","style","display","body","appendChild","src","addEventListener","setTimeout","open","Error","click","init","arguments","length","querySelectorAll","Array","slice","forEach","preventDefault","tryToOpenApp","codex","codex_","settings","set","this","scrollUp","deeplinker","codeStyling","vkWidget","id","width","communityId","playVideoButton","querySelector","Player","sourceURL","toggler","wrapperSelector","docReady","test","readyState","admin","join","core","dragndrop","sharer","developer","showMoreNews","polyfills","ajax","profile","helpers","quiz","quizForm","transport","params","log","listType","items","classList","add","droppableClass","findDraggable","target","closest","makeAvatar","elem","avatar","cloneNode","parentNode","insertBefore","nextSibling","rollback","removeChild","remove","targetChanged","newTarget","targetPosition","compareDocumentPosition","move","targetReached","itemId","itemType","type","itemBelowValue","nextElementSibling","ajaxData","success","getElementById","url","data","JSON","stringify","item_id","item_type","item_below_value","xhr","buildParams","prefix","obj","rbracket","_typeof","successCallback","XMLHTTP","XMLHttpRequest","ActiveXObject","async","formData","contentType","beforeSend","setRequestHeader","onreadystatechange","status","responseText","send","a","r20","encodeURIComponent","replace","objectToQueryString","console","warn","parseHTML","markup","doc","implementation","createHTMLDocument","toLowerCase","indexOf","documentElement","innerHTML","serialize","form","j","len","jLen","formElement","q","urlencode","str","addNameValue","push","nodeName","elements","disabled","checked","options","selected","toggle","event","chBoxes","$","library","codeBlocksSelector","codeBlocks","Promise","all","loadResource","catch","err","then","hljs","highlightBlock","successFunction","withCredentials","arg","substr","staticLength","DOM","tagName","classNames","attributes","_el$classList","el","isArray","apply","_toConsumableArray","attrName","nodeToReplace","replaceWith","replaceChild","elementId","path","instanceName","resolve","reject","includes","node","resourcePrefix","defer","charset","rel","timerLabel","time","onload","timeEnd","onerror","head","defaultHandlers","draggableClass","findDroppable","elementFromPoint","clientX","clientY","dragObj","shift","left","pageX","x","top","pageY","y","onMouseDown","which","touchSupported","clickedAt","toggleSelection","coords","getCoords","onMouseMove","Math","abs","onMouseUp","rect","getBoundingClientRect","pageXOffset","pageYOffset","changedTouches","touch","screenX","screenY","ondragstart","setCookie","expires","domain","toGMTString","cookie","getCookie","dc","begin","end","unescape","substring","getOffset","_x","_y","isNaN","offsetLeft","offsetTop","clientLeft","clientTop","offsetParent","checkUserCanEdit","textarea","blankAuthBlock","emailInput","showAdditionalFields","joinBlank","joinBlankTextareas","getElementsByTagName","blankShowAdditionalFieldsButton","_ref","_this","_classCallCheck","wrapper","overlay","CSS","overlayShowed","overlayLoaded","closeButton","showVideoOverlay","_this2","make","video","autoplay","loop","source","videoLoaded","close","String","Element","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","selector","parentElement","uploadPhotoSuccess","newPhotoURL","settingsPhoto","headerPhoto","quizData","numberOfQuestions","currentQuestion","score","maxScore","quizDataInput","holder","questions","gameProcessing_","prepare","UI_","setupQuestionInterface","currentQuestionObj","questionElems","title","optionsHolder","counter","nextButton","clear","createElem","setAttribute","append","showQuestion","removeEventListener","textContent","answers","map","createOption","answerSelected","answer","current","getUserAnswer","showResult","showAnswer","answerStyle","answerIndex","index","answerMessage","message","insertAfter","showCorrectAnswers","result","resultScore","resultMessage","getMessage","social","createSocial","retry","shareType","class","icon","button","shareMessage","location","desc","description","answerObj","text","tag","classes","elems","parent","elemBefore","firstChild","question","parseFloat","currentTarget","messages","resultMessages","sort","b","nodes","questionInsertAnchor","questionInsertButton","resultMessageInsertAnchor","resultMessageInsertButton","resultMessagesHolder","newDOMElement_","element","textNode","createTextNode","attr","attrNode","createAttribute","setAttributeNode","appendAnswerBlock_","questionIndex","answerData","objectIndex","data-question-index","data-object-index","textColumn","required","scoreColumn","min","step","messageColumn","destroyButtonColumn","destroyButton","destroyButtonCross","insertDOMElement_","updateDestroyIcons_","appendQuestionBlock_","questionData","number","titleLabel","answersHolder","answersHead","answersLabel","scoresLabel","messagesLabel","destroyButtonLabel","addAnswerButtonRow","addAnswerButtonColumn","addAnswerButton","addAnswerButtonPlus","appendResultMessageBlock_","messageData","setObjectNumber_","numberTo","container","before","parseInt","setEventListeners_","onsubmit","json","jsonQuestion","jsonAnswer","jsonMessage","submit","onclick","elementIndex","contains","undefined","splice","destroyObject_","setInitialFormParams_","forms","updateInitialDestroyIcons_","render","scrollPage","scrollTo","windowScrollHandler","vkontakte","img","popup","facebook","twitter","telegram","socialType","yaCounter32652805","reachGoal","buttonsSelector","assert","shareButtons","shareData","newsItem","news","hided","item","currentButtonClicked","buttons","input","buttonCallback","submitCallback","action","targetId","isMultiple","multiple","fillForm","alreadyAddedInput","field","files","getFileObject","validateExtension","validateMIME","validateSize","size","toFixed","className","response","callback","eval","error_description","fileInput","getFile","fileObj","accept","ext","match","maxSize","targetView","loadScript","vkApiScript","showWidget","VK","Widgets","Group"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./public/app/js/main.js\");\n","!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports.deeplinker=n():e.deeplinker=n()}(window,function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=\"\",t(t.s=0)}([function(e,n,t){\"use strict\";var o,r,i,u,c,f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};\n/**\n * Helps to set link with custom protocol (to open apps) and usual link (for webpages) to a button\n *\n * @author Taly Guryn <https://github.com/talyguryn>\n * @license MIT\n */e.exports=(o=function(e){\"object\"!==(void 0===e?\"undefined\":f(e))&&c(\"Passed element is not an object\");var n=e.dataset.link||e.href,t=e.dataset.appLink;i(t,n)},r=function(e){e||c(\"Can not open app, because appLink is undefined\");var n=document.createElement(\"iframe\");n.style.display=\"none\",document.body.appendChild(n),null!==n&&(n.src=e)},i=function(e,n){var t=!1;window.addEventListener(\"pagehide\",function(){t=!0},!1),window.addEventListener(\"blur\",function(){t=!0},!1),r(e),setTimeout(function(){t||u(n)},100)},u=function(e){e||c(\"Can not open page because link is undefined\"),window.open(e,\"_blank\")},c=function(e){throw Error(\"[Deeplinker] \"+e)},{click:o,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\".deeplinker\",n=document.querySelectorAll(e);n.length&&Array.prototype.slice.call(n).forEach(function(e){e.addEventListener(\"click\",function(n){n.preventDefault(),o(e)})})},tryToOpenApp:r})}])});","require('../css/main.css');\n\n/**\n * CodeX community id at vk.com.\n * used by vkWidget module\n */\nconst VK_COMMUNITY_ID = 103229636;\n\nvar codex = (function (codex_) {\n\n    'use strict';\n\n    codex_.settings = {};\n\n    /**\n    * Preparation method\n    */\n    codex_.init = function (settings) {\n\n        /** Save settings or use defaults */\n        for (var set in settings ) {\n\n            this.settings[set] = settings[set] || this.settings[set] || null;\n\n        }\n\n        codex.scrollUp.init();\n\n        /**\n         * Find elements with \"deeplinker\" class and add click listener\n         *\n         * @param {string} selector\n         */\n        codex.deeplinker.init('.deeplinker');\n\n        codex.codeStyling.init('.article-code__content');\n\n        codex.vkWidget.init({\n            id: 'vk_groups',\n            display: {\n                'mode': 3,\n                'width': 'auto'\n            },\n            communityId: VK_COMMUNITY_ID\n        });\n\n        /**\n         * Acitve play-video buttons\n         */\n        let playVideoButton = document.querySelector('[name=\"js-show-player\"]');\n\n        if (playVideoButton) {\n\n            const Player = require('./modules/player').default;\n\n            new Player({\n                sourceURL: 'public/app/img/products/ar-tester.mp4',\n                toggler: playVideoButton,\n                wrapperSelector : '.product-card--ar-tester'\n            });\n\n        }\n\n    };\n\n    return codex_;\n\n})({});\n\n/**\n* Document ready event listener\n* @usage codex.docReady(function(){ # code ... } );\n*/\ncodex.docReady = function (f) {\n\n    return /in/.test(document.readyState) ? window.setTimeout(codex.docReady, 9, f) : f();\n\n};\n\n/**\n* Pages\n*/\ncodex.admin = require('./modules/admin');\ncodex.join = require('./modules/join');\n\n\n/**\n * Modules\n */\ncodex.core = require('./modules/core');\ncodex.dragndrop = require('./modules/dragndrop');\ncodex.scrollUp = require('./modules/scrollUp');\ncodex.sharer = require('./modules/sharer');\ncodex.developer = require('./modules/bestDevelopers');\n// codex.simpleCode = require('./modules/simpleCodeStyling');\ncodex.showMoreNews = require('./modules/showMoreNews');\ncodex.polyfills = require('./modules/polyfills');\ncodex.ajax = require('./modules/ajax');\ncodex.profile = require('./modules/profile');\ncodex.helpers = require('./modules/helpers');\ncodex.quiz = require('./modules/quiz');\ncodex.quizForm = require('./modules/quizForm');\ncodex.transport = require('./modules/transport');\ncodex.vkWidget = require('./modules/vkWidget');\ncodex.codeStyling = require('./modules/codeStyling');\ncodex.deeplinker = require('@codexteam/deeplinker');\n\nmodule.exports = codex;\n\n","/**\n * Admin page methods\n */\nmodule.exports = function (admin) {\n\n    /**\n     * Initializes dragndrop module\n     * @uses  codex.dragndrop\n     */\n    function initDragNDrop() {\n\n        codex.dragndrop({\n            droppableClass: 'list-item',\n\n            findDraggable: function (e) {\n\n                var target = e.target.closest('.draggable');\n\n                if (target) return target.closest('.list-item');\n\n                return null;\n\n            },\n\n            makeAvatar: function (elem) {\n\n                var avatar = {};\n\n                avatar.elem = elem.cloneNode(true);\n                avatar.elem.classList.add('dnd-avatar');\n\n                elem.parentNode.insertBefore(avatar.elem, elem.nextSibling);\n                elem.classList.add('no-display');\n\n                avatar.rollback = function () {\n\n                    avatar.elem.parentNode.removeChild(avatar.elem);\n                    elem.classList.remove('no-display');\n\n                };\n\n                return avatar;\n\n            },\n\n            targetChanged: function (target, newTarget, avatar) {\n\n                if (!newTarget) return;\n\n                var targetPosition = newTarget.compareDocumentPosition(avatar.elem);\n\n                if (targetPosition&4) {\n\n                    newTarget.parentNode.insertBefore(avatar.elem, newTarget);\n\n                } else if (targetPosition&2) {\n\n                    newTarget.parentNode.insertBefore(avatar.elem, newTarget.nextSibling);\n\n                }\n\n            },\n\n            move: function () {},\n\n            targetReached: function (target, avatar, elem) {\n\n                target.parentNode.insertBefore(elem, target.nextSibling);\n\n                avatar.elem.parentNode.removeChild(avatar.elem);\n                elem.classList.remove('no-display');\n\n                var itemId = elem.dataset.id,\n                    itemType = elem.dataset.type,\n                    itemBelowValue = null,\n                    nextSibling;\n\n                if (nextSibling == elem.nextElementSibling) {\n\n                    itemBelowValue = nextSibling.dataset.type + ':' + nextSibling.dataset.id;\n\n                }\n\n                var ajaxData = {\n                    success: function () {\n\n                        document.getElementById('saved').classList.remove('top-menu__saved_hidden');\n\n                        window.setTimeout(function () {\n\n                            document.getElementById('saved').classList.add('top-menu__saved_hidden');\n\n                        }, 1000);\n\n                    },\n                    type: 'POST',\n                    url: '/admin/feed',\n                    data: JSON.stringify({\n                        'item_id': itemId,\n                        'item_type': itemType,\n                        'item_below_value': itemBelowValue\n                    })\n                };\n\n\n                codex.core.ajax(ajaxData);\n\n            }\n        });\n        // body...\n\n    }\n\n    /**\n     * Module initialization\n     * @param  {Object}      params             - init params\n     * @param  {String|null} params.listType    - feed list type (\"cards\"|\"list\")\n     */\n    admin.init = function ( params ) {\n\n        codex.core.log('Initialized.', 'Module admin');\n\n        if ( params.listType == 'cards' ) {\n\n            var items = document.querySelectorAll('.feed-item');\n\n            for (var i = items.length-1; i > -1; i--) {\n\n                items[i].classList.add('draggable');\n                items[i].classList.add('feed-item--dnd');\n                items[i].classList.add('list-item');\n\n            }\n\n        }\n\n        initDragNDrop();\n\n    };\n\n    return admin;\n\n}({});\n","var ajax = function () {\n\n    var xhr_ = function ( xhr ) {\n\n        var objectToQueryString = function (a) {\n\n            var prefix, s, add, name, r20, output;\n\n            s = [];\n            r20 = /%20/g;\n            add = function (key, value) {\n\n                // If value is a function, invoke it and return its value\n                if (typeof value == 'function') {\n\n                    value = value();\n\n                } else {\n\n                    value = value === null ? '' : value;\n\n                }\n\n                s[ s.length ] = encodeURIComponent(key) + '=' + encodeURIComponent(value);\n\n            };\n            if (a instanceof Array) {\n\n                for (name in a) {\n\n                    add(name, a[name]);\n\n                }\n\n            } else {\n\n                for (prefix in a) {\n\n                    buildParams(prefix, a[ prefix ], add);\n\n                }\n\n            }\n            output = s.join('&').replace(r20, '+');\n            return output;\n\n        };\n\n        var buildParams = function (prefix, obj, add) {\n\n            var name, i, l, rbracket;\n\n            rbracket = /\\[\\]$/;\n            if (obj instanceof Array) {\n\n                for (i = 0, l = obj.length; i < l; i++) {\n\n                    if (rbracket.test(prefix)) {\n\n                        add(prefix, obj[i]);\n\n                    } else {\n\n                        buildParams(prefix + '[' + ( typeof obj[i] === 'object' ? i : '' ) + ']', obj[i], add);\n\n                    }\n\n                }\n\n            } else if (typeof obj == 'object') {\n\n                // Serialize object item.\n                for (name in obj) {\n\n                    buildParams(prefix + '[' + name + ']', obj[ name ], add);\n\n                }\n\n            } else {\n\n                // Serialize scalar item.\n                add(prefix, obj);\n\n            }\n\n        };\n\n        xhr.call = function ( data ) {\n\n            if ( !data || !data.url ) {\n\n                console.warn('url wasn\\'t passed into ajax method' );\n                return;\n\n            }\n\n            var XMLHTTP              = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'),\n                successCallback;\n\n            data.type         = data.type || 'GET';\n            data.url          = data.url;\n            data.async        = data.async || false;\n            data.data         = data.data || '';\n            data.formData     = data.formData || false;\n            data['content-type'] = data.contentType || 'text/html';\n            successCallback      = data.success || successCallback ;\n\n            if ( data.type == 'GET' && data.data ) {\n\n                data.url = /\\?/.test(data.url) ? data.url + '&' + data.data : data.url + '?' + data.data;\n\n            }\n\n            if (data.beforeSend && typeof data.beforeSend == 'function') {\n\n                data.beforeSend.call();\n\n            }\n\n            XMLHTTP.open( data.type, data.url, data.async );\n            XMLHTTP.setRequestHeader('Content-type', data['content-type'] );\n            XMLHTTP.setRequestHeader('Connection', 'close');\n            XMLHTTP.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n            XMLHTTP.onreadystatechange = function () {\n\n                if ( XMLHTTP.readyState == 4 && XMLHTTP.status == 200 && successCallback) {\n\n                    successCallback.call(XMLHTTP.responseText);\n\n                }\n\n            };\n\n            XMLHTTP.send( data.formData || objectToQueryString(data.data) );\n\n        };\n\n\n        xhr.parseHTML = function (markup) {\n\n            var doc = document.implementation.createHTMLDocument('');\n\n            if (markup.toLowerCase().indexOf('<!doctype') > -1) {\n\n                doc.documentElement.innerHTML = markup;\n\n            } else {\n\n                doc.body.innerHTML = markup;\n\n            }\n            return doc;\n\n        };\n\n        /**\n         * Adapted from {@link http://www.bulgaria-web-developers.com/projects/javascript/serialize/}\n         * Changes:\n         *     Ensures proper URL encoding of name as well as value\n         *     Preserves element order\n         *     XHTML and JSLint-friendly\n         *     Disallows disabled form elements and reset buttons as per HTML4 [successful controls]{@link http://www.w3.org/TR/html401/interact/forms.html#h-17.13.2}\n         *         (as used in jQuery). Note: This does not serialize <object>\n         *         elements (even those without a declare attribute) or\n         *         <input type=\"file\" />, as per jQuery, though it does serialize\n         *         the <button>'s (which are potential HTML4 successful controls) unlike jQuery\n         * @license MIT/GPL\n        */\n        xhr.serialize = function (form) {\n\n            'use strict';\n\n            var i, j, len, jLen, formElement, q = [];\n\n            function urlencode(str) {\n\n                // http://kevin.vanzonneveld.net\n                // Tilde should be allowed unescaped in future versions of PHP (as reflected below), but if you want to reflect current\n                // PHP behavior, you would need to add \".replace(/~/g, '%7E');\" to the following.\n                return encodeURIComponent(str).replace(/!/g, '%21').replace(/'/g, '%27').replace(/\\(/g, '%28').\n                    replace(/\\)/g, '%29').replace(/\\*/g, '%2A').replace(/%20/g, '+');\n\n            }\n            function addNameValue(name, value) {\n\n                q.push(urlencode(name) + '=' + urlencode(value));\n\n            }\n            if (!form || !form.nodeName || form.nodeName.toLowerCase() !== 'form') {\n\n                throw 'You must supply a form element';\n\n            }\n            for (i = 0, len = form.elements.length; i < len; i++) {\n\n                formElement = form.elements[i];\n                if (formElement.name === '' || formElement.disabled) {\n\n                    continue;\n\n                }\n                switch (formElement.nodeName.toLowerCase()) {\n\n                    case 'input':\n                        switch (formElement.type) {\n\n                            case 'text':\n                            case 'email':\n                            case 'hidden':\n                            case 'password':\n                            case 'button': // Not submitted when submitting form manually, though jQuery does serialize this and it can be an HTML4 successful control\n                            case 'submit':\n                                addNameValue(formElement.name, formElement.value);\n                                break;\n                            case 'checkbox':\n                            case 'radio':\n                                if (formElement.checked) {\n\n                                    addNameValue(formElement.name, formElement.value);\n\n                                }\n                                break;\n                            case 'file':\n                            // addNameValue(formElement.name, formElement.value); // Will work and part of HTML4 \"successful controls\", but not used in jQuery\n                                break;\n                            case 'reset':\n                                break;\n\n                        }\n                        break;\n                    case 'textarea':\n                        addNameValue(formElement.name, formElement.value);\n                        break;\n                    case 'select':\n                        switch (formElement.type) {\n\n                            case 'select-one':\n                                addNameValue(formElement.name, formElement.value);\n                                break;\n                            case 'select-multiple':\n                                for (j = 0, jLen = formElement.options.length; j < jLen; j++) {\n\n                                    if (formElement.options[j].selected) {\n\n                                        addNameValue(formElement.name, formElement.options[j].value);\n\n                                    }\n\n                                }\n                                break;\n\n                        }\n                        break;\n                    case 'button': // jQuery does not submit these, though it is an HTML4 successful control\n                        switch (formElement.type) {\n\n                            case 'reset':\n                            case 'submit':\n                            case 'button':\n                                addNameValue(formElement.name, formElement.value);\n                                break;\n\n                        }\n                        break;\n\n                }\n\n            }\n\n            return q.join('&');\n\n        };\n\n    };\n\n    return {\n        xhr : xhr_\n    };\n\n}({});\n\nmodule.exports = ajax;\n","/**\n * codex.bestDevelopers module\n * Sets best developers values in admin/user for further output in templates/developers.php\n */\nvar developer = function () {\n\n    var bind = function () {\n\n        var chBoxes = document.querySelectorAll('.developer-checkbox');\n\n        for (var i = chBoxes.length-1; i > -1; i--) {\n\n            chBoxes[i].addEventListener('change', toggle);\n\n        }\n\n    };\n\n    /**\n     * Sends ajax data 0 or 1, whether user is best developer or not\n     * @param {Event} event\n     * @uses codex.core.ajax\n     */\n\n    var toggle = function (event) {\n\n        var data = {\n            data: 'id='+event.target.id+'&value='+(event.target.checked?1:0),\n            url: '/admin/developer'\n        };\n\n        codex.core.ajax(data);\n\n    };\n\n    return {\n        bind: bind\n    };\n\n}();\n\nmodule.exports = developer;\n","/**\n * Code Styling module\n */\nmodule.exports = function codeStyling() {\n\n    'use strict';\n\n    /**\n     * DOM manipulations helper\n     */\n    const $ = require('./dom').default;\n\n    /**\n     * Extrnal library for code styling\n     * @link https://highlightjs.org\n     * @type {Object}\n     */\n    const library = {\n        js: '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js',\n        css : '//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css'\n    };\n\n    /**\n     * Loads styling library\n     */\n    let prepare = function () {\n\n        return Promise.all([\n            $.loadResource('JS', library.js, 'highlight'),\n            $.loadResource('CSS', library.css, 'highlight')\n        ]).catch( err => console.warn('Cannot load code styling module: ', err))\n            .then( () => console.log('Code Styling is ready') );\n\n    };\n\n    /**\n     * Finds code blocks and fires highlighting\n     * @param {String} codeBlocksSelector - where to find <code> blocks\n     */\n    let init = function (codeBlocksSelector) {\n\n        let codeBlocks = document.querySelectorAll(codeBlocksSelector);\n\n        if (codeBlocks) {\n\n            prepare().then( () => {\n\n                if (!window.hljs) {\n\n                    console.warn('Code Styling script loaded but not ready');\n                    return;\n\n                }\n\n                for (var i = codeBlocks.length - 1; i >= 0; i--) {\n\n                    window.hljs.highlightBlock(codeBlocks[i]);\n\n                }\n\n            });\n\n        }\n\n    };\n\n    return {\n        init\n    };\n\n}();\n","/**\n* Significant core methods\n*/\nmodule.exports =  function () {\n\n    /** Logging method */\n    var log = function (str, prefix, type, arg) {\n\n        var staticLength = 32;\n\n        if (prefix) {\n\n            prefix = prefix.length < staticLength ? prefix : prefix.substr( 0, staticLength - 2 );\n\n            while (prefix.length < staticLength - 1) {\n\n                prefix += ' ';\n\n            }\n\n            prefix += ':';\n            str = prefix + str;\n\n        }\n\n        type = type || 'log';\n\n        try {\n\n            if ('console' in window && window.console[ type ]) {\n\n                if (arg) console[type](str, arg);\n                else console[type](str);\n\n            }\n\n        } catch(e) {}\n\n    };\n\n    /**\n    * Native ajax method.\n    * @param {Object} data\n    */\n    var ajax = function (data) {\n\n        if (!data || !data.url) {\n\n            return;\n\n        }\n\n        var XMLHTTP          = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'),\n            successFunction  = function () {};\n\n        data.async           = true;\n        data.type            = data.type || 'GET';\n        data.data            = data.data || '';\n        data['content-type'] = data['content-type'] || 'application/json; charset=utf-8';\n        successFunction     = data.success || successFunction ;\n\n        if (data.type == 'GET' && data.data) {\n\n            data.url = /\\?/.test(data.url) ? data.url + '&' + data.data : data.url + '?' + data.data;\n\n        }\n\n        if (data.withCredentials) {\n\n            XMLHTTP.withCredentials = true;\n\n        }\n\n        if (data.beforeSend && typeof data.beforeSend == 'function') {\n\n            data.beforeSend.call();\n\n        }\n\n        XMLHTTP.open( data.type, data.url, data.async );\n        XMLHTTP.setRequestHeader('Content-type', data['content-type'] );\n        XMLHTTP.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        XMLHTTP.onreadystatechange = function () {\n\n            if (XMLHTTP.readyState == 4 && XMLHTTP.status == 200) {\n\n                successFunction(XMLHTTP.responseText);\n\n            }\n\n        };\n\n        XMLHTTP.send(data.data);\n\n    };\n\n\n    return {\n        ajax : ajax,\n        log : log\n    };\n\n}();\n","/**\n * DOM manipulations methods\n */\nexport default class DOM {\n\n    /**\n     * Helper for making Elements with classname and attributes\n     * @param  {string} tagName           - new Element tag name\n     * @param  {array|string} classNames  - list or name of CSS classname(s)\n     * @param  {Object} attributes        - any attributes\n     * @return {Element}\n     */\n    static make(tagName, classNames, attributes) {\n\n        var el = document.createElement(tagName);\n\n        if ( Array.isArray(classNames) ) {\n\n            el.classList.add(...classNames);\n\n        } else if( classNames ) {\n\n            el.classList.add(classNames);\n\n        }\n\n        for (let attrName in attributes) {\n\n            el[attrName] = attributes[attrName];\n\n        }\n\n        return el;\n\n    }\n\n    /**\n     * Replaces node with\n     * @param {Element} nodeToReplace\n     * @param {Element} replaceWith\n     */\n    static replace(nodeToReplace, replaceWith) {\n\n        return nodeToReplace.parentNode.replaceChild(replaceWith, nodeToReplace);\n\n    }\n\n    /**\n     * getElementById alias\n     * @param {String} elementId\n     */\n    static get(elementId) {\n\n        return document.getElementById(elementId);\n\n    }\n\n    /**\n     * Loads static resourse: CSS or JS\n     * @param {string} type  - CSS|JS\n     * @param {string} path  - resource path\n     * @param {string} inctanceName - unique name of resource\n     * @return Promise\n     */\n    static loadResource(type, path, instanceName) {\n\n        /**\n         * Imported resource ID prefix\n         * @type {String}\n         */\n        const resourcePrefix = 'cdx-resourse';\n\n        return new Promise(function (resolve, reject) {\n\n            if (!type || !['JS', 'CSS'].includes(type)) {\n\n                reject(`Unexpected resource type passed. «CSS» or «JS» expected, «${type}» passed`);\n\n            }\n\n            let node;\n\n            /** Script is already loaded */\n            if ( !instanceName ) {\n\n                reject('Instance name is missed');\n\n            } else if ( document.getElementById(`${resourcePrefix}-${type.toLowerCase()}-${instanceName}`) ) {\n\n                resolve(path);\n\n            }\n\n            if (type === 'JS') {\n\n                node = document.createElement('script');\n                node.async = true;\n                node.defer = true;\n                node.charset = 'utf-8';\n\n            } else {\n\n                node = document.createElement('link');\n                node.rel = 'stylesheet';\n\n            }\n\n            node.id = `${resourcePrefix}-${type.toLowerCase()}-${instanceName}`;\n\n            let timerLabel = `Resource loading ${type} ${instanceName}`;\n\n            console.time(timerLabel);\n\n            node.onload = function () {\n\n                console.timeEnd(timerLabel);\n                resolve(path);\n\n            };\n\n            node.onerror = function () {\n\n                console.timeEnd(timerLabel);\n                reject(path);\n\n            };\n\n            if (type === 'JS') {\n\n                node.src = path;\n\n            } else {\n\n                node.href = path;\n\n            }\n\n            document.head.appendChild(node);\n\n        });\n\n    }\n\n}\n","module.exports = function (settings) {\n\n    var defaultHandlers = {\n        findDraggable: function (e) {\n\n            return e.target.closest('.'+draggableClass);\n\n        },\n\n        findDroppable: function (e) {\n\n            return document.elementFromPoint(e.clientX, e.clientY).closest('.'+droppableClass);\n\n        },\n\n        /**\n         * The simplest makeAvatar method.\n         *\n         * Just set elem to avatar.elem. And remembers element position in document.\n         * If drop isn`t success, returns elem to start position.\n         */\n        makeAvatar: function (elem) {\n\n            var avatar = {};\n\n            var avatarRollback = function () {\n\n                avatar.elem.classList.remove('dnd-default-avatar');\n\n                if (avatar.nextSibling)\n                    avatar.parentNode.insertBefore(avatar.elem, avatar.nextSibling);\n                else\n                    avatar.parentNode.appendChild(avatar.elem);\n\n                delete(dragObj.avatar);\n\n            };\n\n            avatar = {\n                elem: elem,\n                parentNode: elem.parentNode,\n                nextSibling: elem.nextElementSibling,\n                rollback: avatarRollback\n            };\n\n            // Set avatar position: absolute; for drag'n'drop\n            avatar.elem.classList.add('dnd-default-avatar');\n\n            return avatar;\n\n        },\n\n        /**\n         * Highlights droppable elements under cursor with border\n         */\n        targetChanged: function (target, newTarget) {\n\n            if (target) target.classList('dnd-default-target-highlight');\n\n            if (newTarget) newTarget.classList.add('dnd-default-target-highlight');\n\n        },\n\n        move: function (e, avatar, shift) {\n\n            avatar.elem.style.left = e.pageX - shift.x + 'px';\n            avatar.elem.style.top = e.pageY - shift.y + 'px';\n\n        },\n\n        /**\n         * Inserts elem into document if drop is success\n         */\n        targetReached: function (target, avatar, elem) {\n\n            target.classList.remove('dnd-default-target-highlight');\n            target.parentNode.insertBefore(elem, target.nextElementSibling);\n            avatar.elem.classList.remove('dnd-default-avatar');\n\n        }\n    };\n\n    var draggableClass  = settings.draggableClass   || 'draggable',\n        droppableClass   = settings.droppableClass    || 'droppable',\n        findDraggable   = settings.findDraggable    || defaultHandlers.findDraggable,\n        findDroppable    = settings.findDroppable     || defaultHandlers.findDroppable,\n        makeAvatar      = settings.makeAvatar       || defaultHandlers.makeAvatar,\n        targetChanged   = settings.targetChanged    || defaultHandlers.targetChanged,\n        move            = settings.move             || defaultHandlers.move,\n        targetReached   = settings.targetReached    || defaultHandlers.targetReached;\n\n    var dragObj = {};\n\n    var onMouseDown = function (e) {\n\n        /**\n         * Check mouse (which=1 - right mouse button) or touch (which=0 - touch) event.\n         */\n        if (e.which > 1) return;\n\n        e = touchSupported(e);\n\n        dragObj.clickedAt = {\n            x: e.pageX,\n            y: e.pageY\n        };\n\n        dragObj.elem = findDraggable(e);\n\n        if (!dragObj.elem) return;\n\n        toggleSelection();\n\n        var coords = getCoords(dragObj.elem);\n\n        dragObj.shift = {\n            x: e.pageX - coords.x,\n            y: e.pageY - coords.y\n        };\n\n    };\n\n    var onMouseMove = function (e) {\n\n        if (!dragObj.elem) return;\n\n        // Prevent touchmove scroll\n        e.preventDefault();\n\n        e = touchSupported(e);\n\n        // Check mouse offset. If x or y offset <5, assume that it`s accidental move\n        if (Math.abs(e.pageX - dragObj.clickedAt.x) < 5 && Math.abs(e.pageY - dragObj.clickedAt.y) < 5) return;\n\n        if (!dragObj.avatar) {\n\n            dragObj.avatar = makeAvatar(dragObj.elem);\n\n        }\n\n        var newTarget = findDroppable(e);\n\n        if (newTarget != dragObj.target) {\n\n            targetChanged(dragObj.target, newTarget, dragObj.avatar);\n\n            dragObj.target = newTarget;\n\n        }\n\n\n        move(e, dragObj.avatar, dragObj.shift);\n\n    };\n\n    var onMouseUp = function (e) {\n\n        if (e.which > 1) return;\n\n        if (!dragObj.avatar) {\n\n            dragObj = {};\n            return;\n\n        }\n\n        e = touchSupported(e);\n\n        var target = findDroppable(e);\n\n        if (target)\n            targetReached(target, dragObj.avatar, dragObj.elem, e);\n        else\n            dragObj.avatar.rollback();\n\n        dragObj = {};\n\n        toggleSelection();\n\n    };\n\n    var getCoords = function (elem) {\n\n        var rect = elem.getBoundingClientRect();\n\n        return {\n            x: rect.left + window.pageXOffset,\n            y: rect.top + window.pageYOffset\n        };\n\n    };\n\n    var touchSupported = function (e) {\n\n        if (e.changedTouches)\n            var touch = e.changedTouches[0];\n\n        else\n            return e;\n\n        e.pageX = touch.pageX;\n        e.pageY = touch.pageY;\n\n        e.clientX = touch.clientX;\n        e.clientY = touch.clientY;\n\n        e.screenX = touch.screenX;\n        e.screenY = touch.screenY;\n\n        e.target = touch.target;\n\n        return e;\n\n    };\n\n    var toggleSelection = function () {\n\n        document.body.classList.toggle('no-selection');\n\n    };\n\n\n    document.addEventListener('mousedown', onMouseDown);\n    document.addEventListener('touchstart', onMouseDown);\n\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('touchmove', onMouseMove);\n\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('touchend', onMouseUp);\n\n    document.ondragstart = function () {\n\n        return false;\n\n    };\n\n};\n","module.exports = (function (helpers) {\n\n    helpers.setCookie = function (name, value, expires, path, domain) {\n\n        var str = name + '='+value;\n\n        if (expires) str += '; expires=' + expires.toGMTString();\n        if (path)    str += '; path=' + path;\n        if (domain)  str += '; domain=' + domain;\n        document.cookie = str;\n\n    };\n\n    helpers.getCookie = function (name) {\n\n        var dc = document.cookie;\n\n        var prefix = name + '=';\n        var begin = dc.indexOf('; ' + prefix);\n\n        if (begin == -1) {\n\n            begin = dc.indexOf(prefix);\n            if (begin !== 0) return null;\n\n        } else\n            begin += 2;\n\n        var end = document.cookie.indexOf(';', begin);\n\n        if (end == -1) end = dc.length;\n\n        return unescape(dc.substring(begin + prefix.length, end));\n\n    };\n\n    helpers.getOffset = function ( el ) {\n\n        var _x = 0;\n        var _y = 0;\n\n        while( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {\n\n            _x += (el.offsetLeft + el.clientLeft);\n            _y += (el.offsetTop + el.clientTop);\n            el = el.offsetParent;\n\n        }\n        return { top: _y, left: _x };\n\n    };\n\n    return helpers;\n\n})({});","/**\n * Module for /join page\n * Blocks writing without authorization\n *\n * Toggles into view blankAdditionalFields: Name and Surname, Email\n */\nvar join = function () {\n\n    const animationClass = 'wobble';\n\n    /**\n    * Module initialization\n    */\n    var init = function () {\n\n        var joinBlank = document.getElementById('joinBlank');\n\n        if ( typeof joinBlank != 'undefined' && joinBlank !== null ) {\n\n            var joinBlankTextareas = joinBlank.getElementsByTagName('textarea');\n\n            if (joinBlankTextareas.length) {\n\n                for (var i = joinBlankTextareas.length - 1; i >= 0; i--) {\n\n                    joinBlankTextareas[i].addEventListener('keyup', checkUserCanEdit, false);\n\n                }\n\n            }\n\n        }\n\n        var blankShowAdditionalFieldsButton = document.getElementById('blankShowAdditionalFieldsButton');\n\n        if ( typeof blankShowAdditionalFieldsButton != 'undefined' && blankShowAdditionalFieldsButton !== null ) {\n\n            blankShowAdditionalFieldsButton.addEventListener('click', showAdditionalFields, false);\n\n        }\n\n    };\n\n    /**\n     * Adds wobble-effect to Auth block if user starts typing into textarea unauthorized\n     * @param {Event} event\n     */\n    let checkUserCanEdit = function (event) {\n\n        var textarea       = event.target,\n            blankAuthBlock = document.getElementById('js-join-auth'),\n            emailInput     = document.getElementById('js-email');\n\n        if (blankAuthBlock && !emailInput.value.length ) {\n\n            blankAuthBlock.classList.add(animationClass);\n\n            window.setTimeout(() => blankAuthBlock.classList.remove(animationClass), 450);\n\n            textarea.value = '';\n\n        }\n\n    };\n\n    /**\n     * Toggles into view blankAdditionalFields: Name and Surname, Email\n     * @param {Event} event\n     */\n    var showAdditionalFields = function () {\n\n        var blankAdditionalFields = document.getElementById('blankAdditionalFields');\n\n        blankAdditionalFields.classList.toggle('hide');\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = join;\n","/**\n * DOM manipulation methods\n */\nimport $ from './dom';\n\n/**\n * @class  Player\n * @classdesc Simple player on the overlay container\n *\n * @typedef {Player}\n * @property {String} sourceURL - video URL\n * @property {Element} toggler  - Play Button\n * @property {Element} wrapper  - In wich Element player should be added\n * @property {Element} overlay  - Player main container\n * @property {Object} CSS       - CSS dictionary\n *\n */\nexport default class Player {\n\n    /**\n     * @constructor\n     * @param  {String} options.sourceURL        - video URL\n     * @param  {Element} options.toggler         - play button\n     * @param  {String} options.wrapperSelector  - xpath selector for the player holder\n     */\n    constructor({sourceURL, toggler, wrapperSelector}) {\n\n        this.sourceURL = sourceURL;\n        this.toggler = toggler;\n        this.wrapper = document.querySelector(wrapperSelector);\n        this.overlay = null;\n\n        this.CSS = {\n            overlay: 'video-overlay',\n            overlayShowed: 'video-overlay--showed',\n            overlayLoaded: 'video-overlay--loaded',\n            closeButton: 'video-overlay__close'\n        };\n\n        /**\n         * Add Play Button click listener\n         */\n        this.toggler.addEventListener('click', () => {\n\n            this.showVideoOverlay();\n\n        }, false);\n\n    }\n\n    /**\n     * Creates player container and append it to the parent element\n     */\n    showVideoOverlay() {\n\n        this.overlay = $.make('div', this.CSS.overlay);\n\n        let video = $.make('video', null, {\n                autoplay: true,\n                loop: true\n            }),\n            source = $.make('source', null, {\n                src: this.sourceURL,\n                type: 'video/mp4'\n            }),\n            closeButton = $.make('div', this.CSS.closeButton);\n\n        /**\n         * Append <video>\n         */\n        video.appendChild(source);\n        this.overlay.appendChild(video);\n\n        /**\n         * Bind loading callback\n         */\n        video.addEventListener('loadeddata', () => {\n\n            this.videoLoaded();\n\n        });\n\n        /**\n         * Activate close button\n         */\n        this.overlay.appendChild(closeButton);\n        closeButton.addEventListener('click', () => {\n\n            this.close();\n\n        });\n\n        /**\n         * Add overlay to the wrapper\n         */\n        this.wrapper.appendChild(this.overlay);\n        window.setTimeout(() => {\n\n            this.overlay.classList.add(this.CSS.overlayShowed);\n\n        }, 50);\n\n    }\n\n    /**\n     * Video loaded callback\n     * Shows player\n     */\n    videoLoaded() {\n\n        this.wrapper.classList.add(this.CSS.overlayLoaded);\n\n    }\n\n    /**\n     * Removes overlay with video\n     */\n    close() {\n\n        this.overlay.remove();\n        this.overlay = null;\n\n    }\n\n}\n","\nvar polyfills = function () {\n\n    /**\n     * Polyfilling ECMAScript 6 method String.includes\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes#Browser_compatibility\n     */\n    if ( !String.prototype.includes ) {\n\n        String.prototype.includes = function () {\n\n            'use strict';\n\n            return String.prototype.indexOf.apply(this, arguments) !== -1;\n\n        };\n\n    }\n\n\n    /**\n     * Polyfill for Element.prototype.matches method\n     */\n    if (!Element.prototype.matches) {\n\n        Element.prototype.matches = Element.prototype.matchesSelector ||\n                                        Element.prototype.webkitMatchesSelector ||\n                                        Element.prototype.mozMatchesSelector ||\n                                        Element.prototype.msMatchesSelector;\n\n    }\n\n    /**\n     * Polyfill for Element.prototype.closest method\n     */\n    if (!Element.prototype.closest) {\n\n        Element.prototype.closest = function (selector) {\n\n            var node = this;\n\n            while (node) {\n\n                if (node.matches(selector)) return node;\n                node = node.parentElement;\n\n            }\n\n            return null;\n\n        };\n\n    };\n\n}({});\n\nmodule.exports = polyfills;\n","/**\n * Profile page methods\n */\nmodule.exports = function () {\n\n    /**\n     * Photo uploading success-callback\n     * Fired by transport\n     * @param  {string} newPhotoURL - uploaded file URL\n     */\n    var uploadPhotoSuccess = function (newPhotoURL) {\n\n        var settingsPhoto = document.getElementById('profile-photo-updatable'),\n            headerPhoto   = document.getElementById('header-avatar-updatable');\n\n        settingsPhoto.src = newPhotoURL;\n        headerPhoto.src   = newPhotoURL;\n\n    };\n\n    return {\n        uploadPhotoSuccess,\n    };\n\n}();\n","/**\n * Модуль quiz с единственным публичным методом quiz.init()\n */\nmodule.exports = (function () {\n\n    var quizData            = null,\n        numberOfQuestions   = null,\n        currentQuestion     = null,\n        score               = null,\n        maxScore            = null;\n\n\n    /**\n     * Публичный метод init.\n     *\n     * @param {object} quizDataInput  - объект с информацией о тесте\n     * @param {string} holder - id элемента, в который будет выводиться тест\n     */\n    var init = function (quizDataInput, holder) {\n\n        quizData = quizDataInput;\n        numberOfQuestions = quizData.questions.length;\n        currentQuestion = 0;\n        score = 0;\n\n        gameProcessing_.prepare();\n        UI_.prepare(holder);\n        UI_.setupQuestionInterface();\n\n    };\n\n    var UI_ = {\n\n        holder: null,\n        currentQuestionObj: null,\n\n        // Объект, в котором будут храниться DOM-элементы, связанные с отображением вопроса\n        questionElems: null,\n\n        prepare: function (holder) {\n\n            UI_.holder = document.getElementById(holder);\n            UI_.holder.classList.add('quiz');\n            UI_.holder.classList.add('clearfix');\n\n        },\n\n        /**\n         * Создаем элементы для вывода теста, заносим их в UI_.questionElems и выводим на страницу.\n         */\n        setupQuestionInterface: function () {\n\n            UI_.clear();\n\n            var title,\n                optionsHolder,\n                counter,\n                nextButton;\n\n            title = UI_.createElem('div', 'quiz__question-title');\n\n            optionsHolder = UI_.createElem('div', 'quiz__question-options');\n\n            counter = UI_.createElem('div', 'quiz__question-counter');\n\n            nextButton = UI_.createElem('input', ['quiz__question-button', 'quiz__question-button_next']);\n\n            nextButton.setAttribute('type', 'button');\n            nextButton.setAttribute('value', 'Далее →');\n\n            UI_.questionElems = {\n                counter: counter,\n                title: title,\n                optionsHolder: optionsHolder,\n                options: [],\n                nextButton: nextButton\n            };\n\n            UI_.append(UI_.questionElems);\n\n            UI_.showQuestion();\n\n        },\n\n        /**\n         * Выводим текущий вопрос на страницу (вопрос, варианты ответа и счетчик)\n         */\n        showQuestion: function () {\n\n            UI_.clear(UI_.questionElems.optionsHolder);\n            UI_.questionElems.options = [];\n            UI_.questionElems.nextButton.removeEventListener('click', UI_.showQuestion);\n            UI_.currentQuestionObj = quizData.questions[currentQuestion];\n\n            UI_.questionElems.nextButton.setAttribute('disabled', true);\n\n            UI_.questionElems.title.textContent = UI_.currentQuestionObj.title;\n            UI_.questionElems.counter.textContent = currentQuestion + 1 + '/' + numberOfQuestions;\n\n            UI_.currentQuestionObj.answers.map(UI_.createOption);\n\n        },\n\n        answerSelected: function (answer) {\n\n            answer.classList.add('quiz__question-answer_selected');\n\n            UI_.questionElems.options.map(function (current) {\n\n                current.removeEventListener('click', gameProcessing_.getUserAnswer);\n\n            });\n\n            UI_.questionElems.nextButton.disabled = false;\n\n            if (currentQuestion < numberOfQuestions  - 1) {\n\n                UI_.questionElems.nextButton.addEventListener('click', UI_.showQuestion);\n\n            } else {\n\n                UI_.questionElems.nextButton.addEventListener('click', UI_.showResult);\n\n            }\n\n            UI_.showAnswer(answer);\n\n            currentQuestion++;\n\n        },\n        /**\n         * Добавляем стили и выводим сообщение для выбранного варианта ответа\n         * Открываем доступ к следующему вопросу\n         *\n         * @param {Element} answer - DOM-элемент выбранного ответа\n         */\n        showAnswer: function (answer) {\n\n            var answerStyle = answer.dataset.score > 0 ? '_right' :  '_wrong',\n                answerIndex = answer.dataset.index;\n\n            answer.classList.add('quiz__question-answer' + answerStyle);\n\n            var answerMessage = UI_.createElem('div', 'quiz__answer-message');\n\n            answerMessage.textContent = UI_.currentQuestionObj.answers[answerIndex].message;\n\n            UI_.insertAfter(answerMessage, answer);\n\n            if (answer.dataset.score == 0) {\n\n                UI_.showCorrectAnswers();\n\n            }\n\n        },\n\n        showCorrectAnswers: function () {\n\n            UI_.questionElems.options.map(function (answer) {\n\n                if (answer.dataset.score > 0) {\n\n                    answer.classList.add('quiz__question-answer_right');\n\n                } else {\n\n                    answer.classList.add('quiz__question-answer_wrong');\n\n                }\n\n            });\n\n        },\n\n        showResult: function () {\n\n            var result =  score + '/' + maxScore;\n\n            UI_.questionElems.nextButton.removeEventListener('click', UI_.showResult);\n\n            UI_.clear();\n\n            var resultScore = UI_.createElem('div', 'quiz__result-score');\n\n            resultScore.textContent = result;\n\n            var resultMessage = UI_.createElem('div', 'quiz__result-message');\n\n            resultMessage.textContent = gameProcessing_.getMessage();\n\n            var social = UI_.createElem('div', 'quiz__sharing');\n\n            UI_.createSocial(social, result);\n\n            var retry = UI_.createElem('div', 'quiz__retry-button');\n\n            retry.textContent = 'Пройти еще раз';\n            retry.addEventListener('click', init.bind(null, quizData, UI_.holder.id));\n\n            UI_.append([resultScore, resultMessage, social, retry]);\n\n            codex.sharer.init();\n\n        },\n\n        /**\n         * Создаем кнопки социальных сетей и добавляем их в holder\n         *\n         * @param {Element} holder\n         */\n        createSocial: function (holder, result) {\n\n            var networks = [\n                {\n                    title: 'Share on the VK',\n                    shareType: 'vkontakte',\n                    class: 'vk',\n                    icon: 'icon-vkontakte'\n                },\n                {\n                    title: 'Share on the Facebook',\n                    shareType: 'facebook',\n                    class: 'fb',\n                    icon: 'icon-facebook-squared'\n                },\n                {\n                    title: 'Tweet',\n                    shareType: 'twitter',\n                    class: 'tw',\n                    icon: 'icon-twitter'\n                },\n                {\n                    title: 'Forward in Telegramm',\n                    shareType: 'telegram',\n                    class: 'tg',\n                    icon: 'icon-paper-plane'\n                }\n            ];\n\n            networks.map(function (current) {\n\n                var button = UI_.createElem('span', ['but', current.class]),\n                    icon   = UI_.createElem('i', current.icon),\n                    shareMessage = null;\n\n                button.dataset.shareType = current.shareType;\n                button.setAttribute('title', current.title);\n\n                if (quizData.shareMessage) {\n\n                    shareMessage =  quizData.shareMessage.replace('$score', result);\n\n                }\n\n                shareMessage = shareMessage || 'Я набрал ' + result + ' в ' + (quizData.title || 'тесте от команды CodeX');\n\n                button.dataset.url      = window.location.href;\n                button.dataset.title    = shareMessage;\n                button.dataset.desc     = quizData.description || '';\n\n                UI_.append(icon, button);\n                UI_.append(button, holder);\n\n            });\n\n        },\n\n        /**\n         * Создаем i-й вариант ответа и выводим в UI_.questionElems.optionsHolder\n         * И добавляем в UI_.questionElems.options\n         *\n         * @param {Object} answer - объект варианта ответа\n         * @param {int} i - его номер в вопросе\n         */\n        createOption: function (answer, i) {\n\n            var answerObj = UI_.createElem('div', 'quiz__question-answer');\n\n            answerObj.dataset.score = answer.score;\n            answerObj.dataset.index = i;\n            answerObj.textContent = answer.text;\n\n            // Вешаем слушатель на вариант ответа\n            answerObj.addEventListener('click', gameProcessing_.getUserAnswer);\n\n            UI_.questionElems.options.push(answerObj);\n\n            UI_.append(answerObj, UI_.questionElems.optionsHolder);\n\n        },\n\n        /**\n         * Создает новый DOM-элемент с набором переданных классов\n         *\n         * @param {string} tag - имя тега\n         * @param {string|Array} classes - имя или массив имен классов\n         * @returns {Element}\n         */\n        createElem: function (tag, classes) {\n\n            var elem = document.createElement(tag);\n\n            if (!classes) {\n\n                return elem;\n\n            }\n\n            if (classes instanceof Array) {\n\n                for (var i in classes) {\n\n                    elem.classList.add(classes[i]);\n\n                }\n\n            } else {\n\n                elem.classList.add(classes);\n\n            }\n\n            return elem;\n\n        },\n\n        /**\n         * Добавляет элементы в переданный элемент\n         *\n         * @param {Element|Array} elems - элемент или массив элементов\n         * @param {Element|null} parent - родитель или UI_.holder, если передан NULL\n         */\n        append: function (elems, parent) {\n\n            parent = parent || UI_.holder;\n\n            if (!(elems instanceof Element)) {\n\n                for (var i in elems) {\n\n                    if (elems[i] instanceof Element) {\n\n                        parent.appendChild(elems[i]);\n\n                    }\n\n                }\n\n            } else {\n\n                parent.appendChild(elems);\n\n            }\n\n        },\n\n\n        /**\n         * Вставляет элемент после переданного элемента\n         *\n         * @param {Element} elem\n         * @param {Element} elemBefore\n         */\n        insertAfter: function (elem, elemBefore) {\n\n            if (elemBefore.nextSibling) {\n\n                UI_.questionElems.optionsHolder.insertBefore(elem, elemBefore.nextSibling);\n\n            } else {\n\n                UI_.append(elem, elemBefore.parentNode);\n\n            }\n\n        },\n\n        /**\n         * Удалаяет все дочерние элементы элемента parent\n         *\n         * @param {Element} parent\n         */\n        clear: function (parent) {\n\n            parent = parent || UI_.holder;\n\n            while (parent.firstChild) {\n\n                parent.removeChild(parent.firstChild);\n\n            }\n\n        }\n\n    };\n\n    var gameProcessing_ = {\n\n        prepare: function () {\n\n            maxScore = 0;\n\n            quizData.questions.map(function (question) {\n\n                question.answers.map(function (answer) {\n\n                    maxScore += parseFloat(answer.score);\n\n                });\n\n            });\n\n        },\n\n        /**\n         * Добавляет баллы за ответ\n         *\n         * @param {Object} e - объект события клика по варианту ответа\n         */\n        getUserAnswer: function (e) {\n\n            var answer = e.currentTarget;\n\n            score += parseFloat(answer.dataset.score);\n\n            UI_.answerSelected(answer);\n\n        },\n\n        /**\n         * Получает сообщение о результате для набранного количества баллов\n         *\n         * @returns {string} message\n         */\n        getMessage: function () {\n\n            var messages = quizData.resultMessages,\n                message;\n\n            messages.sort(function (a, b) {\n\n                return a['score'] - b['score'];\n\n            });\n\n            if (!messages.length) {\n\n                return;\n\n            }\n\n            for (var i in messages) {\n\n                if (score < messages[i]['score']) {\n\n                    break;\n\n                }\n\n                message = messages[i]['message'];\n\n            }\n\n            return message;\n\n        }\n\n    };\n\n    return {\n        init: init\n    };\n\n})();\n","/**\n* Quiz form client handler\n* Author: @ndawn\n* Date: 09/12/16\n*/\n\nmodule.exports = (function (quiz) {\n\n    /**\n    * Quiz form\n    * @var {null} quiz.form - form DOM element\n    */\n    quiz.form = null;\n\n\n    /**\n    * Nodes list\n    * @var {object} quiz.nodes - dict of DOM elements of questions and result messages\n    */\n    quiz.nodes = {\n        'title': null,\n        'description': null,\n        'questions': [],\n        'resultMessages': [],\n        'shareMessage': null\n    };\n\n\n    /**\n    * Question insert button and anchor for new questions\n    * @var {Element} quiz.questionInsertAnchor - DOM element of question insert anchor\n    * @var {Element} quiz.questionInsertButton - DOM element of question insert button\n    */\n    quiz.questionInsertAnchor = null;\n    quiz.questionInsertButton = null;\n\n\n    /**\n    * Result message insert button and anchor for new resultMessages\n    * @var {Element} quiz.resultMessageInsertAnchor - DOM element of result message insert anchor\n    * @var {Element} quiz.resultMessageInsertButton - DOM element of result message insert button\n    */\n    quiz.resultMessageInsertAnchor = null;\n    quiz.resultMessageInsertButton = null;\n\n\n    /**\n    * Result messages holder element\n    * @var {Element} quiz.resultMessagesHolder - DOM element of result messages holder\n    */\n    quiz.resultMessagesHolder = null;\n\n\n    /**\n    * @private\n    * DOM element creating function\n    * Creates a DOM element with given attributes\n    * @param {string} tag - HTML tag of the element\n    * @param {object} attributes - dictionary with attributes to be added to the element\n    */\n    var newDOMElement_ = function (tag, attributes, text) {\n\n        text = text || '';\n        var element = document.createElement(tag);\n        var textNode = document.createTextNode(text);\n\n        element.appendChild(textNode);\n\n        for (var attr in attributes) {\n\n            var attrNode = document.createAttribute(attr);\n\n            attrNode.value = attributes[attr];\n            element.setAttributeNode(attrNode);\n\n        }\n\n        return element;\n\n    };\n\n\n    /**\n    * @private\n    * Answer block creating function\n    * Creates a couple of DOM elements and appends them to question answers list\n    * @param {number} questionIndex - index of question which answer to be appended to\n    */\n    var appendAnswerBlock_ = function (questionIndex, answerData) {\n\n        var answer = {};\n        var question = quiz.nodes.questions[questionIndex];\n        var objectIndex = question.answers.length;\n\n        answerData = answerData || {};\n\n        answer.holder = newDOMElement_('tr', {\n            'class': 'quiz-form__question-answer-holder',\n            'data-question-index': questionIndex,\n            'data-object-index': objectIndex\n        });\n\n        answer.textColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-text-column'\n        });\n\n        answer.text = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-answer-text',\n            'value': answerData.text || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.scoreColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-score-column'\n        });\n\n        answer.score = newDOMElement_('input', {\n            'type': 'number',\n            'min': '0',\n            'step': '1',\n            'value': answerData.score || '0',\n            'class': 'quiz-form__question-answer-score',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.messageColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-message-column'\n        });\n\n        answer.message = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-answer-message',\n            'value': answerData.message || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        answer.destroyButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-answer-destroy-button-column'\n        });\n\n        answer.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-answer-destroy-button'\n        });\n\n        answer.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        answer.textColumn.appendChild(answer.text);\n        answer.scoreColumn.appendChild(answer.score);\n        answer.messageColumn.appendChild(answer.message);\n\n        answer.destroyButton.appendChild(answer.destroyButtonCross);\n\n        answer.destroyButtonColumn.appendChild(answer.destroyButton);\n\n        answer.holder.appendChild(answer.textColumn);\n        answer.holder.appendChild(answer.scoreColumn);\n        answer.holder.appendChild(answer.messageColumn);\n        answer.holder.appendChild(answer.destroyButtonColumn);\n\n        question.answers.push(answer);\n\n        insertDOMElement_(answer);\n\n        updateDestroyIcons_(question.answers);\n\n    };\n\n\n    /**\n    * @private\n    * Question element creating function\n    * Creates a question JS object with DOM elements in it and appends it to the questions list\n    */\n    var appendQuestionBlock_ = function (questionData) {\n\n        var question = {};\n        var objectIndex = quiz.nodes.questions.length;\n\n        questionData = questionData || {};\n\n        question.holder = newDOMElement_('div', {\n            'class': 'quiz-form__question-holder',\n            'data-object-index': objectIndex\n        });\n\n        question.number = newDOMElement_('label', {\n            'class': 'quiz-form__question-number'\n        }, 'Вопрос ' + (objectIndex + 1));\n\n        question.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-destroy-button'\n        });\n\n        question.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        question.titleLabel = newDOMElement_('label', {\n            'class': 'quiz-form__label quiz-form__question-title-label'\n        }, 'Заголовок вопроса');\n\n        question.title = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__question-title',\n            'value': questionData.title || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        question.answers = [];\n\n        question.answersHolder = newDOMElement_('table', {\n            'class': 'quiz-form__question-answers-holder'\n        });\n\n        question.answersHead = newDOMElement_('thead', {\n            'class': 'quiz-form__question-answers-head'\n        });\n\n        question.answersLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-answers-label'\n        }, 'Ответы');\n\n        question.scoresLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-scores-label'\n        }, 'Баллы');\n\n        question.messagesLabel = newDOMElement_('th', {\n            'class': 'quiz-form__label quiz-form__question-messages-label'\n        }, 'Комментарии к ответам');\n\n        question.destroyButtonLabel = newDOMElement_('th', {\n            'class': 'quiz-form__question-destroy-buttons-label'\n        });\n\n        question.addAnswerButtonRow = newDOMElement_('tr', {\n            'class': 'quiz-form__question-add-answer-button-row'\n        });\n\n        question.addAnswerButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__question-add-answer-button-column'\n        });\n\n        question.addAnswerButton = newDOMElement_('span', {\n            'class': 'quiz-form__question-add-answer-button'\n        }, 'Добавить ответ');\n\n        question.addAnswerButtonPlus = newDOMElement_('img', {\n            'class': 'quiz-form__button-plus',\n            'src': '/public/app/img/quizzes/plus.svg'\n        });\n\n        question.holder.appendChild(question.number);\n\n        question.destroyButton.appendChild(question.destroyButtonCross);\n\n        question.holder.appendChild(question.destroyButton);\n        question.holder.appendChild(question.titleLabel);\n        question.holder.appendChild(question.title);\n\n        question.answersHead.appendChild(question.answersLabel);\n        question.answersHead.appendChild(question.scoresLabel);\n        question.answersHead.appendChild(question.messagesLabel);\n        question.answersHead.appendChild(question.destroyButtonLabel);\n\n        question.answersHolder.appendChild(question.answersHead);\n\n        question.addAnswerButton.insertBefore(\n            question.addAnswerButtonPlus,\n            question.addAnswerButton.firstChild\n        );\n\n        question.addAnswerButtonColumn.appendChild(question.addAnswerButton);\n\n        question.addAnswerButtonRow.appendChild(question.addAnswerButtonColumn);\n\n        question.answersHolder.appendChild(question.addAnswerButtonRow);\n\n        question.holder.appendChild(question.answersHolder);\n\n        quiz.nodes.questions.push(question);\n\n        if (questionData.answers) {\n\n            questionData.answers.map(function (current) {\n\n                appendAnswerBlock_(objectIndex, current);\n\n            });\n\n        } else {\n\n            appendAnswerBlock_(objectIndex);\n            appendAnswerBlock_(objectIndex);\n            appendAnswerBlock_(objectIndex);\n\n        }\n\n        insertDOMElement_(question);\n\n        updateDestroyIcons_(quiz.nodes.questions);\n\n    };\n\n\n    /**\n    * @private\n    * Message block creating function\n    * Creates a result message DOM element and appends it to the result messages list\n    */\n    var appendResultMessageBlock_ = function (messageData) {\n\n        var message = {};\n        var objectIndex = quiz.nodes.resultMessages.length;\n\n        messageData = messageData || {};\n\n        message.holder = newDOMElement_('tr', {\n            'class': 'quiz-form__message-holder',\n            'data-object-index': objectIndex\n        });\n\n        message.messageColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-message-column'\n        });\n\n        message.message = newDOMElement_('input', {\n            'type': 'text',\n            'class': 'quiz-form__message-message',\n            'value': messageData.message || '',\n            'required': '',\n            'form': 'null'\n        });\n\n        message.scoreColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-score-column'\n        });\n\n        message.score = newDOMElement_('input', {\n            'type': 'number',\n            'min': '0',\n            'step': '1',\n            'value': messageData.score || '0',\n            'class': 'quiz-form__message-score',\n            'required': '',\n            'form': 'null'\n        });\n\n        message.destroyButtonColumn = newDOMElement_('td', {\n            'class': 'quiz-form__message-destroy-button-column'\n        });\n\n        message.destroyButton = newDOMElement_('span', {\n            'class': 'quiz-form__message-destroy-button'\n        });\n\n        message.destroyButtonCross = newDOMElement_('img', {\n            'class': 'quiz-form__button-cross',\n            'src': '/public/app/img/quizzes/cross.svg'\n        });\n\n        message.messageColumn.appendChild(message.message);\n        message.scoreColumn.appendChild(message.score);\n\n        message.destroyButton.appendChild(message.destroyButtonCross);\n\n        message.destroyButtonColumn.appendChild(message.destroyButton);\n\n        message.holder.appendChild(message.messageColumn);\n        message.holder.appendChild(message.scoreColumn);\n        message.holder.appendChild(message.destroyButtonColumn);\n\n        quiz.nodes.resultMessages.push(message);\n\n        insertDOMElement_(message);\n\n        updateDestroyIcons_(quiz.nodes.resultMessages);\n\n    };\n\n\n    /**\n    * @private\n    * Object shifting function\n    * Sets numbers in the question with child elements to given index\n    * @param {object} obj - object in which numbers to be set\n    * @param {number} index - index to which child elements' attributes to be set\n    */\n    var setObjectNumber_ = function (obj, numberTo) {\n\n        obj.holder.dataset.objectIndex = numberTo - 1;\n\n        if (obj.number) {\n\n            obj.number.textContent = 'Вопрос ' + numberTo;\n\n        }\n\n    };\n\n\n    /**\n    * @private\n    * Updating destroy icons function\n    * Disables or enables destroy icon for the only element in container\n    * @param {object} container - object in which icon is to be disabled or enabled\n    */\n    var updateDestroyIcons_ = function (container) {\n\n        if (container.length <= 1) {\n\n            container[0].destroyButton.style.display = 'none';\n\n            if (container[0].firstChild) {\n\n                container[0].firstChild.style.display = 'none';\n\n            }\n\n        } else {\n\n            container[0].destroyButton.style.display = '';\n\n            if (container[0].firstChild) {\n\n                container[0].firstChild.style.display = '';\n\n            }\n\n        }\n\n    };\n\n\n    /**\n    * @private\n    * DOM element inserting function\n    * Inserts DOM element to DOM\n    * @param {object} obj - object in which DOM element to be inserted\n    */\n    var insertDOMElement_ = function (obj) {\n\n        var before;\n        var parent;\n\n        if (obj.answers) {\n\n            before = quiz.questionInsertAnchor;\n            parent = quiz.form;\n\n        } else if (obj.text) {\n\n            before = quiz.nodes.questions[parseInt(obj.holder.dataset.questionIndex)].addAnswerButtonRow;\n            parent = quiz.nodes.questions[parseInt(obj.holder.dataset.questionIndex)].answersHolder;\n\n        } else {\n\n            before = quiz.resultMessageInsertAnchor;\n            parent = quiz.resultMessagesHolder;\n\n        }\n\n        parent.insertBefore(obj.holder, before);\n\n    };\n\n\n    /**\n    * @private\n    * Element object destroying function\n    * Removes the DOM element of object from DOM and destroys object itself\n    * @param {object} container - list where object is to be destroyed\n    * @param {number} elementIndex - index of object in list\n    */\n    var destroyObject_ = function (container, elementIndex) {\n\n        container[elementIndex].holder.parentNode.removeChild(container[elementIndex].holder);\n\n        container.splice(elementIndex, 1);\n        for (var i = elementIndex; i < container.length; i++) {\n\n            setObjectNumber_(container[i], i + 1);\n\n        }\n\n        updateDestroyIcons_(container);\n\n    };\n\n\n    /**\n    * @private\n    * Event listeners setting function\n    * Set event listeners for insert and destroy buttons and form submission\n    */\n    var setEventListeners_ = function () {\n\n        quiz.form.onsubmit = function (event) {\n\n            event.preventDefault();\n\n            var json = {\n                'title': quiz.form.querySelector('[name=\"title\"]').value,\n                'description': quiz.form.querySelector('[name=\"description\"]').value,\n                'questions': [],\n                'resultMessages': [],\n                'shareMessage': quiz.form.querySelector('[name=\"shareMessage\"]').value\n            };\n\n            for (var i in quiz.nodes.questions) {\n\n                var jsonQuestion = {};\n\n                jsonQuestion.title = quiz.nodes.questions[i].title.value;\n                jsonQuestion.answers = [];\n\n                for (var j in quiz.nodes.questions[i].answers) {\n\n                    var jsonAnswer = {};\n\n                    jsonAnswer.text = quiz.nodes.questions[i].answers[j].text.value;\n                    jsonAnswer.score = quiz.nodes.questions[i].answers[j].score.value;\n                    jsonAnswer.message = quiz.nodes.questions[i].answers[j].message.value;\n\n                    jsonQuestion.answers.push(jsonAnswer);\n\n                }\n\n                json.questions.push(jsonQuestion);\n\n            }\n\n            for (var i in quiz.nodes.resultMessages) {\n\n                var jsonMessage = {};\n\n                jsonMessage.score = quiz.nodes.resultMessages[i].score.value;\n                jsonMessage.message = quiz.nodes.resultMessages[i].message.value;\n\n                json.resultMessages.push(jsonMessage);\n\n            };\n\n            quiz.form.appendChild(newDOMElement_('input', {\n                'type': 'hidden',\n                'name': 'quiz_data',\n                'value': JSON.stringify(json)\n            }));\n\n            quiz.form.submit();\n\n        };\n\n        quiz.questionInsertButton.onclick = function () {\n\n            appendQuestionBlock_();\n\n        };\n\n        quiz.resultMessageInsertButton.onclick = function () {\n\n            appendResultMessageBlock_();\n\n        };\n\n\n        quiz.form.onclick = function (event) {\n\n            var container;\n            var elementIndex;\n\n            if (event.target.classList.contains('quiz-form__question-destroy-button')) {\n\n                container = quiz.nodes.questions;\n                elementIndex = parseInt(event.target.parentNode.dataset.objectIndex);\n\n            } else if (event.target.parentNode.classList.contains('quiz-form__question-destroy-button')) {\n\n                container = quiz.nodes.questions;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__question-answer-destroy-button')) {\n\n                container = quiz.nodes.questions[\n                    parseInt(event.target.parentNode.parentNode.dataset.questionIndex)\n                ].answers;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.parentNode.classList.contains('quiz-form__question-answer-destroy-button')) {\n\n                container = quiz.nodes.questions[\n                    parseInt(event.target.parentNode.parentNode.parentNode.dataset.questionIndex)\n                ].answers;\n                elementIndex = parseInt(event.target.parentNode.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__message-destroy-button')) {\n\n                container = quiz.nodes.resultMessages;\n                elementIndex = parseInt(event.target.parentNode.parentNode.dataset.objectIndex);\n\n            } else if (event.target.classList.contains('quiz-form__question-add-answer-button')) {\n\n                container = null;\n                elementIndex = parseInt(event.target.parentNode.parentNode.parentNode.parentNode.dataset.objectIndex);\n\n            }\n\n            if (container === null) {\n\n                appendAnswerBlock_(elementIndex);\n\n            } else if (container !== undefined) {\n\n                destroyObject_(container, elementIndex);\n\n            }\n\n        };\n\n    };\n\n\n    /**\n    * @private\n    * First result message adding function\n    * Inserts result message with number 1 to the form\n    */\n    var addInitialResultMessage_ = function () {\n\n        appendResultMessageBlock_();\n\n    };\n\n\n    /**\n    * @private\n    * First question adding function\n    * Inserts question with number 1 to the form\n    */\n    var addInitialQuestion_ = function () {\n\n        appendQuestionBlock_();\n\n    };\n\n\n    /**\n    * @private\n    * Initial form parameters setting adding function\n    * Sets form variable and insert buttons\n    */\n    var setInitialFormParams_ = function () {\n\n        quiz.form = document.forms.quizForm;\n        quiz.questionInsertAnchor = document.getElementById('questionInsertAnchor');\n        quiz.questionInsertButton = document.getElementById('questionInsertButton');\n        quiz.resultMessageInsertAnchor = document.getElementById('resultMessageInsertAnchor');\n        quiz.resultMessageInsertButton = document.getElementById('resultMessageInsertButton');\n        quiz.resultMessagesHolder = document.getElementById('resultMessagesHolder');\n\n    };\n\n\n    /**\n    * @private\n    * Initial destroy icons updating function\n    * Updates initially placed destroy icons\n    */\n    var updateInitialDestroyIcons_ = function () {\n\n        updateDestroyIcons_(quiz.nodes.questions);\n        updateDestroyIcons_(quiz.nodes.resultMessages);\n        updateDestroyIcons_(quiz.nodes.questions[0].answers);\n\n    };\n\n\n    var render = function (quizData) {\n\n        var questions = quizData.questions,\n            resultMessages = quizData.resultMessages;\n\n        document.querySelector('[name=\"title\"]').value = quizData.title;\n        document.querySelector('textarea[name=\"description\"]').textContent = quizData.description;\n        document.querySelector('[name=\"shareMessage\"]').value = quizData.shareMessage;\n\n        setInitialFormParams_();\n\n        resultMessages.map(function (current) {\n\n            appendResultMessageBlock_(current);\n\n        });\n\n        questions.map(function (current) {\n\n            appendQuestionBlock_(current);\n\n        });\n\n        setEventListeners_();\n\n        updateInitialDestroyIcons_();\n\n    };\n\n\n    /**\n     * @public\n     * Initialization function\n     * Initializes quiz form: inserts initial DOM elements, sets initial event listeners, etc\n     */\n    quiz.init = function (quizData) {\n\n        if (quizData) {\n\n            render(quizData);\n            return;\n\n        }\n\n        setInitialFormParams_();\n        addInitialQuestion_();\n        addInitialResultMessage_();\n        setEventListeners_();\n        updateInitialDestroyIcons_();\n\n    };\n\n    return quiz;\n\n})({});\n","/**\n* Module for scroll-up button\n*/\nmodule.exports = function () {\n\n    /**\n    * Page scroll offset to show scroll-up button\n    */\n    var SCROLL_UP_OFFSET = 100,\n        button = null;\n\n    var scrollPage = function () {\n\n        window.scrollTo(0, 0);\n\n    };\n\n    var windowScrollHandler = function () {\n\n        if (window.pageYOffset > SCROLL_UP_OFFSET) {\n\n            button.classList.add('show');\n\n        } else {\n\n            button.classList.remove('show');\n\n        }\n\n    };\n\n    /**\n    * Init method\n    * Fired after document is ready\n    */\n\n    var init = function () {\n\n        /** Find scroll-up button */\n        button = document.createElement('DIV');\n\n        button.classList.add('scroll-up');\n        document.body.appendChild(button);\n\n        /** Bind click event on scroll-up button */\n        button.addEventListener('click', scrollPage);\n\n        /** Global window scroll handler */\n        window.addEventListener('scroll', windowScrollHandler);\n\n    };\n\n    return {\n        init : init\n    };\n\n\n}();\n","/**\n * Module for social sharing\n */\nmodule.exports = (function ( sharer ) {\n\n    /**\n     * @param  {Object} data - Info about item we want to share\n     */\n    sharer.vkontakte = function (data) {\n\n        var link  = 'https://vk.com/share.php?';\n\n        link += 'url='          + data.url;\n        link += '&title='       + data.title;\n        link += '&description=' + data.desc;\n        link += '&image='       + data.img;\n        link += '&noparse=true';\n\n        sharer.popup( link, 'vkontakte'  );\n\n    };\n\n    sharer.facebook = function (data) {\n\n        var FB_APP_ID = 1740455756240878,\n            link      = 'https://www.facebook.com/dialog/share?display=popup';\n\n        link += '&app_id='       + FB_APP_ID;\n        link += '&href='         + data.url;\n        link += '&redirect_uri=' + document.location.href;\n\n        sharer.popup( link, 'facebook' );\n\n    };\n    sharer.twitter = function (data) {\n\n        var link = 'https://twitter.com/share?';\n\n        link += 'text='      + data.title;\n        link += '&url='      + data.url;\n        link += '&counturl=' + data.url;\n\n        sharer.popup( link, 'twitter' );\n\n    };\n\n    sharer.telegram = function (data) {\n\n        var link  = 'https://telegram.me/share/url';\n\n        link += '?text=' + data.title;\n        link += '&url='  + data.url;\n\n        sharer.popup( link, 'telegram' );\n\n    };\n    /**\n     * @param  {String} url\n     * @param  {String} socialType\n     */\n    sharer.popup = function ( url, socialType ) {\n\n        window.open( url, '', 'toolbar=0,status=0,width=626,height=436' );\n\n        /**\n        * Write analytics goal\n        */\n        if ( window.yaCounter32652805 ) {\n\n            window.yaCounter32652805.reachGoal('article-share', function () {}, this, {type: socialType, url: url});\n\n        }\n\n    };\n\n    /**\n     * Init sharer\n     * @param  {String} buttonsSelector  - on wich elements should bind sharing\n     */\n    sharer.init = function (buttonsSelector) {\n\n        console.assert(buttonsSelector, 'Sharer: buttons selector is missed');\n\n        var shareButtons = document.querySelectorAll(buttonsSelector);\n\n        for (var i = shareButtons.length - 1; i >= 0; i--) {\n\n            shareButtons[i].addEventListener('click', sharer.click, true);\n\n        }\n\n    };\n    /**\n     * @param  {Event} event\n     */\n    sharer.click = function (event) {\n\n        var target = event.target;\n\n        /**\n        * Social provider stores in data 'shareType' attribute on share-button\n        * But click may be fired on child-element in button, so we need to handle it.\n        */\n        var type = target.dataset.shareType || target.parentNode.dataset.shareType;\n\n        if (!sharer[type]) return;\n\n        /**\n        * Sanitize share params\n        * @todo test for taint strings\n        */\n        // for (key in window.shareData){\n        //      window.shareData[key] = encodeURIComponent(window.shareData[key]);\n        // }\n\n        var shareData = {\n            url:    target.dataset.url || target.parentNode.dataset.url,\n            title:  target.dataset.title || target.parentNode.dataset.title,\n            desc:   target.dataset.desc || target.parentNode.dataset.desc,\n            img:    target.dataset.img || target.parentNode.dataset.title\n        };\n\n        /**\n        * Fire click handler\n        */\n\n        sharer[type](shareData);\n\n    };\n\n\n\n    return sharer;\n\n})({});\n","/**\n * codex.showMoreNews module\n * Used in news block\n * Reveals more news when appender button is fired\n * Usage onclick=\"codex.showMoreNews.init( this );\"\n */\nvar showMoreNews = function () {\n\n    /**\n     * Helper for 'show more news' button\n     * @param {Element} button   - appender button\n     */\n    var init = function ( button ) {\n\n        var PORTION = 5; // Amount of news shown each time appender button is fired\n\n        var news = document.querySelectorAll('.news__list_item'),\n            hided = [];\n\n        for (var i = 0, newsItem; !!(newsItem = news[i]); i++) {\n\n            if ( newsItem.classList.contains('news__list_item--hidden') ) {\n\n                hided.push(newsItem);\n\n            }\n\n        }\n\n        /**\n         * @param {Element} item\n         * Remove PORTION of first elements from array hided\n         */\n        hided.splice(0, PORTION).map(function (item) {\n\n            item.classList.remove('news__list_item--hidden');\n\n        });\n\n        if (!hided.length) {\n\n            button.classList.add('news__list_item--hidden');\n\n        }\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = showMoreNews;\n","/**\n* Ajax file transport module\n* @author Savchenko Peter (vk.com/specc)\n* @param {Object} transport\n*/\nmodule.exports = (function (transport) {\n\n    transport.currentButtonClicked = {};\n\n    /**\n     * @param {Element} buttons\n     */\n    transport.init = function (buttons) {\n\n        transport.form  = document.getElementById('transportForm');\n        transport.input = document.getElementById('transportInput');\n\n        for (var i = buttons.length - 1; i >= 0; i--) {\n\n            buttons[i].addEventListener('click', transport.buttonCallback, false);\n\n        }\n\n        transport.input.addEventListener('change', transport.submitCallback, false );\n\n    };\n\n    /**\n     * @param {Event} event\n     */\n    transport.buttonCallback = function () {\n\n        var action       = this.dataset.action,\n            targetId     = this.dataset.id,\n            isMultiple   = !!this.dataset.multiple || false;\n\n        transport.fillForm({\n            action : action,\n            id     : targetId\n        });\n\n        if ( isMultiple ) {\n\n            transport.form.multiple = 'multiple';\n\n        }\n\n        transport.currentButtonClicked = this;\n        transport.input.click();\n\n    };\n\n    /**\n    * Append hidden inputs to tranport form\n    * @param {Object} data\n    */\n    transport.fillForm = function (data) {\n\n        var input,\n            alreadyAddedInput;\n\n        for ( var field in data ) {\n\n            if (typeof data[field] == 'undefined') {\n\n                continue;\n\n            }\n\n            alreadyAddedInput = transport.form.querySelector('input[name=' + field + ']');\n\n            if (typeof alreadyAddedInput != 'undefined' && alreadyAddedInput !== null) {\n\n                input = alreadyAddedInput;\n\n            } else {\n\n                input = document.createElement('input');\n\n            }\n\n            input.type = 'hidden';\n            input.name = field;\n            input.value = data[field];\n\n            transport.form.appendChild(input);\n\n        }\n\n    };\n\n    transport.submitCallback = function () {\n\n        const FILE_MAX_SIZE = 30 * 1024 * 1024; // 30 MB\n\n        var files = transport.getFileObject( this );\n\n        for (var i = files.length - 1; i >= 0; i--) {\n\n            /** Validate file extension */\n            if ( !transport.validateExtension(files[i]) || !transport.validateMIME(files[i]) ) {\n\n                window.console && console.warn('Wrong file type: %o', + files[i].name);\n                return;\n\n            }\n\n            /** Validate file size */\n            if ( !transport.validateSize( files[i], FILE_MAX_SIZE) ) {\n\n                window.console && console.warn('File size exceeded limit: %o MB', files[i].size / (1024*1024).toFixed(2) );\n                return;\n\n            }\n\n        }\n\n        transport.currentButtonClicked.className += ' loading';\n        transport.form.submit();\n\n    };\n\n    /**\n    * Fires from transport-frame window\n    * @param {Object} response\n    */\n    transport.response = function ( response ) {\n\n        transport.currentButtonClicked.className = transport.currentButtonClicked.className.replace('loading', '');\n\n        if (response.callback) {\n\n            eval(response.callback);\n\n        }\n\n        if ( response.result ) {\n\n            if ( response.result == 'error' ) {\n\n                window.console && console.warn( response.error_description || 'error' );\n\n            }\n\n        }\n\n    };\n    /**\n     * @param  {[Element]} fileInput\n     * @return {[type]}           [description]\n     */\n    transport.getFileObject = function ( fileInput ) {\n\n        if ( !fileInput ) return false;\n        /**\n        * Workaround with IE that doesn't support File API\n        * @todo test and delete this crutch\n        */\n        return typeof ActiveXObject == 'function' ? (new ActiveXObject('Scripting.FileSystemObject')).getFile(fileInput.value) : fileInput.files;\n\n    };\n\n    /**\n     * @param {Object} accept\n     * @param {Object} fileObj\n     * @return {Boolean}\n     */\n    transport.validateMIME = function ( fileObj, accept ) {\n\n\n        accept = typeof accept == 'array' ? accept : ['image/jpeg', 'image/png'];\n\n        for (var i = accept.length - 1; i >= 0; i--) {\n\n            if ( fileObj.type == accept[i] ) return true;\n\n        }\n        return false;\n\n    };\n\n    transport.validateExtension = function ( fileObj, accept ) {\n\n        var ext = fileObj.name.match(/\\.(\\w+)($|#|\\?)/);\n\n        if (!ext) return false;\n\n        ext = ext[1].toLowerCase();\n\n        accept = typeof accept == 'array' ? accept : ['jpg', 'jpeg', 'png'];\n\n        for (var i = accept.length - 1; i >= 0; i--) {\n\n            if ( ext == accept[i] ) return true;\n\n        }\n\n        return false;\n\n    };\n\n    transport.validateSize = function ( fileObj, maxSize ) {\n\n        return fileObj.size < maxSize;\n\n    };\n\n    return transport;\n\n})({});\n","/**\n * Module for VK community widget: https://vk.com/dev/Community\n * Adds vkWidget to page\n */\nvar vkWidget = function () {\n\n    var targetId, targetView, communityId,\n        VK_API_URI = 'https://vk.com/js/api/openapi.js';\n\n    /**\n     * Initialization of module\n     *\n     * @param  {[Object]} params\n     * @param {int} params.id - element id, where widget is appended\n     * @param {int} params.display.mode - widget appearance (\"3\" - show people in the community)\n     * @param {int|string} params.display.width - set widget width to a fixed number or auto\n     * @param {int} params.communityId - id of VK community\n     *\n     * @example\n     * vkWidget.init({\n     *   id: 'vk_groups',\n     *   display: {\n     *       'mode': 3,\n     *       'width': 'auto'\n     *   },\n     *   communityId: 103229636\n     * });\n     */\n    var init = function (params) {\n\n        targetId = params.id || null,\n        targetView = params.display || { 'mode': 3, 'width': 'auto' },\n        communityId = params.communityId || 0;\n\n        if (document.getElementById(targetId) == undefined) {\n\n            console.log('Cannot find element with id '+ targetId);\n            return;\n\n        };\n\n        loadScript();\n\n    };\n\n    /**\n     * Loads VK Api script to initialize a widget\n     * and appends it to page\n     */\n    var loadScript = function () {\n\n        var vkApiScript = document.createElement('SCRIPT');\n\n        vkApiScript.src = VK_API_URI;\n\n        vkApiScript.setAttribute('async', 'true');\n\n        vkApiScript.onload = showWidget;\n\n        document.body.appendChild(vkApiScript);\n\n    };\n\n    /**\n     * Runs widget initiating from vkApi\n     */\n    var showWidget = function () {\n\n        window.VK.Widgets.Group(targetId, targetView, communityId);\n\n    };\n\n    return {\n        init : init\n    };\n\n}({});\n\nmodule.exports = vkWidget;"],"sourceRoot":""}